"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5426],{6944:(j,F,m)=>{m.d(F,{_$:()=>E,aN:()=>R,cb:()=>f,eu:()=>M,kO:()=>d,wm:()=>y});var C=m(467),I=m(7158);const d=function(){var v=(0,C.A)(function*(e){var s,u;e.params=e.params||{},(0,I.hm)({url:"api/ChargingSession/get-mychargingsessions",params:{PageNumber:null!==(s=e.params.PageNumber)&&void 0!==s?s:1,PageSize:null!==(u=e.params.PageSize)&&void 0!==u?u:10},success:p=>{"function"==typeof e.callback&&e.callback(p.data||null)},error:p=>{var _;"function"==typeof e.callback&&e.callback(null==p||null===(_=p.response)||void 0===_?void 0:_.data),console.error(p)},loading:null==e?void 0:e.loading})});return function(s){return v.apply(this,arguments)}}(),f=function(){var v=(0,C.A)(function*(e){e.params=e.params||{},(0,I.hm)({url:`api/ChargingSession/get-mybyid/${e.params.ChargeSessionId}`,success:s=>{"function"==typeof e.callback&&e.callback(s.data||null)},error:s=>{var u;"function"==typeof e.callback&&e.callback(null==s||null===(u=s.response)||void 0===u?void 0:u.data),console.error(s)},loading:null==e?void 0:e.loading})});return function(s){return v.apply(this,arguments)}}(),R=function(){var v=(0,C.A)(function*(e){var s,u,p;e.params=e.params||{},(0,I.Ll)({url:"api/ChargingSession/start-create",params:{StationCode:null!==(s=e.params.StationCode)&&void 0!==s?s:null,ConnectorId:null!==(u=e.params.ConnectorId)&&void 0!==u?u:null,OrderCode:null!==(p=e.params.OrderCode)&&void 0!==p?p:null},success:_=>{"function"==typeof e.callback&&e.callback(_.data||null)},error:_=>{var b;"function"==typeof e.callback&&e.callback(null==_||null===(b=_.response)||void 0===b?void 0:b.data),console.error(_)},loading:null==e?void 0:e.loading})});return function(s){return v.apply(this,arguments)}}(),y=function(){var v=(0,C.A)(function*(e){var s;e.params=e.params||{},(0,I.Ll)({url:"api/ChargingSession/start",params:{ChargeSessionId:null!==(s=e.params.ChargeSessionId)&&void 0!==s?s:null},success:u=>{"function"==typeof e.callback&&e.callback(u.data||null)},error:u=>{var p;"function"==typeof e.callback&&e.callback(null==u||null===(p=u.response)||void 0===p?void 0:p.data),console.error(u)},loading:null==e?void 0:e.loading})});return function(s){return v.apply(this,arguments)}}(),E=function(){var v=(0,C.A)(function*(e){var s;e.params=e.params||{},(0,I.Ll)({url:"api/ChargingSession/stop",params:{ChargeSessionId:null!==(s=e.params.ChargeSessionId)&&void 0!==s?s:null},success:u=>{"function"==typeof e.callback&&e.callback(u.data||null)},error:u=>{var p;"function"==typeof e.callback&&e.callback(null==u||null===(p=u.response)||void 0===p?void 0:p.data),console.error(u)},loading:null==e?void 0:e.loading})});return function(s){return v.apply(this,arguments)}}(),M=function(){var v=(0,C.A)(function*(e){e.params=e.params||{},(0,I.hm)({url:`api/ChargingSession/monitor/${e.params.StationCode}/${e.params.ConnectorId}`,success:s=>{"function"==typeof e.callback&&e.callback(s.data||null)},error:s=>{var u;"function"==typeof e.callback&&e.callback(null==s||null===(u=s.response)||void 0===u?void 0:u.data),console.error(s)},loading:null==e?void 0:e.loading})});return function(s){return v.apply(this,arguments)}}()},5426:(j,F,m)=>{m.r(F),m.d(F,{OrderInfoResultPageModule:()=>q});var C=m(177),I=m(9417),d=m(4488),k=m(2175),f=m(467),R=m(7158);const O=function(){var i=(0,f.A)(function*(r){var a,o,n,t,l,c;r.params=r.params||{},(0,R.Ll)({url:"api/CustomerInvoice/create",params:{IsCompany:null!==(a=r.params.IsCompany)&&void 0!==a?a:null,BuyerName:null!==(o=r.params.BuyerName)&&void 0!==o?o:null,TaxCode:null!==(n=r.params.TaxCode)&&void 0!==n?n:null,CompanyName:null!==(t=r.params.CompanyName)&&void 0!==t?t:null,Address:null!==(l=r.params.Address)&&void 0!==l?l:null,IsDefault:null!==(c=r.params.IsDefault)&&void 0!==c?c:null},success:g=>{"function"==typeof r.callback&&r.callback(g.data||null)},error:g=>{var h;"function"==typeof r.callback&&r.callback(null==g||null===(h=g.response)||void 0===h?void 0:h.data),console.error(g)},loading:null==r?void 0:r.loading})});return function(a){return i.apply(this,arguments)}}(),y=function(){var i=(0,f.A)(function*(r){var a,o;r.params=r.params||{},(0,R.hm)({url:"api/CustomerInvoice/get-customerinvoices",params:{PageNumber:null!==(a=r.params.PageNumber)&&void 0!==a?a:1,PageSize:null!==(o=r.params.PageSize)&&void 0!==o?o:10},success:n=>{"function"==typeof r.callback&&r.callback(n.data||null)},error:n=>{var t;"function"==typeof r.callback&&r.callback(null==n||null===(t=n.response)||void 0===t?void 0:t.data),console.error(n)},loading:null==r?void 0:r.loading})});return function(a){return i.apply(this,arguments)}}(),S=function(){var i=(0,f.A)(function*(r){r.params=r.params||{},(0,R.hm)({url:`api/CustomerInvoice/get/${r.params.CustomerInvoiceId}`,success:a=>{"function"==typeof r.callback&&r.callback(a.data||null)},error:a=>{var o;"function"==typeof r.callback&&r.callback(null==a||null===(o=a.response)||void 0===o?void 0:o.data),console.error(a)},loading:null==r?void 0:r.loading})});return function(a){return i.apply(this,arguments)}}(),E=function(){var i=(0,f.A)(function*(r){var a,o,n,t,l,c,g;r.params=r.params||{},(0,R.IH)({url:"api/CustomerInvoice/update",params:{CustomerInvoiceId:null!==(a=r.params.CustomerInvoiceId)&&void 0!==a?a:null,IsCompany:null!==(o=r.params.IsCompany)&&void 0!==o?o:null,BuyerName:null!==(n=r.params.BuyerName)&&void 0!==n?n:null,TaxCode:null!==(t=r.params.TaxCode)&&void 0!==t?t:null,CompanyName:null!==(l=r.params.CompanyName)&&void 0!==l?l:null,Address:null!==(c=r.params.Address)&&void 0!==c?c:null,IsDefault:null!==(g=r.params.IsDefault)&&void 0!==g?g:null},success:h=>{"function"==typeof r.callback&&r.callback(h.data||null)},error:h=>{var $;"function"==typeof r.callback&&r.callback(null==h||null===($=h.response)||void 0===$?void 0:$.data),console.error(h)},loading:null==r?void 0:r.loading})});return function(a){return i.apply(this,arguments)}}();var v=m(7518),e=m(4438),s=m(4842);let u=(()=>{var i;class r{constructor(o,n,t){this.modalController=o,this.loadingController=n,this.toastController=t,this.customerInvoice={IsCompany:!0},this.loadingController.create({message:""}).then(l=>this.loading=l)}ngOnInit(){this.refreshData()}onIonRefresher(o){this.refreshData(()=>{o.target.complete()})}refreshData(o){this.CustomerInvoiceId?S({loading:n=>{var t,l;n?null===(t=this.loading)||void 0===t||t.present():null===(l=this.loading)||void 0===l||l.dismiss()},params:{CustomerInvoiceId:this.CustomerInvoiceId},callback:n=>{var t;this.response=n,null!=n&&n.Succeeded?this.customerInvoice=null!==(t=n.Data)&&void 0!==t?t:{}:(0,v.cX)(this.toastController,{},n).then(l=>l.present()),o&&o()}}):o&&o()}close(o){var n=this;return(0,f.A)(function*(){n.modalController.dismiss(null,"cancel")})()}submit(o){var n=this;return(0,f.A)(function*(){n.customerInvoice.CustomerInvoiceId?E({loading:t=>{var l,c;t?null===(l=n.loading)||void 0===l||l.present():null===(c=n.loading)||void 0===c||c.dismiss()},params:n.customerInvoice,callback:t=>{n.response=t,null!=t&&t.Succeeded?n.modalController.dismiss(null,"success"):(0,v.cX)(n.toastController,{},t).then(l=>l.present())}}):O({loading:t=>{var l,c;t?null===(l=n.loading)||void 0===l||l.present():null===(c=n.loading)||void 0===c||c.dismiss()},params:n.customerInvoice,callback:t=>{n.response=t,null!=t&&t.Succeeded?n.modalController.dismiss(null,"success"):(0,v.cX)(n.toastController,{},t).then(l=>l.present())}})})()}changeBuyerName(o){var n=this;return(0,f.A)(function*(){n.customerInvoice.BuyerName=o.detail.value})()}changeCompanyName(o){var n=this;return(0,f.A)(function*(){n.customerInvoice.CompanyName=o.detail.value})()}changeAddress(o){var n=this;return(0,f.A)(function*(){n.customerInvoice.Address=o.detail.value})()}changeTaxCode(o){var n=this;return(0,f.A)(function*(){n.customerInvoice.TaxCode=o.detail.value})()}changeIsDefault(o){var n=this;return(0,f.A)(function*(){n.customerInvoice.IsDefault=o.detail.checked})()}}return(i=r).\u0275fac=function(o){return new(o||i)(e.rXU(d.W3),e.rXU(d.Xi),e.rXU(d.K_))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-modal-add-customer-invoice"]],inputs:{CustomerInvoiceId:"CustomerInvoiceId"},decls:57,vars:11,consts:[["slot","end"],["color","dark",3,"click"],["name","close-outline"],[1,"ion-padding"],["slot","fixed",3,"ionRefresh"],["lines","none"],[1,"form-group"],[1,"text-danger"],[1,"ion-item-input-custom"],["placeholder","H\u1ecd v\xe0 t\xean",3,"value","ionChange"],["placeholder","T\xean c\xf4ng ty",3,"value","ionChange"],["placeholder","\u0110\u1ecba ch\u1ec9",3,"value","ionChange"],["placeholder","M\xe3 s\u1ed1 thu\u1ebf",3,"value","ionChange"],["labelPlacement","end","justify","start",3,"checked","ionChange"],[1,"container","py-3"],["mode","md","size","default","expand","full","shape","round",1,"ion-no-margin",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(l){return n.close(l)}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content",3)(9,"ion-refresher",4),e.bIt("ionRefresh",function(l){return n.onIonRefresher(l)}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.j41(11,"ion-list",5)(12,"div",6)(13,"label"),e.EFF(14,"H\u1ecd v\xe0 t\xean "),e.j41(15,"span",7),e.EFF(16,"*"),e.k0s()(),e.j41(17,"div",8)(18,"ion-item")(19,"ion-input",9),e.bIt("ionChange",function(l){return n.changeBuyerName(l)}),e.k0s()()()(),e.j41(20,"div",6)(21,"label"),e.EFF(22,"T\xean c\xf4ng ty "),e.j41(23,"span",7),e.EFF(24,"*"),e.k0s()(),e.j41(25,"div",8)(26,"ion-item")(27,"ion-input",10),e.bIt("ionChange",function(l){return n.changeCompanyName(l)}),e.k0s()()()(),e.j41(28,"div",6)(29,"label"),e.EFF(30,"\u0110\u1ecba ch\u1ec9 "),e.j41(31,"span",7),e.EFF(32,"*"),e.k0s()(),e.j41(33,"div",8)(34,"ion-item")(35,"ion-input",11),e.bIt("ionChange",function(l){return n.changeAddress(l)}),e.k0s()()()(),e.j41(36,"div",6)(37,"label"),e.EFF(38,"M\xe3 s\u1ed1 thu\u1ebf "),e.j41(39,"span",7),e.EFF(40,"*"),e.k0s()(),e.j41(41,"div",8)(42,"ion-item")(43,"ion-input",12),e.bIt("ionChange",function(l){return n.changeTaxCode(l)}),e.k0s()()()(),e.j41(44,"div",6)(45,"label"),e.EFF(46,"\u0110\u1eb7t l\xe0m m\u1eb7c \u0111\u1ecbnh"),e.k0s(),e.j41(47,"div",8)(48,"ion-item")(49,"ion-checkbox",13),e.bIt("ionChange",function(l){return n.changeIsDefault(l)}),e.EFF(50,"Ch\u1ecdn l\xe0m m\u1eb7c \u0111\u1ecbnh"),e.k0s()()()()()(),e.j41(51,"ion-footer")(52,"div",14)(53,"ion-button",15),e.bIt("click",function(l){return n.submit(l)}),e.j41(54,"ion-label"),e.EFF(55),e.nI1(56,"translate"),e.k0s()()()()),2&o&&(e.R7$(6),e.JRh(e.bMT(7,7,"CustomerInvoice")),e.R7$(13),e.Y8G("value",n.customerInvoice.BuyerName),e.R7$(8),e.Y8G("value",n.customerInvoice.CompanyName),e.R7$(8),e.Y8G("value",n.customerInvoice.Address),e.R7$(8),e.Y8G("value",n.customerInvoice.TaxCode),e.R7$(6),e.Y8G("checked",!!n.customerInvoice.IsDefault),e.R7$(6),e.JRh(e.bMT(56,9,"Save")))},dependencies:[d.Jm,d.QW,d.eY,d.W9,d.M0,d.eU,d.iq,d.$w,d.uz,d.he,d.nf,d.To,d.Ki,d.BC,d.ai,d.hB,d.Gw,s.D9]}),r})();var p=m(1261),_=m(6944),b=m(3232),D=m(9061),G=m(6539),P=m(1312),T=m(3588),A=m(8833);function x(i,r){1&i&&(e.j41(0,"div",7),e.nrm(1,"ion-spinner",8),e.k0s())}function N(i,r){1&i&&(e.qex(0),e.j41(1,"div",10),e.nrm(2,"ion-spinner",11),e.k0s(),e.bVm())}function B(i,r){if(1&i&&(e.qex(0),e.j41(1,"tr")(2,"td"),e.EFF(3,"G\xf3i s\u1ea1c"),e.k0s(),e.j41(4,"td")(5,"div"),e.EFF(6),e.k0s(),e.j41(7,"div")(8,"b",19),e.EFF(9),e.k0s(),e.j41(10,"small"),e.EFF(11),e.k0s()()()(),e.j41(12,"tr")(13,"td"),e.EFF(14,"Ph\xed \u0111\u1ed7 xe"),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s()(),e.bVm()),2&i){const a=e.XpG(3);let o,n;e.R7$(6),e.JRh(a.orderDetail.ProductName),e.R7$(3),e.SpI("",a.APP_FUNC_FormatMoney(null!==(o=a.orderDetail.AftertaxPrice)&&void 0!==o?o:0),"\u0111"),e.R7$(2),e.Lme(" / ",a.orderDetail.PowerValue," ",null!==(n=a.orderDetail.Unit)&&void 0!==n?n:"kWh",""),e.R7$(5),e.SpI("",a.APP_FUNC_FormatMoney(0),"\u0111")}}function V(i,r){1&i&&(e.j41(0,"b",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(1),e.JRh(e.bMT(2,1,"RefundYes")))}function U(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",20)(2,"div",21)(3,"b"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,V,3,3,"b",22),e.k0s(),e.j41(7,"table",13)(8,"tr",17)(9,"td"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"td")(13,"b"),e.EFF(14),e.k0s()()(),e.j41(15,"tr")(16,"td"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"td")(20,"b"),e.EFF(21),e.k0s()()()()(),e.bVm()),2&i){const a=e.XpG(3);e.R7$(4),e.JRh(e.bMT(5,6,"Refund")),e.R7$(2),e.Y8G("ngIf",a.orderInfo.IsRefund),e.R7$(4),e.JRh(e.bMT(11,8,"ExchangeValue")),e.R7$(4),e.SpI("",a.APP_FUNC_FormatMoney(a.orderInfo.ExchangeValue),"\u0111"),e.R7$(3),e.JRh(e.bMT(18,10,"RefundValue")),e.R7$(4),e.SpI("",a.APP_FUNC_FormatMoney(a.orderInfo.RefundValue),"\u0111")}}function J(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",12)(2,"table",13)(3,"tr")(4,"td"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"td")(8,"b"),e.EFF(9),e.k0s()()(),e.j41(10,"tr")(11,"td"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"td")(15,"b"),e.EFF(16),e.k0s()()(),e.j41(17,"tr")(18,"td"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"td")(22,"b"),e.EFF(23),e.k0s()()(),e.j41(24,"tr")(25,"td"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"td"),e.EFF(29),e.k0s()(),e.j41(30,"tr")(31,"td"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"td"),e.EFF(35),e.k0s()()()(),e.nrm(36,"hr",14),e.j41(37,"div",15)(38,"div",16)(39,"b"),e.EFF(40),e.nI1(41,"translate"),e.k0s()(),e.j41(42,"table",13),e.DNE(43,B,17,5,"ng-container",4),e.j41(44,"tr")(45,"td"),e.EFF(46,"Gi\u1ea3m gi\xe1"),e.k0s(),e.j41(47,"td"),e.EFF(48),e.k0s()(),e.j41(49,"tr",17)(50,"td"),e.EFF(51,"Th\xe0nh vi\xean VIP"),e.k0s(),e.j41(52,"td"),e.EFF(53),e.k0s()(),e.j41(54,"tr",17)(55,"td"),e.EFF(56,"VAT"),e.k0s(),e.j41(57,"td"),e.EFF(58),e.k0s()(),e.j41(59,"tr",17)(60,"td")(61,"b"),e.EFF(62,"T\u1ed5ng c\u1ed9ng"),e.k0s(),e.nrm(63,"br"),e.j41(64,"small",18),e.EFF(65,"\u0110\xe3 bao g\u1ed3m VAT"),e.k0s()(),e.j41(66,"td",19)(67,"strong"),e.EFF(68),e.k0s()()()()(),e.DNE(69,U,22,12,"ng-container",4),e.bVm()),2&i){const a=e.XpG(2);let o,n,t;e.R7$(5),e.JRh(e.bMT(6,20,"OrderCode")),e.R7$(4),e.JRh(a.orderInfo.OrderCode),e.R7$(3),e.JRh(e.bMT(13,22,"TotalAmount")),e.R7$(4),e.SpI("",a.APP_FUNC_FormatMoney(a.orderInfo.RealValue),"\u0111"),e.R7$(3),e.JRh(e.bMT(20,24,"OrderStatus")),e.R7$(3),e.ZvI("text-",a.APP_FUNC_GetColor_VOrderStatus(a.orderInfo.VOrderStatus),""),e.R7$(1),e.JRh(a.orderInfo.VOrderStatusName),e.R7$(3),e.JRh(e.bMT(27,26,"PaymentMethod")),e.R7$(3),e.JRh(a.orderInfo.KindOfCard),e.R7$(3),e.JRh(e.bMT(33,28,"OrderDate")),e.R7$(3),e.JRh(a.APP_FUNC_FormatDate(a.orderInfo.OrderDate)),e.R7$(5),e.JRh(e.bMT(41,30,"OrderDetail")),e.R7$(3),e.Y8G("ngIf",a.orderDetail),e.R7$(5),e.SpI("-",a.APP_FUNC_FormatMoney(null!==(o=a.orderInfo.PromoteValue)&&void 0!==o?o:0),"\u0111"),e.R7$(5),e.SpI("-",a.APP_FUNC_FormatMoney(0),"%"),e.R7$(5),e.SpI("+",null!==(n=a.orderInfo.TaxPercent)&&void 0!==n?n:0,"%"),e.R7$(10),e.SpI("",a.APP_FUNC_FormatMoney(null!==(t=a.orderInfo.RealValue)&&void 0!==t?t:0),"\u0111"),e.R7$(1),e.Y8G("ngIf",(null==a.orderInfo?null:a.orderInfo.VOrderStatus)==a.v_order_status.DaHoanTien)}}function X(i,r){if(1&i&&(e.j41(0,"table",13)(1,"tr")(2,"td"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"td")(6,"b"),e.EFF(7),e.k0s()()(),e.j41(8,"tr")(9,"td"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"td")(13,"b"),e.EFF(14),e.k0s()()(),e.j41(15,"tr")(16,"td"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"td")(20,"b"),e.EFF(21),e.k0s()()(),e.j41(22,"tr")(23,"td"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"td")(27,"b"),e.EFF(28),e.k0s()()()()),2&i){const a=e.XpG(4);e.R7$(3),e.JRh(e.bMT(4,8,"FullName")),e.R7$(4),e.JRh(a.customerInvoice.BuyerName),e.R7$(3),e.JRh(e.bMT(11,10,"BillCompanyName")),e.R7$(4),e.JRh(a.customerInvoice.CompanyName),e.R7$(3),e.JRh(e.bMT(18,12,"BillCompanyAddress")),e.R7$(4),e.JRh(a.customerInvoice.Address),e.R7$(3),e.JRh(e.bMT(25,14,"BillCompanyTax")),e.R7$(4),e.JRh(a.customerInvoice.TaxCode)}}function Y(i,r){if(1&i){const a=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"b"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ion-icon",30),e.bIt("click",function(n){e.eBV(a);const t=e.XpG(3);return e.Njj(t.editCustomerInvoice(n))}),e.k0s()(),e.nrm(6,"hr"),e.DNE(7,X,29,16,"table",31),e.k0s()}if(2&i){const a=e.XpG(3);e.R7$(3),e.JRh(e.bMT(4,2,"ExportBillInfo")),e.R7$(4),e.Y8G("ngIf",a.customerInvoice)}}function z(i,r){if(1&i){const a=e.RV6();e.qex(0),e.j41(1,"div",24)(2,"ion-radio-group",25),e.bIt("ionChange",function(n){e.eBV(a);const t=e.XpG(2);return e.Njj(t.changeIsGetBill(n))}),e.j41(3,"ion-radio",26),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"br"),e.j41(7,"ion-radio",26),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.nrm(10,"br"),e.k0s()(),e.DNE(11,Y,8,4,"div",27),e.bVm()}if(2&i){const a=e.XpG(2);e.R7$(2),e.Y8G("value",0),e.R7$(1),e.Y8G("value",0),e.R7$(1),e.JRh(e.bMT(5,6,"NoGetBill")),e.R7$(3),e.Y8G("value",1),e.R7$(1),e.JRh(e.bMT(9,8,"YesGetBill")),e.R7$(3),e.Y8G("ngIf",a.IsGetBill)}}const w=(i,r)=>[i,r];function L(i,r){if(1&i&&(e.qex(0),e.j41(1,"div",9),e.DNE(2,N,3,0,"ng-container",4)(3,J,70,32,"ng-container",4)(4,z,12,10,"ng-container",4),e.k0s(),e.bVm()),2&i){const a=e.XpG();let o;e.R7$(2),e.Y8G("ngIf",(null==a.orderInfo?null:a.orderInfo.VOrderStatus)==a.v_order_status.DangThanhToan),e.R7$(1),e.Y8G("ngIf",a.orderInfo),e.R7$(1),e.Y8G("ngIf",e.l_i(3,w,a.v_order_status.DaSuDung,a.v_order_status.DaHoanTien).includes(null!==(o=null==a.orderInfo?null:a.orderInfo.VOrderStatus)&&void 0!==o?o:0))}}function K(i,r){if(1&i){const a=e.RV6();e.qex(0),e.j41(1,"ion-footer")(2,"div",32)(3,"ion-button",33),e.bIt("click",function(n){e.eBV(a);const t=e.XpG();return e.Njj(t.chargingStart(n))}),e.j41(4,"ion-label"),e.EFF(5,"B\u1eaft \u0111\u1ea7u phi\xean s\u1ea1c"),e.k0s()()()(),e.bVm()}}function W(i,r){if(1&i){const a=e.RV6();e.qex(0),e.j41(1,"ion-footer")(2,"div",32)(3,"ion-button",34),e.bIt("click",function(n){e.eBV(a);const t=e.XpG();return e.Njj(t.sendFeedback(n))}),e.j41(4,"ion-label"),e.EFF(5,"G\u1eedi ph\u1ea3n h\u1ed3i"),e.k0s()()()(),e.bVm()}}const H=[{path:"",component:(()=>{var i;class r{constructor(o,n,t,l){var c,g=this;this.loadingController=n,this.toastController=t,this.modalController=l,this.APP_ROUTE=A._,this.APP_FUNC_FormatMoney=P.xi,this.APP_FUNC_FormatDate=P.Rv,this.APP_FUNC_GetColor_VOrderStatus=P.qM,this.v_order_status=T.TL,this.params={},this.customerInvoices=[],this.intervalCounter=0,this.params.code=null!==(c=o.snapshot.params.code)&&void 0!==c?c:"",(0,f.A)(function*(){g.loading=yield g.loadingController.create({message:""})})()}ngOnInit(){var o=this;(0,f.A)(function*(){(yield(0,G.kU)())&&(o.refreshData(),o.refreshInterval())})()}onIonRefresher(o){this.refreshData(()=>{o.target.complete()})}refreshInterval(){clearInterval(this.intervalReload),this.intervalReload=setInterval(()=>{var o;this.orderInfo&&(null===(o=this.orderInfo)||void 0===o?void 0:o.VOrderStatus)==T.TL.DangThanhToan&&this.refreshData(()=>{this.intervalCounter++,this.intervalCounter>=10&&clearInterval(this.intervalReload)})},4e3)}refreshData(o){this.params.code&&((0,D.FS)({loading:n=>{var t,l;n?null===(t=this.loading)||void 0===t||t.present():null===(l=this.loading)||void 0===l||l.dismiss()},params:{OrderCode:this.params.code},callback:n=>{this.response=n,null!=n&&n.Succeeded?this.orderInfo=n.Data:(0,v.cX)(this.toastController,{},n).then(t=>t.present()),o&&o()}}),(0,b.q)({params:{OrderCode:this.params.code},callback:n=>{var t;null!=n&&n.Succeeded?this.orderDetail=null===(t=n.Data)||void 0===t?void 0:t.pop():(0,v.cX)(this.toastController,{},n).then(l=>l.present()),o&&o()}}))}chargingStart(o){var n=this;return(0,f.A)(function*(){var t,l,c;(0,_.aN)({loading:g=>{var h,$;g?null===(h=n.loading)||void 0===h||h.present():null===($=n.loading)||void 0===$||$.dismiss()},params:{StationCode:null===(t=n.orderInfo)||void 0===t?void 0:t.StationCode,ConnectorId:null===(l=n.orderInfo)||void 0===l?void 0:l.ConnectorId,OrderCode:null===(c=n.orderInfo)||void 0===c?void 0:c.OrderCode},callback:g=>{null!=g&&g.Succeeded?window.location.replace(A._.CHARGING_SESSION_DETAIL.replace(":id",g.Data)):(0,v.cX)(n.toastController,{},g).then(h=>h.present())}})})()}sendFeedback(o){var n=this;return(0,f.A)(function*(){(yield n.modalController.create({component:p.l,componentProps:{FbCatgId:3},mode:"ios"})).present()})()}changeIsGetBill(o){this.IsGetBill=o.detail.value,this.GetCustomerinvoices()}editCustomerInvoice(o){var n;this.presentModalAddCustomerInvoice(o,null===(n=this.customerInvoice)||void 0===n?void 0:n.CustomerInvoiceId)}GetCustomerinvoices(){var o=this;return(0,f.A)(function*(){y({loading:n=>{var t,l;n?null===(t=o.loading)||void 0===t||t.present():null===(l=o.loading)||void 0===l||l.dismiss()},params:{PageNumber:1,PageSize:100},callback:n=>{var t;if(null!=n&&n.Succeeded)if(o.customerInvoices=null!==(t=n.Data)&&void 0!==t?t:[],o.customerInvoices.length)if(1==o.customerInvoices.length)o.customerInvoice=o.customerInvoices[0];else{var l;o.customerInvoice=null!==(l=o.customerInvoices.filter(c=>c.IsDefault)[0])&&void 0!==l?l:o.customerInvoices[0]}else o.presentModalAddCustomerInvoice()}})})()}presentModalAddCustomerInvoice(o,n){var t=this;return(0,f.A)(function*(){const l=yield t.modalController.create({component:u,componentProps:{CustomerInvoiceId:n},mode:"ios",backdropDismiss:!0,keyboardClose:!0,breakpoints:[.75,1],initialBreakpoint:.75});l.onDidDismiss().then(c=>{"success"==c.role&&t.GetCustomerinvoices()}),l.present()})()}}return(i=r).\u0275fac=function(o){return new(o||i)(e.rXU(k.nX),e.rXU(d.Xi),e.rXU(d.K_),e.rXU(d.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-order-info-result"]],decls:15,vars:9,consts:[["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["class","container-loading",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"container-loading"],["name","circular","color","primary"],[1,"container","mb-4"],[1,"text-center","line-height-0","mb-3"],["color","primary","name","crescent"],[1,"card-order","rounded","bg-white"],[1,"table","table-borderless","m-0"],[1,"border-dashed"],[1,"card-order-detail","rounded","bg-white"],[1,"mb-2"],[1,"border-top"],[1,"text-muted","font-condensed"],[1,"text-primary"],[1,"card-order-refund","rounded","bg-white"],[1,"mb-2","d-flex","justify-content-between"],["class","text-tertiary",4,"ngIf"],[1,"text-tertiary"],[1,"my-4"],["mode","md",3,"value","ionChange"],["label-placement","end",3,"value"],["class","card-bill rounded bg-white mt-3",4,"ngIf"],[1,"card-bill","rounded","bg-white","mt-3"],[1,"d-flex","justify-content-between"],["name","create-outline",1,"fs-4",3,"click"],["class","table table-borderless m-0",4,"ngIf"],[1,"container","py-3"],["color","primary","expand","block","shape","round",3,"click"],["mode","md","size","default","color","warning","shape","round","fill","outline","expand","block",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-refresher",2),e.bIt("ionRefresh",function(l){return n.onIonRefresher(l)}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.DNE(10,x,2,0,"div",3)(11,L,5,6,"ng-container",4),e.k0s(),e.qex(12,5),e.DNE(13,K,6,0,"ng-container",6)(14,W,6,0,"ng-container",6),e.bVm()),2&o&&(e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.ORDER_INFO),e.R7$(2),e.JRh(e.bMT(6,7,"OrderInfo")),e.R7$(5),e.Y8G("ngIf",!n.response),e.R7$(1),e.Y8G("ngIf",null==n.response?null:n.response.Succeeded),e.R7$(1),e.Y8G("ngSwitch",null==n.orderInfo?null:n.orderInfo.VOrderStatus),e.R7$(1),e.Y8G("ngSwitchCase",n.v_order_status.DaThanhToan),e.R7$(1),e.Y8G("ngSwitchCase",n.v_order_status.KhongThanhCong))},dependencies:[C.bT,C.ux,C.e1,d.Jm,d.QW,d.W9,d.M0,d.eU,d.iq,d.he,d.KO,d.f0,d.To,d.Ki,d.w2,d.BC,d.ai,d.uR,d.Je,d.el,s.D9],styles:['ion-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0;padding-right:.5rem;color:var(ion-color-medium)}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;white-space:nowrap;text-align:right}.card-order[_ngcontent-%COMP%]{padding:1rem}.card-order.rounded[_ngcontent-%COMP%]{border-top-left-radius:1.5rem!important;border-top-right-radius:1.5rem!important;border-bottom-left-radius:0!important;border-bottom-right-radius:0!important}.card-order-detail[_ngcontent-%COMP%]{padding:1rem}.card-order-detail.rounded[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-top-right-radius:0!important;border-bottom-left-radius:1.5rem!important;border-bottom-right-radius:1.5rem!important}.card-order-refund[_ngcontent-%COMP%]{padding:1rem;margin-top:1rem}.card-order-refund.rounded[_ngcontent-%COMP%]{border-radius:1.5rem!important}.card-bill[_ngcontent-%COMP%]{padding:1rem}.card-bill.rounded[_ngcontent-%COMP%]{border-radius:1.5rem!important}.card-bill[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important}hr.border-dashed[_ngcontent-%COMP%]{margin:0;position:relative;z-index:1}hr.border-dashed[_ngcontent-%COMP%]:before, hr.border-dashed[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;z-index:2;bottom:0;margin-bottom:-1rem;width:2rem;height:2rem;border-radius:50%;background-color:var(--ion-background-color-primary)}hr.border-dashed[_ngcontent-%COMP%]:before{left:-1rem}hr.border-dashed[_ngcontent-%COMP%]:after{right:-1rem}']}),r})()}];let Q=(()=>{var i;class r{}return(i=r).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[k.iI.forChild(H),k.iI]}),r})();var Z=m(9500);let q=(()=>{var i;class r{}return(i=r).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[C.MD,I.YN,d.bv,Q,Z.x]}),r})()}}]);