"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2854],{6013:(O,D,u)=>{u.d(D,{Gi:()=>T,vi:()=>m,Nn:()=>p});var h=u(5083),T=function(o){return o.Aztec="AZTEC",o.Codabar="CODABAR",o.Code39="CODE_39",o.Code93="CODE_93",o.Code128="CODE_128",o.DataMatrix="DATA_MATRIX",o.Ean8="EAN_8",o.Ean13="EAN_13",o.Itf="ITF",o.Pdf417="PDF_417",o.QrCode="QR_CODE",o.UpcA="UPC_A",o.UpcE="UPC_E",o}(T||{}),p=function(o){return o.Front="FRONT",o.Back="BACK",o}(p||{});const m=(0,h.F3)("BarcodeScanner",{web:()=>u.e(870).then(u.bind(u,870)).then(o=>new o.BarcodeScannerWeb)})},7392:(O,D,u)=>{u.d(D,{P:()=>T});const T=(0,u(5083).F3)("Browser",{web:()=>u.e(4786).then(u.bind(u,4786)).then(n=>new n.BrowserWeb)})},7762:(O,D,u)=>{u.d(D,{L:()=>T});const T=(0,u(5083).F3)("Geolocation",{web:()=>u.e(2920).then(u.bind(u,2920)).then(n=>new n.GeolocationWeb)})},3801:(O,D,u)=>{u.d(D,{RR:()=>M,Xz:()=>i,fA:()=>o,fj:()=>m});var h=u(467),T=u(369),n=u(5312);const p=new T.w({name:"_asDB",driverOrder:[T.C.IndexedDB,T.C.LocalStorage]}),i=function(){var a=(0,h.A)(function*(c){yield p.create();try{var g=(yield p.get("geolocation"))||{};if("function"==typeof(null==c?void 0:c.callback)&&c.callback(Object.assign({},g||{})),g.lat&&g.lng)return g}catch(v){"function"==typeof(null==c?void 0:c.callback)&&c.callback(),console.error(v)}return n.c.app_default.geolocation.pos});return function(g){return a.apply(this,arguments)}}(),m=function(){var a=(0,h.A)(function*(c){yield p.create(),c.params=c.params||{};try{var g=Object.assign({},c.params);yield p.set("geolocation",g),"function"==typeof c.callback&&c.callback(Object.assign({},g||{}))}catch(v){"function"==typeof c.callback&&c.callback(),console.error(v)}});return function(g){return a.apply(this,arguments)}}(),o=function(){var a=(0,h.A)(function*(c){yield p.create();try{var g=(yield p.get("address"))||{};return"function"==typeof(null==c?void 0:c.callback)&&c.callback(Object.assign({},g||{})),g}catch(v){"function"==typeof(null==c?void 0:c.callback)&&c.callback(),console.error(v)}return{currentAddress:null}});return function(g){return a.apply(this,arguments)}}(),M=function(){var a=(0,h.A)(function*(c){yield p.create(),c.params=c.params||{};try{var g=Object.assign({},c.params);yield p.set("address",g),"function"==typeof c.callback&&c.callback(Object.assign({},g||{}))}catch(v){"function"==typeof c.callback&&c.callback(),console.error(v)}});return function(g){return a.apply(this,arguments)}}()},6043:(O,D,u)=>{u.d(D,{V:()=>p,j:()=>n});var h=u(467),T=u(5972);const n=function(){var i=(0,h.A)(function*(m){m.params=m.params||{},(0,T.hm)({url:`api/ChargingConnector/get-byqr/${m.params.QrCode}`,success:o=>{"function"==typeof m.callback&&m.callback(o.data||null)},error:o=>{var M;"function"==typeof m.callback&&m.callback(null==o||null===(M=o.response)||void 0===M?void 0:M.data),console.error(o)},loading:null==m?void 0:m.loading})});return function(o){return i.apply(this,arguments)}}(),p=function(){var i=(0,h.A)(function*(m){m.params=m.params||{},(0,T.hm)({url:`api/ChargingConnector/get-byid/${m.params.ChargeConnectorId}`,success:o=>{"function"==typeof m.callback&&m.callback(o.data||null)},error:o=>{var M;"function"==typeof m.callback&&m.callback(null==o||null===(M=o.response)||void 0===M?void 0:M.data),console.error(o)},loading:null==m?void 0:m.loading})});return function(o){return i.apply(this,arguments)}}()},6841:(O,D,u)=>{u.d(D,{Bc:()=>n,YW:()=>o,Zd:()=>i,tC:()=>p,x1:()=>m});var h=u(467),T=u(5972);const n=function(){var M=(0,h.A)(function*(a){var c,g,v,y,P,k;a.params=a.params||{},(0,T.hm)({url:"api/ChargingLocation/get-inarea",params:{TopLeftLat:null!==(c=a.params.TopLeftLat)&&void 0!==c?c:null,TopLeftLong:null!==(g=a.params.TopLeftLong)&&void 0!==g?g:null,RightBottomLat:null!==(v=a.params.RightBottomLat)&&void 0!==v?v:null,RightBottomLong:null!==(y=a.params.RightBottomLong)&&void 0!==y?y:null,PageNumber:null!==(P=a.params.PageNumber)&&void 0!==P?P:1,PageSize:null!==(k=a.params.PageSize)&&void 0!==k?k:10},success:C=>{"function"==typeof a.callback&&a.callback(C.data||null)},error:C=>{var E;"function"==typeof a.callback&&a.callback(null==C||null===(E=C.response)||void 0===E?void 0:E.data),console.error(C)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}(),p=function(){var M=(0,h.A)(function*(a){var c,g,v;a.params=a.params||{},(0,T.hm)({url:"api/ChargingLocation/search",params:{Search:null!==(c=a.params.Search)&&void 0!==c?c:null,PageNumber:null!==(g=a.params.PageNumber)&&void 0!==g?g:1,PageSize:null!==(v=a.params.PageSize)&&void 0!==v?v:10},success:y=>{"function"==typeof a.callback&&a.callback(y.data||null)},error:y=>{var P;"function"==typeof a.callback&&a.callback(null==y||null===(P=y.response)||void 0===P?void 0:P.data),console.error(y)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}(),i=function(){var M=(0,h.A)(function*(a){var c,g,v,y,P,k;a.params=a.params||{},(0,T.hm)({url:"api/ChargingLocation/filter-bycondition",params:{ElectricTypeFilter:null!==(c=a.params.ElectricTypeFilter)&&void 0!==c?c:null,ConnectorTypeFilter:null!==(g=a.params.ConnectorTypeFilter)&&void 0!==g?g:null,VConnectorStatusFilter:null!==(v=a.params.VConnectorStatusFilter)&&void 0!==v?v:null,VChargeSpeed:null!==(y=a.params.VChargeSpeed)&&void 0!==y?y:null,PageNumber:null!==(P=a.params.PageNumber)&&void 0!==P?P:1,PageSize:null!==(k=a.params.PageSize)&&void 0!==k?k:10},success:C=>{"function"==typeof a.callback&&a.callback(C.data||null)},error:C=>{var E;"function"==typeof a.callback&&a.callback(null==C||null===(E=C.response)||void 0===E?void 0:E.data),console.error(C)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}(),m=function(){var M=(0,h.A)(function*(a){a.params=a.params||{},(0,T.hm)({url:`api/ChargingLocation/get/${a.params.ChargeLocationId}`,success:c=>{"function"==typeof a.callback&&a.callback(c.data||null)},error:c=>{var g;"function"==typeof a.callback&&a.callback(null==c||null===(g=c.response)||void 0===g?void 0:g.data),console.error(c)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}(),o=function(){var M=(0,h.A)(function*(a){a.params=a.params||{},(0,T.hm)({url:`api/ChargingLocation/get-detail/${a.params.ChargeLocationId}`,success:c=>{"function"==typeof a.callback&&a.callback(c.data||null)},error:c=>{var g;"function"==typeof a.callback&&a.callback(null==c||null===(g=c.response)||void 0===g?void 0:g.data),console.error(c)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}()},4470:(O,D,u)=>{u.d(D,{S:()=>p});var h=u(467),T=u(5312),n=u(5972);const p=function(){var i=(0,h.A)(function*(m){m.params=m.params||{},(0,n.hm)({api_url:`https://maps.googleapis.com/maps/api/geocode/json?key=${T.c.apiKey}&latlng=${m.params.lat},${m.params.lng}&sensor=true`,headers:{},success:o=>{"function"==typeof m.callback&&m.callback(o.data||null)},error:o=>{var M;"function"==typeof m.callback&&m.callback(null==o||null===(M=o.response)||void 0===M?void 0:M.data),console.error(o)},loading:null==m?void 0:m.loading})});return function(o){return i.apply(this,arguments)}}()},7168:(O,D,u)=>{u.d(D,{Ag:()=>o,fp:()=>p,hd:()=>m,kM:()=>n,yb:()=>i});var h=u(467),T=u(5972);const n=function(){var M=(0,h.A)(function*(a){a.params=a.params||{},(0,T.hm)({url:"api/Notify/get-summary",success:c=>{"function"==typeof a.callback&&a.callback(c.data||null)},error:c=>{var g;"function"==typeof a.callback&&a.callback(null==c||null===(g=c.response)||void 0===g?void 0:g.data),console.error(c)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}(),p=function(){var M=(0,h.A)(function*(a){var c,g,v;a.params=a.params||{},(0,T.hm)({url:"api/Notify/get-mynotifies",params:{IsSender:null!==(c=a.params.IsSender)&&void 0!==c?c:null,PageNumber:null!==(g=a.params.PageNumber)&&void 0!==g?g:1,PageSize:null!==(v=a.params.PageSize)&&void 0!==v?v:10},success:y=>{"function"==typeof a.callback&&a.callback(y.data||null)},error:y=>{var P;"function"==typeof a.callback&&a.callback(null==y||null===(P=y.response)||void 0===P?void 0:P.data),console.error(y)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}(),i=function(){var M=(0,h.A)(function*(a){a.params=a.params||{},(0,T.hm)({url:`api/Notify/get-byid/${a.params.NotifyId}`,success:c=>{"function"==typeof a.callback&&a.callback(c.data||null)},error:c=>{var g;"function"==typeof a.callback&&a.callback(null==c||null===(g=c.response)||void 0===g?void 0:g.data),console.error(c)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}(),m=function(){var M=(0,h.A)(function*(a){var c,g;a.params=a.params||{},(0,T.IH)({url:"api/Notify/update-isread",params:{NotifyId:null!==(c=a.params.NotifyId)&&void 0!==c?c:null,IsRead:null===(g=a.params.IsRead)||void 0===g||g},success:v=>{"function"==typeof a.callback&&a.callback(v.data||null)},error:v=>{var y;"function"==typeof a.callback&&a.callback(null==v||null===(y=v.response)||void 0===y?void 0:y.data),console.error(v)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}(),o=function(){var M=(0,h.A)(function*(a){var c;a.params=a.params||{},(0,T.IH)({url:"api/Notify/update-all-isread",params:{IsRead:null===(c=a.params.IsRead)||void 0===c||c},success:g=>{"function"==typeof a.callback&&a.callback(g.data||null)},error:g=>{var v;"function"==typeof a.callback&&a.callback(null==g||null===(v=g.response)||void 0===v?void 0:v.data),console.error(g)},loading:null==a?void 0:a.loading})});return function(c){return M.apply(this,arguments)}}()},5354:(O,D,u)=>{u.d(D,{G:()=>p,U:()=>n});var h=u(467),T=u(5972);const n=function(){var i=(0,h.A)(function*(m){var o,M,a;m.params=m.params||{},(0,T.hm)({url:"api/Reflookup/get-byname",params:{ObjectName:null!==(o=m.params.ObjectName)&&void 0!==o?o:null,PageNumber:null!==(M=m.params.PageNumber)&&void 0!==M?M:1,PageSize:null!==(a=m.params.PageSize)&&void 0!==a?a:10},success:c=>{"function"==typeof m.callback&&m.callback(c.data||null)},error:c=>{var g;"function"==typeof m.callback&&m.callback(null==c||null===(g=c.response)||void 0===g?void 0:g.data),console.error(c)},loading:null==m?void 0:m.loading})});return function(o){return i.apply(this,arguments)}}(),p=function(){var i=(0,h.A)(function*(m){m.params=m.params||{},(0,T.hm)({url:`api/Reflookup/get/${m.params.LookupId}`,success:o=>{"function"==typeof m.callback&&m.callback(o.data||null)},error:o=>{var M;"function"==typeof m.callback&&m.callback(null==o||null===(M=o.response)||void 0===M?void 0:M.data),console.error(o)},loading:null==m?void 0:m.loading})});return function(o){return i.apply(this,arguments)}}()},5005:(O,D,u)=>{u.d(D,{I:()=>E});var h=u(467),T=u(9417),n=u(6013),p=u(6043),i=u(8650),m=u(8833),o=u(4438),M=u(2175),a=u(8974),c=u(4517),g=u(177),v=u(4842);const y=["QrCodeRef"],P=["square"];function k(A,V){if(1&A){const N=o.RV6();o.j41(0,"div",20)(1,"ion-button",21),o.bIt("click",function(){o.eBV(N);const b=o.XpG();return o.Njj(b.toggleTorch())}),o.nrm(2,"ion-icon",22),o.j41(3,"ion-label"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()()}2&A&&(o.R7$(4),o.JRh(o.bMT(5,1,"TurnOnFlash")))}function C(A,V){if(1&A){const N=o.RV6();o.j41(0,"div")(1,"ion-range",23),o.bIt("ionChange",function(b){o.eBV(N);const I=o.XpG();return o.Njj(I.setZoomRatio(b))}),o.k0s()()}if(2&A){const N=o.XpG();o.R7$(),o.Y8G("min",N.minZoomRatio)("max",N.maxZoomRatio)}}let E=(()=>{var A;class V{constructor(R,b,I,S,L,G,j){this.router=R,this.modalController=b,this.ngZone=I,this.platform=S,this.loadingController=L,this.toastController=G,this.animationController=j,this.formGroup=new T.J3({formats:new T.hs([]),lensFacing:new T.hs(n.Nn.Back),googleBarcodeScannerModuleInstallState:new T.hs(0),googleBarcodeScannerModuleInstallProgress:new T.hs(0)}),this.isSupported=!1,this.isPermissionGranted=!1,this.isTorchAvailable=!1,this.loadingController.create({message:""}).then($=>this.loading=$)}ngOnInit(){n.vi.isSupported().then(R=>{this.isSupported=R.supported}),n.vi.checkPermissions().then(R=>{this.isPermissionGranted="granted"===R.camera}),n.vi.removeAllListeners().then(()=>{n.vi.addListener("googleBarcodeScannerModuleInstallProgress",R=>{this.ngZone.run(()=>{console.log("googleBarcodeScannerModuleInstallProgress",R);const{state:b,progress:I}=R;this.formGroup.patchValue({googleBarcodeScannerModuleInstallState:b,googleBarcodeScannerModuleInstallProgress:I})})})}),n.vi.isTorchAvailable().then(R=>{this.isTorchAvailable=R.available})}ngAfterViewInit(){setTimeout(()=>{this.startScan()},500)}ngOnDestroy(){this.stopScan()}navigateByUrl(R){var b=this;return(0,h.A)(function*(){b.modalController.dismiss().then(I=>{b.router.navigateByUrl(R)})})()}closeModal(R){var b=this;return(0,h.A)(function*(){b.modalController.dismiss({barcode:R})})()}setZoomRatio(R){R.detail.value&&n.vi.setZoomRatio({zoomRatio:parseInt(R.detail.value,10)})}toggleTorch(){return(0,h.A)(function*(){yield n.vi.toggleTorch()})()}startScan(){var R=this;return(0,h.A)(function*(){var b,I,S;null===(b=document.querySelector("body"))||void 0===b||b.classList.add("barcode-scanning-active"),R.listenerScan();const L={formats:(null===(I=R.formGroup.get("formats"))||void 0===I?void 0:I.value)||[],lensFacing:(null===(S=R.formGroup.get("lensFacing"))||void 0===S?void 0:S.value)||n.Nn.Back};yield n.vi.startScan(L),n.vi.getMinZoomRatio().then(G=>{R.minZoomRatio=G.zoomRatio}),n.vi.getMaxZoomRatio().then(G=>{R.maxZoomRatio=G.zoomRatio})})()}stopScan(){return(0,h.A)(function*(){var R;null===(R=document.querySelector("body"))||void 0===R||R.classList.remove("barcode-scanning-active"),yield n.vi.stopScan()})()}listenerScan(){var R=this;return(0,h.A)(function*(){var b;const I=null===(b=R.squareElement)||void 0===b?void 0:b.nativeElement.getBoundingClientRect(),S=I?{left:I.left*window.devicePixelRatio,right:I.right*window.devicePixelRatio,top:I.top*window.devicePixelRatio,bottom:I.bottom*window.devicePixelRatio,width:I.width*window.devicePixelRatio,height:I.height*window.devicePixelRatio}:void 0,L=S?[[S.left,S.top],[S.left+S.width,S.top],[S.left+S.width,S.top+S.height],[S.left,S.top+S.height]]:void 0,G=yield n.vi.addListener("barcodeScanned",function(){var j=(0,h.A)(function*($){R.ngZone.run(()=>{const x=$.barcode.cornerPoints;L&&x&&(L[0][0]>x[0][0]||L[0][1]>x[0][1]||L[1][0]<x[1][0]||L[1][1]>x[1][1]||L[2][0]<x[2][0]||L[2][1]<x[2][1]||L[3][0]>x[3][0]||L[3][1]<x[3][1])||(G.remove(),R.changeBarcodeScanner($.barcode))})});return function($){return j.apply(this,arguments)}}())})()}changeBarcodeScanner(R){var b=this;return(0,h.A)(function*(){let I=R.rawValue.match(/charger-connect\/([0-9]{7})/);I&&(b.QrCode=I[1]||void 0),b.QrCode?b.submitQrCode():setTimeout(()=>{b.listenerScan()},1e3)})()}changeQrCode(R){var b=this;return(0,h.A)(function*(){b.QrCode=R.detail.value})()}keyupQrCode(R){var b=this;return(0,h.A)(function*(){var I,S;13!=R.keyCode?null===(I=b.QrCodeRef)||void 0===I||I.setValue(null===(S=R.target)||void 0===S?void 0:S.value):b.submitQrCode()})()}submitQrCode(R){var b=this;return(0,h.A)(function*(){b.QrCode&&(0,p.j)({loading:I=>{var S,L;I?null===(S=b.loading)||void 0===S||S.present():null===(L=b.loading)||void 0===L||L.dismiss()},params:{QrCode:b.QrCode},callback:I=>{var S;b.response=I,null!=I&&I.Succeeded?(b.chargingConnector=I.Data,b.navigateByUrl(m._.CHARGING_CONNECTOR_DETAIL.replace(":qrcode",null!==(S=b.QrCode)&&void 0!==S?S:""))):((0,i.Ip)(b.modalController,b.animationController,{message:{Title:"Error",Description:null==I?void 0:I.Message,Img:"assets/icon/ion-img/charging-error.svg"}}),setTimeout(()=>{b.listenerScan()},3e3))}})})()}}return(A=V).\u0275fac=function(R){return new(R||A)(o.rXU(M.Ix),o.rXU(a.W3),o.rXU(o.SKi),o.rXU(c.OD),o.rXU(a.Xi),o.rXU(a.K_),o.rXU(a.Hx))},A.\u0275cmp=o.VBU({type:A,selectors:[["app-modal-barcode-scanning"]],viewQuery:function(R,b){if(1&R&&(o.GBs(y,5),o.GBs(P,5)),2&R){let I;o.mGM(I=o.lsd())&&(b.QrCodeRef=I.first),o.mGM(I=o.lsd())&&(b.squareElement=I.first)}},decls:32,vars:12,consts:[["square",""],["QrCodeInpRef",""],["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["scroll-x","false","scroll-y","false"],[1,"container","h-100","p-0"],[1,"square"],[1,"zoom-ratio-wrapper"],["class","text-center mb-2",4,"ngIf"],[4,"ngIf"],[1,"d-flex","align-items-center"],[1,"col","border","border-top"],[1,"col-auto","px-3"],[1,"px-3","pb-4","pt-3","container-connect"],[1,"flex-grow-1","pr-3"],["lines","none"],["type","number",3,"ionInput","keyup","placeholder"],[3,"click","color"],["src","../../../assets/icon/ion-icon/arrow-right.svg"],[1,"text-center","mb-2"],["color","light","shape","round","fill","outline",3,"click"],["slot","start","name","flash"],[3,"ionChange","min","max"]],template:function(R,b){if(1&R){const I=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2)(3,"ion-button",3),o.bIt("click",function(){return o.eBV(I),o.Njj(b.closeModal())}),o.nrm(4,"ion-icon",4),o.k0s()(),o.j41(5,"ion-title"),o.EFF(6),o.nI1(7,"translate"),o.k0s()()(),o.j41(8,"ion-content",5)(9,"div",6),o.nrm(10,"div",7,0),o.j41(12,"div",8),o.DNE(13,k,6,3,"div",9)(14,C,2,2,"div",10),o.k0s()()(),o.j41(15,"ion-footer")(16,"div",11),o.nrm(17,"div",12),o.j41(18,"div",13),o.EFF(19),o.nI1(20,"translate"),o.k0s(),o.nrm(21,"div",12),o.k0s(),o.j41(22,"div",14)(23,"div",11)(24,"div",15)(25,"ion-item",16)(26,"ion-input",17,1),o.nI1(28,"translate"),o.bIt("ionInput",function(L){return o.eBV(I),o.Njj(b.changeQrCode(L))})("keyup",function(L){return o.eBV(I),o.Njj(b.keyupQrCode(L))}),o.k0s()()(),o.j41(29,"div")(30,"ion-button",18),o.bIt("click",function(L){return o.eBV(I),o.Njj(b.submitQrCode(L))}),o.nrm(31,"ion-icon",19),o.k0s()()()()()}2&R&&(o.R7$(6),o.JRh(o.bMT(7,6,"ScanQR")),o.R7$(7),o.Y8G("ngIf",!b.isTorchAvailable),o.R7$(),o.Y8G("ngIf",void 0!==b.minZoomRatio&&void 0!==b.maxZoomRatio),o.R7$(5),o.JRh(o.bMT(20,8,"Or")),o.R7$(7),o.FS9("placeholder",o.bMT(28,10,"EnterConnectorCode")),o.R7$(4),o.Y8G("color",b.QrCode?"primary":"medium"))},dependencies:[g.bT,a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.$w,a.uz,a.he,a.Ob,a.BC,a.ai,a.su,a.Gw,v.D9],styles:['ion-content[_ngcontent-%COMP%]{--background: transparent;position:relative}.square[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:1rem;width:13rem;height:13rem;border:.25rem solid var(--ion-color-gray);box-shadow:0 0 0 1000px #00000040}.zoom-ratio-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:2;left:50%;bottom:2rem;transform:translate(-50%);width:100%;padding:0 3.5rem}.zoom-ratio-wrapper[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;min-height:2.5rem;min-width:2.5rem;--border-radius: 1.5rem;--padding-top: 0;--padding-start: 1rem;--padding-end: 1rem;--padding-bottom: 0;--background: rgba(var(--ion-color-light-rgb), .4)}.zoom-ratio-wrapper[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:400}.container[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;border:1rem solid var(--ion-background-color-primary);border-radius:0}.container[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;border:1rem solid var(--ion-background-color-primary);border-radius:2rem}.container-connect[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 4rem;--border-radius: .5rem;--background: var(--ion-color-light)}.container-connect[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;min-height:4rem;min-width:4rem;--border-radius: .5rem;--padding-top: 0;--padding-start: 0;--padding-end: 0;--padding-bottom: 0}.container-connect[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}']}),V})()},2385:(O,D,u)=>{u.d(D,{T:()=>g});var h=u(467),T=u(5972);const n=function(){var v=(0,h.A)(function*(y){var P;y.params=y.params||{},(0,T.hm)({url:`api/Connector/gets/${null!==(P=y.params.isac)&&void 0!==P?P:3}`,params:{},success:k=>{"function"==typeof y.callback&&y.callback(k.data||null)},error:k=>{var C;"function"==typeof y.callback&&y.callback(null==k||null===(C=k.response)||void 0===C?void 0:C.data),console.error(k)},loading:null==y?void 0:y.loading})});return function(P){return v.apply(this,arguments)}}();var p=u(5354),i=u(4438),m=u(8974),o=u(177),M=u(4842);function a(v,y){if(1&v){const P=i.RV6();i.qex(0),i.j41(1,"ion-checkbox",13),i.bIt("ionChange",function(C){i.eBV(P);const E=i.XpG();return i.Njj(E.changeConnectorTypeFilter(C))}),i.EFF(2),i.k0s(),i.nrm(3,"br"),i.bVm()}if(2&v){let P;const k=y.$implicit,C=i.XpG();i.R7$(),i.Y8G("value",k.ConnectorType)("checked",C.ConnectorTypeFilters.includes(null!==(P=k.ConnectorType)&&void 0!==P?P:"")),i.R7$(),i.Lme("",k.ConnectorType," (",k.ConnectorDesc,")")}}function c(v,y){if(1&v&&(i.j41(0,"ion-radio",6),i.EFF(1),i.k0s(),i.nrm(2,"br")),2&v){const P=y.$implicit;i.Y8G("value",P.LookupId),i.R7$(),i.JRh(P.Objectvalue)}}let g=(()=>{var v;class y{constructor(k){this.modalController=k,this.filter={},this.ConnectorTypeFilters=[],this.connectors=[],this.chargeSpeeds=[]}ngOnInit(){var k,C;this.ConnectorTypeFilters=null!==(k=null===(C=this.filter.ConnectorTypeFilter)||void 0===C||null===(C=C.split(";"))||void 0===C||null===(C=C.map(E=>E.trim()))||void 0===C?void 0:C.filter(E=>!!E))&&void 0!==k?k:[],n({params:{},callback:E=>{var A;null!=E&&E.Succeeded&&(this.connectors=null!==(A=E.Data)&&void 0!==A?A:[])}}),(0,p.U)({params:{ObjectName:"v_charge_speed",PageNumber:1,PageSize:1e3},callback:E=>{null!=E&&E.Succeeded&&(this.chargeSpeeds=E.Data)}})}cancel(k){var C=this;return(0,h.A)(function*(){C.modalController.dismiss(null,"cancel")})()}clear(k){var C=this;return(0,h.A)(function*(){C.modalController.dismiss(null,"clear")})()}submit(k){var C=this;return(0,h.A)(function*(){C.filter.ConnectorTypeFilter=C.ConnectorTypeFilters.map(E=>E.trim()).filter(E=>!!E).join(";"),C.modalController.dismiss(C.filter,"submit")})()}changeElectricTypeFilter(k){var C=this;return(0,h.A)(function*(){C.filter.ElectricTypeFilter=k.detail.value})()}changeVConnectorStatusFilter(k){var C=this;return(0,h.A)(function*(){C.filter.VConnectorStatusFilter=k.detail.value})()}changeConnectorTypeFilter(k){var C=this;return(0,h.A)(function*(){k.detail.checked?C.ConnectorTypeFilters.includes(k.detail.value)||C.ConnectorTypeFilters.push(k.detail.value):C.ConnectorTypeFilters=C.ConnectorTypeFilters.filter(E=>E!=k.detail.value)})()}changeVChargeSpeedFilter(k){var C=this;return(0,h.A)(function*(){C.filter.VChargeSpeed=k.detail.value})()}}return(v=y).\u0275fac=function(k){return new(k||v)(i.rXU(m.W3))},v.\u0275cmp=i.VBU({type:v,selectors:[["app-modal-filter-charging-location"]],inputs:{filter:"filter"},decls:58,vars:39,consts:[["slot","end"],["color","dark","shape","clear",3,"click"],["name","close-outline"],[1,"container"],[1,"mb-4"],["mode","md",3,"ionChange","value"],["label-placement","end",3,"value"],[4,"ngFor","ngForOf"],[1,"d-flex","py-3"],[1,"col-6","pr-2"],["color","primary","expand","block","shape","round","fill","outline",3,"click"],[1,"col-6","pl-2"],["color","primary","expand","block","shape","round",3,"click"],["label-placement","end",3,"ionChange","value","checked"]],template:function(k,C){1&k&&(i.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i.EFF(3),i.nI1(4,"translate"),i.k0s(),i.j41(5,"ion-buttons",0)(6,"ion-button",1),i.bIt("click",function(A){return C.cancel(A)}),i.nrm(7,"ion-icon",2),i.k0s()()()(),i.j41(8,"ion-content")(9,"div",3)(10,"h5"),i.EFF(11),i.nI1(12,"translate"),i.k0s(),i.j41(13,"div",4)(14,"ion-radio-group",5),i.bIt("ionChange",function(A){return C.changeElectricTypeFilter(A)}),i.j41(15,"ion-radio",6),i.EFF(16),i.nI1(17,"translate"),i.k0s(),i.nrm(18,"br"),i.j41(19,"ion-radio",6),i.EFF(20,"AC"),i.k0s(),i.nrm(21,"br"),i.j41(22,"ion-radio",6),i.EFF(23,"DC"),i.k0s()()(),i.j41(24,"h5"),i.EFF(25),i.nI1(26,"translate"),i.k0s(),i.j41(27,"div",4),i.DNE(28,a,4,4,"ng-container",7),i.k0s(),i.j41(29,"h5"),i.EFF(30),i.nI1(31,"translate"),i.k0s(),i.j41(32,"div",4)(33,"ion-radio-group",5),i.bIt("ionChange",function(A){return C.changeVConnectorStatusFilter(A)}),i.j41(34,"ion-radio",6),i.EFF(35),i.nI1(36,"translate"),i.k0s(),i.nrm(37,"br"),i.j41(38,"ion-radio",6),i.EFF(39),i.nI1(40,"translate"),i.k0s()()(),i.j41(41,"h5"),i.EFF(42),i.nI1(43,"translate"),i.k0s(),i.j41(44,"div",4)(45,"ion-radio-group",5),i.bIt("ionChange",function(A){return C.changeVChargeSpeedFilter(A)}),i.Z7z(46,c,3,2,null,null,i.fX1),i.k0s()()()(),i.j41(48,"ion-footer")(49,"div",8)(50,"div",9)(51,"ion-button",10),i.bIt("click",function(A){return C.clear(A)}),i.EFF(52),i.nI1(53,"translate"),i.k0s()(),i.j41(54,"div",11)(55,"ion-button",12),i.bIt("click",function(A){return C.submit(A)}),i.EFF(56),i.nI1(57,"translate"),i.k0s()()()()),2&k&&(i.R7$(3),i.JRh(i.bMT(4,19,"Filter")),i.R7$(8),i.JRh(i.bMT(12,21,"Electric")),i.R7$(3),i.Y8G("value",C.filter.ElectricTypeFilter),i.R7$(),i.Y8G("value",3),i.R7$(),i.JRh(i.bMT(17,23,"All")),i.R7$(3),i.Y8G("value",1),i.R7$(3),i.Y8G("value",2),i.R7$(3),i.JRh(i.bMT(26,25,"ConnectorType")),i.R7$(3),i.Y8G("ngForOf",C.connectors),i.R7$(2),i.JRh(i.bMT(31,27,"Status")),i.R7$(3),i.Y8G("value",C.filter.VConnectorStatusFilter),i.R7$(),i.Y8G("value",2599),i.R7$(),i.JRh(i.bMT(36,29,"All")),i.R7$(3),i.Y8G("value",2500),i.R7$(),i.JRh(i.bMT(40,31,"ReadyCharge")),i.R7$(3),i.JRh(i.bMT(43,33,"ChargeSpeed")),i.R7$(3),i.Y8G("value",C.filter.VChargeSpeed),i.R7$(),i.Dyx(C.chargeSpeeds),i.R7$(6),i.JRh(i.bMT(53,35,"Reset")),i.R7$(4),i.JRh(i.bMT(57,37,"Apply")))},dependencies:[o.Sq,m.Jm,m.QW,m.eY,m.W9,m.M0,m.eU,m.iq,m.KO,m.f0,m.BC,m.ai,m.hB,m.uR,m.Je,M.D9],styles:["ion-radio[_ngcontent-%COMP%]{margin-right:3rem;margin-bottom:.25rem}ion-checkbox[_ngcontent-%COMP%]{--size: 1.5rem;--checkbox-background-checked: var(--ion-color-primary);margin-right:3rem;margin-bottom:.25rem}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}"]}),y})()},4397:(O,D,u)=>{u.d(D,{t:()=>m});const T=(0,u(5083).F3)("SpeechRecognition",{web:()=>u.e(6852).then(u.bind(u,6852)).then(o=>new o.SpeechRecognitionWeb)});var n=u(4438),p=u(8974),i=u(4842);let m=(()=>{var o;class M{constructor(c,g,v){this.changeDetectorRef=c,this.modalController=g,this.toastController=v,this.timeoutSubmit=3e3}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.srAvailable()},1e3)}ngOnDestroy(){this.srStop()}submit(){this.issubmit||(this.issubmit=!0,this.modalController.dismiss(this.message,"success")),this.srStop()}srAvailable(){T.available().then(c=>{console.log("available",c),T.removeAllListeners().then(()=>{T.addListener("partialResults",g=>{var v;console.log("partialResults",g.matches),null!==(v=g.matches)&&void 0!==v&&v.length&&(this.message=g.matches[0],this.timeoutSubmit=3e3,this.changeDetectorRef.detectChanges())}),T.addListener("listeningState",g=>{console.log("listeningState",g.status),"stoped"==g.status&&(this.issubmit||(this.message?this.submit():this.modalController.dismiss()))})}),c&&this.srCheck()})}srStart(){T.start({language:"vi-VN",maxResults:2,prompt:"G\u1ee3i \xfd\nH\xe3y n\xf3i \u0111\u1ecba ch\u1ec9 ho\u1eb7c tr\u1ea1m s\u1ea1c b\u1ea1n mu\u1ed1n t\xecm",partialResults:!0,popup:!1}).then(g=>{console.log(g),this.isrunning=!0,clearInterval(this.intervalTimeoutSubmit),this.intervalTimeoutSubmit=setInterval(()=>{this.timeoutSubmit-=100,this.timeoutSubmit<=0&&(this.submit(),clearInterval(this.intervalTimeoutSubmit))},100)}).catch(g=>{this.srStop()})}srStop(){this.isrunning&&T.stop()}srCheck(){T.checkPermissions().then(c=>{console.log("checkPermissions",c),"prompt"==c.speechRecognition?this.srRequest():"granted"==c.speechRecognition?this.srStart():"denied"==c.speechRecognition&&this.toastController.create({message:"Quy\u1ec1n truy c\u1eadp b\u1ecb t\u1eeb ch\u1ed1i!"}).then(g=>g.present())})}srRequest(){T.requestPermissions().then(c=>{console.log("requestPermissions",c),"prompt"==c.speechRecognition?this.srRequest():"granted"==c.speechRecognition?this.srStart():"denied"==c.speechRecognition&&this.toastController.create({message:"Quy\u1ec1n truy c\u1eadp b\u1ecb t\u1eeb ch\u1ed1i!"}).then(g=>g.present())})}}return(o=M).\u0275fac=function(c){return new(c||o)(n.rXU(n.gRc),n.rXU(p.W3),n.rXU(p.K_))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-modal-voice"]],decls:25,vars:18,consts:[[1,"px-3","py-4"],[1,"text-center"],["src","../../../assets/gif/voice.gif"],[1,"text-primary"],[1,"text-center","mt-4"],["mode","ios","color","primary","size","small","shape","round",3,"click"],[3,"innerHTML"]],template:function(c,g){1&c&&(n.j41(0,"div",0)(1,"div",1)(2,"b"),n.EFF(3),n.nI1(4,"translate"),n.k0s()(),n.j41(5,"div",1)(6,"div"),n.nrm(7,"ion-img",2),n.k0s(),n.j41(8,"div",3)(9,"b"),n.EFF(10),n.k0s()(),n.j41(11,"div",4)(12,"ion-button",5),n.bIt("click",function(){return g.submit()}),n.EFF(13),n.nI1(14,"translate"),n.k0s()()(),n.j41(15,"div",4)(16,"b"),n.EFF(17),n.nI1(18,"translate"),n.k0s(),n.nrm(19,"br")(20,"small",6),n.nI1(21,"translate"),n.nrm(22,"br")(23,"small",6),n.nI1(24,"translate"),n.k0s()()),2&c&&(n.R7$(3),n.JRh(n.bMT(4,8,"SearchByVoice")),n.R7$(2),n.Aen(g.isrunning?"visibility:visible":"visibility:hidden"),n.R7$(5),n.JRh(g.message),n.R7$(3),n.JRh(n.bMT(14,10,"Stop")),n.R7$(4),n.JRh(n.bMT(18,12,"SearchByVoiceSuggest")),n.R7$(3),n.Y8G("innerHTML",n.bMT(21,14,"SearchByVoiceSuggest1"),n.npT),n.R7$(3),n.Y8G("innerHTML",n.bMT(24,16,"SearchByVoiceSuggest2"),n.npT))},dependencies:[p.Jm,p.KW,i.D9],styles:["ion-img[_ngcontent-%COMP%]{width:12rem;margin:auto}"]}),M})()},8650:(O,D,u)=>{u.d(D,{l9:()=>B,Ip:()=>un,tm:()=>hn,Yy:()=>mn,He:()=>gn,Gn:()=>fn,cX:()=>U,CV:()=>X});var h=u(467),T=u(5005),n=u(4438),p=u(8974),i=u(177),m=u(4842);function o(s,f){if(1&s&&(n.qex(0),n.j41(1,"div")(2,"ion-thumbnail"),n.nrm(3,"img",9),n.k0s()(),n.bVm()),2&s){const r=n.XpG();n.R7$(3),n.Y8G("src",null==r.message?null:r.message.Img,n.B4B)}}function M(s,f){1&s&&(n.qex(0),n.j41(1,"div",10),n.nrm(2,"ion-icon",11),n.k0s(),n.bVm())}let a=(()=>{var s;class f{constructor(t){this.modalController=t}ngOnInit(){}cancel(){this.modalController.dismiss(this.selectedId,"cancel")}confirm(){this.modalController.dismiss(this.selectedId,"confirm")}}return(s=f).\u0275fac=function(t){return new(t||s)(n.rXU(p.W3))},s.\u0275cmp=n.VBU({type:s,selectors:[["app-modal-confirm"]],inputs:{selectedId:"selectedId",message:"message"},decls:17,vars:11,consts:[[1,"d-flex","justify-content-center","pt-5","pb-4"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"px-3","my-0","text-center"],[1,"w-100","d-flex","flex-column","p-4"],["mode","ios","color","danger","expand","block",3,"click"],[1,"mt-3"],["mode","ios","color","medium","expand","block","fill","outline",3,"click"],[3,"src"],[1,"text-center"],["name","help-circle-outline","color","danger"]],template:function(t,e){if(1&t&&(n.j41(0,"div",0)(1,"div"),n.qex(2,1),n.DNE(3,o,4,1,"ng-container",2)(4,M,3,0,"ng-container",3),n.bVm(),n.j41(5,"h6",4),n.EFF(6),n.nI1(7,"translate"),n.k0s()()(),n.j41(8,"div",5)(9,"div")(10,"ion-button",6),n.bIt("click",function(){return e.confirm()}),n.EFF(11),n.nI1(12,"translate"),n.k0s()(),n.j41(13,"div",7)(14,"ion-button",8),n.bIt("click",function(){return e.cancel()}),n.EFF(15),n.nI1(16,"translate"),n.k0s()()()),2&t){let l,d,_;n.R7$(2),n.Y8G("ngSwitch",null!=e.message&&e.message.Img?1:0),n.R7$(),n.Y8G("ngSwitchCase",1),n.R7$(3),n.JRh(n.bMT(7,5,null!==(l=null==e.message?null:e.message.TitleConfirm)&&void 0!==l?l:"AreYouSure")),n.R7$(5),n.JRh(n.bMT(12,7,null!==(d=null==e.message?null:e.message.TextConfirm)&&void 0!==d?d:"Confirm")),n.R7$(4),n.JRh(n.bMT(16,9,null!==(_=null==e.message?null:e.message.TextCancel)&&void 0!==_?_:"Cancel"))}},dependencies:[i.ux,i.e1,i.fG,p.Jm,p.iq,p.Zx,m.D9],styles:["ion-icon[_ngcontent-%COMP%]{font-size:10rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;margin:0 auto 1rem}ion-button[_ngcontent-%COMP%]{--border-radius: .5rem}"]}),f})();var c=u(7168),g=u(6539),v=u(1312),y=u(3588),P=u(8833),k=u(2175);function C(s,f){if(1&s){const r=n.RV6();n.j41(0,"ion-buttons",11)(1,"ion-button",1),n.bIt("click",function(e){n.eBV(r);const l=n.XpG();return n.Njj(l.readAll(e))}),n.nrm(2,"ion-icon",12),n.k0s()()}}function E(s,f){1&s&&(n.j41(0,"div",13),n.nrm(1,"ion-spinner",14),n.k0s())}function A(s,f){1&s&&(n.j41(0,"div",15),n.nrm(1,"ion-img",16),n.j41(2,"div",17),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&s&&(n.R7$(3),n.JRh(n.bMT(4,1,"DataNotFound")))}function V(s,f){if(1&s){const r=n.RV6();n.qex(0),n.j41(1,"div",18),n.bIt("click",function(e){const l=n.eBV(r).$implicit,d=n.XpG();return n.Njj(d.openDetail(e,l))}),n.j41(2,"div",19)(3,"b"),n.EFF(4),n.nI1(5,"translate"),n.k0s(),n.j41(6,"small",20),n.EFF(7),n.k0s()(),n.nrm(8,"div",21),n.k0s(),n.nrm(9,"hr"),n.bVm()}if(2&s){let r;const t=f.$implicit,e=n.XpG();n.R7$(),n.HbH(t.IsRead?"item-color-light":"item-color-secondary"),n.R7$(3),n.JRh(null!==(r=t.Title)&&void 0!==r?r:n.bMT(5,5,"Notify")),n.R7$(3),n.JRh(e.APP_FUNC_FormatDate(t.SentTime,"HH:mm, DD/MM/YYYY")),n.R7$(),n.Y8G("innerHTML",e.APP_FUNC_RenderNotify(t),n.npT)}}function N(s,f){if(1&s){const r=n.RV6();n.j41(0,"ion-infinite-scroll",22),n.bIt("ionInfinite",function(e){n.eBV(r);const l=n.XpG();return n.Njj(l.onIonInfinite(e))}),n.nrm(1,"ion-infinite-scroll-content"),n.k0s()}}let R=(()=>{var s;class f{constructor(t,e,l,d){this.router=t,this.modalController=e,this.loadingController=l,this.toastController=d,this.APP_ROUTE=P._,this.APP_FUNC_FormatMoney=v.xi,this.APP_FUNC_FormatDate=v.Rv,this.APP_FUNC_RenderNotify=v.xG,this.v_notifytype=y.XU,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.notifys=[],this.loadingController.create({message:""}).then(_=>this.loading=_)}onClose(t){var e=this;return(0,h.A)(function*(){e.modalController.dismiss(null,"cancel")})()}ngOnInit(){var t=this;(0,h.A)(function*(){(yield(0,g.kU)())&&t.refreshData()})()}onIonRefresher(t){this.filter={},this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}resetData(){this.notifys.length=0}pushData(t){this.notifys=this.notifys.concat(t)}refreshData(t){this.filter={},this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging(t),(0,c.kM)({callback:e=>{null!=e&&e.Succeeded&&(this.notifySumary=e.Data)}})}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}searchChange(t){this.filter.search=t.target.value.replace(/[\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\{\]\}\\\|\;\:\'\"\,\<\.\>\/\?]+/g," ").replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}sortChange(t,e){this.paging.sortfield=t||null,this.paging.sorttype=e||null,this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}loadData_Paging(t){var e=this;return(0,h.A)(function*(){e.paging.loading=!0,(0,c.fp)({loading:l=>{var d,_;l?null===(d=e.loading)||void 0===d||d.present():null===(_=e.loading)||void 0===_||_.dismiss()},params:{PageNumber:e.paging.page,PageSize:e.paging.limit},callback:l=>{var d;e.response=l,null!=l&&l.Succeeded?e.pushData(null!==(d=null==l?void 0:l.Data)&&void 0!==d?d:[]):U(e.toastController,{},l).then(_=>_.present()),e.paging.loading=!1,e.paging.active=!(null==l||!l.HasNextPage),t&&t()}})})()}readAll(t){var e=this;return(0,h.A)(function*(){(0,c.Ag)({loading:l=>{var d,_;l?null===(d=e.loading)||void 0===d||d.present():null===(_=e.loading)||void 0===_||_.dismiss()},params:{IsRead:!0},callback:l=>{null!=l&&l.Succeeded?e.refreshData():U(e.toastController,{},l).then(d=>d.present())}})})()}get totalNotifyUnread(){var t,e;return null!==(t=null===(e=this.notifySumary)||void 0===e?void 0:e.TotalUnread)&&void 0!==t?t:0}openDetail(t,e){var l=this;return(0,h.A)(function*(){e.IsRead||(0,c.hd)({params:{NotifyId:e.NotifyId},callback:d=>{null!=d&&d.Succeeded&&l.notifys.filter(_=>_.NotifyId==e.NotifyId).forEach(_=>_.IsRead=!0)}}),e.DocType&&(l.modalController.dismiss(),(0,v.vb)(l.router,{doctype:e.DocType,docid:e.DocId}))})()}}return(s=f).\u0275fac=function(t){return new(t||s)(n.rXU(k.Ix),n.rXU(p.W3),n.rXU(p.Xi),n.rXU(p.K_))},s.\u0275cmp=n.VBU({type:s,selectors:[["app-modal-notify"]],decls:18,vars:8,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","end",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["class","container-loading",4,"ngIf"],["class","container container-loading py-5 text-center",4,"ngIf"],[1,"container","p-0"],[1,"card-notify"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],["slot","end"],["name","checkmark-done-outline"],[1,"container-loading"],["name","circular","color","primary"],[1,"container","container-loading","py-5","text-center"],["src","../../../assets/icon/ion-img/no-data.svg"],[1,"text-muted","mt-4"],[1,"notify-item",3,"click"],[1,"d-flex","align-items-start","justify-content-between","notify-header"],[1,"notify-time","font-condensed","text-nowrap","mt-1"],[1,"mt-2","notify-body",3,"innerHTML"],[3,"ionInfinite"]],template:function(t,e){1&t&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n.bIt("click",function(d){return e.onClose(d)}),n.nrm(4,"ion-icon",2),n.k0s()(),n.j41(5,"ion-title"),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.DNE(8,C,3,0,"ion-buttons",3),n.k0s()(),n.j41(9,"ion-content")(10,"ion-refresher",4),n.bIt("ionRefresh",function(d){return e.onIonRefresher(d)}),n.nrm(11,"ion-refresher-content"),n.k0s(),n.DNE(12,E,2,0,"div",5)(13,A,5,3,"div",6),n.j41(14,"div",7)(15,"div",8),n.DNE(16,V,10,7,"ng-container",9),n.k0s()(),n.DNE(17,N,2,0,"ion-infinite-scroll",10),n.k0s()),2&t&&(n.R7$(6),n.JRh(n.bMT(7,6,"Notify")),n.R7$(2),n.Y8G("ngIf",e.totalNotifyUnread),n.R7$(4),n.Y8G("ngIf",!e.response),n.R7$(),n.Y8G("ngIf",e.response&&!e.notifys.length),n.R7$(3),n.Y8G("ngForOf",e.notifys),n.R7$(),n.Y8G("ngIf",e.paging.active))},dependencies:[i.Sq,i.bT,p.Jm,p.QW,p.W9,p.eU,p.iq,p.KW,p.Ax,p.Hp,p.To,p.Ki,p.w2,p.BC,p.ai,m.D9],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color-primary) !important}.card-notify[_ngcontent-%COMP%]{overflow:hidden;border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}.card-notify[_ngcontent-%COMP%]   .notify-item[_ngcontent-%COMP%]{padding:1rem}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-light[_ngcontent-%COMP%]{background-color:var(--ion-color-light);color:var(--ion-color-light-contrast)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-light[_ngcontent-%COMP%]   .notify-time[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-light[_ngcontent-%COMP%] + hr[_ngcontent-%COMP%]{border-color:var(--ion-color-light-tint)!important}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-secondary[_ngcontent-%COMP%]{background-color:var(--ion-color-secondary);color:var(--ion-color-secondary-contrast)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-secondary[_ngcontent-%COMP%]   .notify-time[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.card-notify[_ngcontent-%COMP%]   .notify-item.item-color-secondary[_ngcontent-%COMP%] + hr[_ngcontent-%COMP%]{border-color:var(--ion-color-secondary-tint)!important}.card-notify[_ngcontent-%COMP%]   .notify-item[_ngcontent-%COMP%]   .notify-body[_ngcontent-%COMP%]{font-size:.875rem;color:var(--ion-color-medium)}.card-notify[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0}"]}),f})();var b=u(2385),I=u(4397),S=u(7392),L=u(7762),G=u(5312),j=u(3801),$=u(6841),x=u(4470);const W=["ref_searchbar"],Y=s=>({$implicit:s});function J(s,f){1&s&&(n.j41(0,"div",18),n.nrm(1,"ion-spinner",19),n.k0s())}function K(s,f){if(1&s){const r=n.RV6();n.qex(0),n.j41(1,"ion-button",25),n.bIt("click",function(e){n.eBV(r);const l=n.XpG(3);return n.Njj(l.refreshCurrentPosition(e))}),n.nrm(2,"ion-icon",26),n.j41(3,"ion-label"),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.bVm()}if(2&s){const r=n.XpG().$implicit;n.R7$(4),n.JRh(n.bMT(5,1,r.text))}}function z(s,f){if(1&s){const r=n.RV6();n.qex(0),n.j41(1,"ion-button",25),n.bIt("click",function(e){n.eBV(r);const l=n.XpG().$implicit,d=n.XpG(2);return n.Njj(d.clearFilter(e,l))}),n.j41(2,"ion-label"),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.nrm(5,"ion-icon",27),n.k0s(),n.bVm()}if(2&s){const r=n.XpG().$implicit;n.R7$(3),n.JRh(n.bMT(4,1,r.text))}}function Q(s,f){if(1&s){const r=n.RV6();n.qex(0),n.j41(1,"ion-button",25),n.bIt("click",function(e){n.eBV(r);const l=n.XpG().$implicit,d=n.XpG(2);return n.Njj(d.clearFilter(e,l))}),n.j41(2,"ion-label"),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.nrm(5,"ion-icon",27),n.k0s(),n.bVm()}if(2&s){const r=n.XpG().$implicit;n.R7$(3),n.JRh(n.bMT(4,1,r.text))}}function H(s,f){if(1&s&&(n.qex(0)(1,22),n.DNE(2,K,6,3,"ng-container",23)(3,z,6,3,"ng-container",23)(4,Q,6,3,"ng-container",24),n.bVm()()),2&s){const r=f.$implicit;n.R7$(),n.Y8G("ngSwitch",r.type),n.R7$(),n.Y8G("ngSwitchCase","Nearby"),n.R7$(),n.Y8G("ngSwitchCase","Search")}}function Z(s,f){if(1&s&&(n.qex(0),n.j41(1,"div",20)(2,"div",21),n.DNE(3,H,5,3,"ng-container",16),n.k0s()(),n.bVm()),2&s){const r=n.XpG();n.R7$(3),n.Y8G("ngForOf",r.getFilters())}}function q(s,f){1&s&&(n.j41(0,"div",28),n.nrm(1,"img",29),n.j41(2,"div",30),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&s&&(n.R7$(3),n.JRh(n.bMT(4,1,"DataNotFound")))}function nn(s,f){if(1&s&&(n.qex(0),n.j41(1,"div",31),n.eu8(2,32),n.k0s(),n.bVm()),2&s){const r=f.$implicit;n.XpG();const t=n.sdS(24);n.R7$(2),n.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",n.eq3(2,Y,r))}}function en(s,f){if(1&s){const r=n.RV6();n.j41(0,"ion-infinite-scroll",33),n.bIt("ionInfinite",function(e){n.eBV(r);const l=n.XpG();return n.Njj(l.onIonInfinite(e))}),n.nrm(1,"ion-infinite-scroll-content"),n.k0s()}}function tn(s,f){if(1&s&&(n.qex(0),n.nrm(1,"ion-icon",46),n.j41(2,"small")(3,"b"),n.EFF(4),n.k0s(),n.j41(5,"b"),n.EFF(6),n.k0s()(),n.j41(7,"small",47)(8,"b"),n.EFF(9),n.nI1(10,"translate"),n.k0s()(),n.bVm()),2&s){let r,t;const e=n.XpG().$implicit;n.R7$(3),n.HbH(e.TotalConnectorReady?"text-primary":"text-danger"),n.R7$(),n.JRh(null!==(r=e.TotalConnectorReady)&&void 0!==r?r:0),n.R7$(2),n.SpI("/",null!==(t=e.TotalConnector)&&void 0!==t?t:0,""),n.R7$(3),n.JRh(n.bMT(10,5,"ConnectorReady"))}}function on(s,f){if(1&s&&(n.qex(0),n.nrm(1,"ion-icon",48),n.j41(2,"small")(3,"b"),n.EFF(4),n.k0s()(),n.bVm()),2&s){const r=n.XpG().$implicit,t=n.XpG();n.R7$(2),n.ZvI("ml-1 text-",t.APP_FUNC_GetColor_VLocationStatus(r.VLocationStatus),""),n.R7$(2),n.JRh(r.VLocationStatusName)}}function an(s,f){if(1&s){const r=n.RV6();n.j41(0,"div",34)(1,"div",35),n.bIt("click",function(e){const l=n.eBV(r).$implicit,d=n.XpG();return n.Njj(d.openDetail(e,l))}),n.j41(2,"div",36)(3,"ion-avatar"),n.nrm(4,"img",37),n.k0s(),n.j41(5,"div",38)(6,"small"),n.EFF(7),n.k0s()()(),n.j41(8,"div",39)(9,"h5",40)(10,"b"),n.EFF(11),n.k0s()(),n.j41(12,"div")(13,"small"),n.EFF(14),n.k0s()()()(),n.j41(15,"div",41),n.DNE(16,tn,11,7,"ng-container",12)(17,on,5,4,"ng-container",12),n.k0s(),n.j41(18,"div",42)(19,"small",43),n.EFF(20),n.k0s(),n.j41(21,"ion-button",44),n.bIt("click",function(e){const l=n.eBV(r).$implicit,d=n.XpG();return n.Njj(d.openDirection(e,l))}),n.j41(22,"ion-label"),n.EFF(23),n.nI1(24,"translate"),n.k0s(),n.nrm(25,"ion-icon",45),n.k0s()()()}if(2&s){const r=f.$implicit,t=n.XpG();n.R7$(7),n.SpI("",t.getDistance2CL(r),"km"),n.R7$(4),n.JRh(r.LocName),n.R7$(3),n.JRh(r.LocAddress),n.R7$(2),n.Y8G("ngIf",r.VLocationStatus==t.v_location_status.SanSang),n.R7$(),n.Y8G("ngIf",r.VLocationStatus!=t.v_location_status.SanSang),n.R7$(3),n.JRh(r.ConnectorType),n.R7$(3),n.JRh(n.bMT(24,7,"Direction"))}}let rn=(()=>{var s;class f{constructor(t,e,l,d,_){this.router=t,this.modalController=e,this.animationController=l,this.toastController=d,this.loadingController=_,this.APP_ROUTE=P._,this.v_location_status=y.Ix,this.APP_FUNC_GetColor_VLocationStatus=v.Bb,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.currentPosition=G.c.app_default.geolocation.pos,this.chargingLocations=[],this.loadingController.create({message:""}).then(F=>this.loading=F),(0,j.Xz)().then(F=>this.currentPosition=F)}close(t){this.modalController.dismiss(null,"close")}navigateByUrl(t){var e=this;return(0,h.A)(function*(){e.modalController.dismiss().then(l=>{e.router.navigateByUrl(t)})})()}ngOnInit(){(0,j.fA)({callback:t=>{null!=t&&t.currentAddress&&(this.currentAddress=null==t?void 0:t.currentAddress)}}),this.refreshData()}ionViewDidEnter(){setTimeout(()=>{var t;null===(t=this.ref_searchbar)||void 0===t||t.setFocus()},300)}onIonRefresher(t){this.filter={},this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}resetData(){this.chargingLocations.length=0}pushData(t,e){1==this.paging.page&&(this.chargingLocations.length=0),this.chargingLocations=this.chargingLocations.concat(t),e&&e(this.chargingLocations)}totalData(){return this.chargingLocations.length}refreshData(t){var e=this;return(0,h.A)(function*(){e.filter={},e.paging.page=1,e.paging.active=!0,e.loadData_Paging(t)})()}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}searchChange(t){this.filter={},this.filter.search=t.target.value.replace(/[\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\{\]\}\\\|\;\:\'\"\,\<\.\>\/\?]+/g," ").replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}sortChange(t,e){this.paging.sortfield=t||null,this.paging.sorttype=e||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging()}loadData_Paging(t){var e=this;return(0,h.A)(function*(){if(e.paging.loading=!0,e.filter.search)(0,$.tC)({loading:d=>{var _,F;d?null===(_=e.loading)||void 0===_||_.present():null===(F=e.loading)||void 0===F||F.dismiss()},params:{Search:e.filter.search,PageNumber:e.paging.page,PageSize:e.paging.limit},callback:d=>{var _;e.response=d,null!=d&&d.Succeeded?e.pushData(null!==(_=d.Data)&&void 0!==_?_:[]):U(e.toastController,{},d).then(F=>F.present()),e.paging.loading=!1,e.paging.active=!(null==d||!d.HasNextPage),t&&t()}});else if(e.filter.ElectricTypeFilter||e.filter.ConnectorTypeFilter||e.filter.VConnectorStatusFilter||e.filter.VChargeSpeed)(0,$.Zd)({loading:d=>{var _,F;d?null===(_=e.loading)||void 0===_||_.present():null===(F=e.loading)||void 0===F||F.dismiss()},params:{ElectricTypeFilter:e.filter.ElectricTypeFilter,ConnectorTypeFilter:e.filter.ConnectorTypeFilter,VConnectorStatusFilter:e.filter.VConnectorStatusFilter,VChargeSpeed:e.filter.VChargeSpeed,PageNumber:e.paging.page,PageSize:e.paging.limit},callback:d=>{var _;e.response=d,null!=d&&d.Succeeded?e.pushData(null!==(_=d.Data)&&void 0!==_?_:[]):U(e.toastController,{},d).then(F=>F.present()),e.paging.loading=!1,e.paging.active=!(null==d||!d.HasNextPage),t&&t()}});else{var l=yield(0,j.Xz)();(0,$.Bc)({loading:d=>{var _,F;d?null===(_=e.loading)||void 0===_||_.present():null===(F=e.loading)||void 0===F||F.dismiss()},params:{TopLeftLat:l.lat+.1,TopLeftLong:l.lng-.1,RightBottomLat:l.lat-.1,RightBottomLong:l.lng+.1,PageNumber:e.paging.page,PageSize:e.paging.limit},callback:d=>{var _;e.response=d,null!=d&&d.Succeeded?(e.pushData(null!==(_=d.Data)&&void 0!==_?_:[],F=>{F.forEach(Mn=>{})}),0==e.totalData()&&1==e.paging.page&&(e.filter.VConnectorStatusFilter=y.EF.DangRanh,e.filterChange())):U(e.toastController,{},d).then(F=>F.present()),e.paging.loading=!1,e.paging.active=!(null==d||!d.HasNextPage),t&&t()}})}})()}openDirection(t,e){return(0,h.A)(function*(){t.preventDefault(),yield S.P.open({url:(0,v.LZ)(yield(0,j.Xz)(),{lat:null==e?void 0:e.LocLat,lng:null==e?void 0:e.LocLong})})})()}openDetail(t,e){var l=this;return(0,h.A)(function*(){var d,_;l.navigateByUrl(P._.CHARGING_LOCATION_DETAIL.replace(":id",null!==(d=null===(_=e.ChargeLocationId)||void 0===_?void 0:_.toString())&&void 0!==d?d:""))})()}getLocImage(t){var e;if(!t.LocImage&&t.LocImages)if("string"==typeof t.LocImages){var l,d;t.LocImage=(null!==(l=(null!==(d=JSON.parse(t.LocImages))&&void 0!==d?d:[])[0])&&void 0!==l?l:{}).imageurl}else{var _,F;t.LocImage=(null!==(_=(null!==(F=t.LocImages)&&void 0!==F?F:[])[0])&&void 0!==_?_:{}).imageurl}return null!==(e=t.LocImage)&&void 0!==e?e:"assets/favicon/favicon.svg"}getDistance2CL(t){return(0,v.Rw)((0,v.GH)(this.currentPosition,{lat:null==t?void 0:t.LocLat,lng:null==t?void 0:t.LocLong}),100)}getFilters(){var t=[];if(this.filter.search&&t.push({type:"Search",value:this.filter.search,text:this.filter.search}),this.filter.ElectricTypeFilter)switch(this.filter.ElectricTypeFilter){case 1:t.push({type:"ElectricTypeFilter",value:this.filter.ElectricTypeFilter,text:"AC"});break;case 2:t.push({type:"ElectricTypeFilter",value:this.filter.ElectricTypeFilter,text:"DC"});break;case 3:t.push({type:"ElectricTypeFilter",value:this.filter.ElectricTypeFilter,text:"AllElectricType"})}if(this.filter.VConnectorStatusFilter)switch(this.filter.VConnectorStatusFilter){case 2500:t.push({type:"VConnectorStatusFilter",value:this.filter.VConnectorStatusFilter,text:"ConnectorReady"});break;case 2599:t.push({type:"VConnectorStatusFilter",value:this.filter.VConnectorStatusFilter,text:"AllConnectorStatus"})}return this.filter.ConnectorTypeFilter&&this.filter.ConnectorTypeFilter.split(";").forEach(e=>{t.push({type:"ConnectorTypeFilter",value:e,text:e})}),this.filter.VChargeSpeed&&y.My._data.filter(e=>e.LookupId==this.filter.VChargeSpeed).forEach(e=>{t.push({type:"VChargeSpeed",value:e.LookupId,text:e.Objectvalue})}),t.length||t.push({type:"Nearby",value:"Nearby",text:"Nearby"}),t}clearFilter(t,e){var l=this;return(0,h.A)(function*(){if("Search"==e.type)l.filter.search=void 0;else if("ElectricTypeFilter"==e.type)l.filter.ElectricTypeFilter=void 0;else if("VConnectorStatusFilter"==e.type)l.filter.VConnectorStatusFilter=void 0;else if("ConnectorTypeFilter"==e.type){var d;l.filter.ConnectorTypeFilter=null===(d=l.filter.ConnectorTypeFilter)||void 0===d?void 0:d.split(";").filter(_=>_!=e.value).join(";")}else"VChargeSpeed"==e.type&&(l.filter.VChargeSpeed=void 0);l.filterChange()})()}get getChargingLocations(){return this.chargingLocations.forEach(t=>{t.Distance2CL=this.getDistance2CL(t)}),this.chargingLocations.sort((t,e)=>{var l,d;return(null!==(l=t.Distance2CL)&&void 0!==l?l:0)-(null!==(d=e.Distance2CL)&&void 0!==d?d:0)})}refreshCurrentPosition(t){var e=this;return(0,h.A)(function*(){L.L.getCurrentPosition({enableHighAccuracy:!0}).then(function(){var l=(0,h.A)(function*(d){if(d.coords){var _={lat:d.coords.latitude,lng:d.coords.longitude};yield(0,j.fj)({params:_}),e.requestAddress(_),e.refreshData()}});return function(d){return l.apply(this,arguments)}}())})()}presentModalFilterChargingLocationComponent(t){var e=this;return(0,h.A)(function*(){const l=yield e.modalController.create({component:b.T,componentProps:{filter:Object.assign({},e.filter,{search:null})},backdropDismiss:!0,keyboardClose:!0,cssClass:"ion-modal-filter",enterAnimation:d=>B(e.animationController,d),leaveAnimation:d=>X(e.animationController,d)});l.onDidDismiss().then(d=>{"clear"==d.role?(e.filter={},e.filterChange()):"submit"==d.role&&(e.filter=d.data,e.filterChange())}),l.present()})()}presentModalVoice(t){var e=this;return(0,h.A)(function*(){const l=yield e.modalController.create({component:I.t,backdropDismiss:!0,keyboardClose:!0,cssClass:"ion-modal-breakpoint",initialBreakpoint:.75});l.onDidDismiss().then(d=>{"success"==d.role&&d.data&&(e.filter.search=d.data,e.filterChange())}),l.present()})()}requestAddress(t){(0,x.S)({params:{lat:t.lat,lng:t.lng},callback:e=>{var l,d,_;"OK"==(null==e?void 0:e.status)&&(this.currentAddress=null!==(l=(null!==(d=e.results[0])&&void 0!==d?d:{}).formatted_address)&&void 0!==l?l:null===(_=e.plus_code)||void 0===_?void 0:_.compound_code,(0,j.RR)({params:{currentAddress:this.currentAddress}}))}})}}return(s=f).\u0275fac=function(t){return new(t||s)(n.rXU(k.Ix),n.rXU(p.W3),n.rXU(p.Hx),n.rXU(p.K_),n.rXU(p.Xi))},s.\u0275cmp=n.VBU({type:s,selectors:[["app-modal-search-charging-location"]],viewQuery:function(t,e){if(1&t&&n.GBs(W,5),2&t){let l;n.mGM(l=n.lsd())&&(e.ref_searchbar=l.first)}},decls:25,vars:9,consts:[["ref_searchbar",""],["templateChargingLocation",""],["color","primary"],["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["show-clear-button","never","show-cancel-button","never",3,"ionChange","ionClear","placeholder","value"],["slot","end"],["color","dark","src","../../../assets/icon/ion-icon/microphone.svg"],["src","../../../assets/icon/ion-icon/filter.svg"],["slot","fixed",3,"ionRefresh"],["class","container-loading",4,"ngIf"],[4,"ngIf"],["class","container py-5 text-center",4,"ngIf"],[1,"container","pt-2","pb-4"],[1,"row"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"container-loading"],["name","circular","color","primary"],[1,"container","mt-3"],[1,"row","flex-nowrap","mt-3","list-filters","overflow-auto","text-nowrap"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mode","ios","size","small","shape","round","color","primary",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/locate-outline.svg"],["slot","end","name","close-outline"],[1,"container","py-5","text-center"],["src","../../../assets/image/temp/no-info.svg"],[1,"text-muted","mt-4"],[1,"col-12","col-lg-6","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ionInfinite"],[1,"card-day","bg-white","p-3","h-100","d-flex","flex-column"],[1,"d-flex","align-items-start","cursor-pointer",3,"click"],[1,"col-auto","px-0"],["src","../../../assets/favicon/favicon.png"],[1,"text-danger","text-center"],[1,"col","pl-2","pr-0"],[1,"mt-0","mb-1"],[1,"d-flex","align-items-center"],[1,"flex-grow-1","d-flex","align-items-end","justify-content-between","mt-2"],[1,"text-muted"],["size","small","shape","round","color","primary",3,"click"],["src","../../../assets/icon/ion-icon/direction.svg","slot","end"],["color","primary","src","../../../assets/icon/ion-icon/electric.svg",1,"fs-4"],[1,"ml-2"],["color","primary","src","../../../assets/icon/ion-icon/changing-station.svg",1,"fs-4"]],template:function(t,e){if(1&t){const l=n.RV6();n.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",4),n.bIt("click",function(_){return n.eBV(l),n.Njj(e.close(_))}),n.nrm(4,"ion-icon",5),n.k0s()(),n.j41(5,"ion-searchbar",6,0),n.nI1(7,"translate"),n.bIt("ionChange",function(_){return n.eBV(l),n.Njj(e.searchChange(_))})("ionClear",function(_){return n.eBV(l),n.Njj(e.searchChange(_))}),n.k0s(),n.j41(8,"ion-buttons",7)(9,"ion-button",4),n.bIt("click",function(_){return n.eBV(l),n.Njj(e.presentModalVoice(_))}),n.nrm(10,"ion-icon",8),n.k0s(),n.j41(11,"ion-button",4),n.bIt("click",function(_){return n.eBV(l),n.Njj(e.presentModalFilterChargingLocationComponent(_))}),n.nrm(12,"ion-icon",9),n.k0s()()()(),n.j41(13,"ion-content")(14,"ion-refresher",10),n.bIt("ionRefresh",function(_){return n.eBV(l),n.Njj(e.onIonRefresher(_))}),n.nrm(15,"ion-refresher-content"),n.k0s(),n.DNE(16,J,2,0,"div",11)(17,Z,4,1,"ng-container",12)(18,q,5,3,"div",13),n.j41(19,"div",14)(20,"div",15),n.DNE(21,nn,3,4,"ng-container",16),n.k0s()(),n.DNE(22,en,2,0,"ion-infinite-scroll",17),n.k0s(),n.DNE(23,an,26,9,"ng-template",null,1,n.C5r)}if(2&t){let l;n.R7$(5),n.FS9("placeholder",null!==(l=e.currentAddress)&&void 0!==l?l:n.bMT(7,7,"FindChargingLocation")),n.Y8G("value",e.filter.search),n.R7$(11),n.Y8G("ngIf",!e.response),n.R7$(),n.Y8G("ngIf",e.response),n.R7$(),n.Y8G("ngIf",e.response&&!e.chargingLocations.length),n.R7$(3),n.Y8G("ngForOf",e.chargingLocations),n.R7$(),n.Y8G("ngIf",e.paging.active)}},dependencies:[i.Sq,i.bT,i.T3,i.ux,i.e1,i.fG,p.mC,p.Jm,p.QW,p.W9,p.eU,p.iq,p.Ax,p.Hp,p.he,p.To,p.Ki,p.S1,p.w2,p.ai,p.Gw,m.D9],styles:[".card-day[_ngcontent-%COMP%]{border:1px solid var(--ion-color-gray);border-radius:1rem}.card-day[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:2rem;height:2rem}.list-filters[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 1rem;--padding-end: 1rem;margin:0 .5rem .5rem 0}.list-filters[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover   ion-icon[slot=end][_ngcontent-%COMP%]{color:var(--ion-color-danger)}.list-filters[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-child{margin-left:1rem}"]}),f})();function ln(s,f){if(1&s&&(n.qex(0),n.j41(1,"div")(2,"ion-thumbnail"),n.nrm(3,"img",9),n.k0s()(),n.bVm()),2&s){const r=n.XpG(2);n.R7$(3),n.Y8G("src",r.message.Img,n.B4B)}}function cn(s,f){1&s&&(n.qex(0),n.j41(1,"div",10),n.nrm(2,"ion-icon",11),n.k0s(),n.bVm())}function sn(s,f){if(1&s){const r=n.RV6();n.qex(0),n.j41(1,"div",1)(2,"div"),n.qex(3,2),n.DNE(4,ln,4,1,"ng-container",3)(5,cn,3,0,"ng-container",4),n.bVm(),n.j41(6,"h5",5),n.EFF(7),n.nI1(8,"translate"),n.k0s(),n.nrm(9,"p",6),n.k0s()(),n.j41(10,"div",7)(11,"div")(12,"ion-button",8),n.bIt("click",function(){n.eBV(r);const e=n.XpG();return n.Njj(e.close())}),n.EFF(13),n.nI1(14,"translate"),n.k0s()()(),n.bVm()}if(2&s){let r,t;const e=n.XpG();n.R7$(3),n.Y8G("ngSwitch",e.message.Img?1:0),n.R7$(),n.Y8G("ngSwitchCase",1),n.R7$(3),n.JRh(n.bMT(8,5,null!==(r=e.message.Title)&&void 0!==r?r:"Notice")),n.R7$(2),n.Y8G("innerHTML",e.message.Description,n.npT),n.R7$(4),n.JRh(n.bMT(14,7,null!==(t=e.message.TextClose)&&void 0!==t?t:"Close"))}}let dn=(()=>{var s;class f{constructor(t){this.modalController=t}ngOnInit(){}close(){this.modalController.dismiss()}}return(s=f).\u0275fac=function(t){return new(t||s)(n.rXU(p.W3))},s.\u0275cmp=n.VBU({type:s,selectors:[["app-modal-alert"]],inputs:{message:"message"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","px-4","pt-4"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"px-3","mt-0","mb-3","text-center"],[1,"my-0","text-center",3,"innerHTML"],[1,"w-100","d-flex","flex-column","p-4"],["color","primary","expand","block","shape","round",3,"click"],[3,"src"],[1,"text-center"],["name","help-outline","color","tertiary"]],template:function(t,e){1&t&&n.DNE(0,sn,15,9,"ng-container",0),2&t&&n.Y8G("ngIf",e.message)},dependencies:[i.bT,i.ux,i.e1,i.fG,p.Jm,p.iq,p.Zx,m.D9],styles:["ion-icon[_ngcontent-%COMP%]{font-size:10rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;margin:0 auto 1rem}"]}),f})();const U=function(){var s=(0,h.A)(function*(f,r,t){var e,l,d;return!r.message&&t&&(r.message=null!==(d=null==t?void 0:t.Message)&&void 0!==d?d:null!=t&&t.Succeeded?"Th\xe0nh c\xf4ng!":null!=t&&t.StatusCode?`L\u1ed7i: #${null==t?void 0:t.StatusCode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!",r.icon||(r.icon=null!=t&&t.Succeeded?"checkmark-circle-sharp":"alert-circle-outline"),r.color||(r.color=null!=t&&t.Succeeded?"success":"warning")),r.position||(r.position="bottom"),r.icon||(r.icon="bulb-outline"),r.color||(r.color="secondary"),r.duration=null!==(e=r.duration)&&void 0!==e?e:3e3,r.animated=null===(l=r.animated)||void 0===l||l,r.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield f.create(r)});return function(r,t,e){return s.apply(this,arguments)}}(),un=function(){var s=(0,h.A)(function*(f,r,t){let e=yield f.create({component:dn,componentProps:{selectedId:t.selectedId,message:t.message},cssClass:"ion-modal-small",backdropDismiss:!0,keyboardClose:!0,enterAnimation:l=>B(r,l),leaveAnimation:l=>X(r,l)});e.onDidDismiss().then(l=>{t.fnClose&&t.fnClose(l.data)}),e.present()});return function(r,t,e){return s.apply(this,arguments)}}(),mn=function(){var s=(0,h.A)(function*(f,r,t){let e=yield f.create({component:a,componentProps:{selectedId:t.selectedId,message:t.message},cssClass:"ion-modal-small",backdropDismiss:!0,keyboardClose:!0,enterAnimation:l=>B(r,l),leaveAnimation:l=>X(r,l)});e.onDidDismiss().then(l=>{"confirm"==l.role?t.fnConfirm&&t.fnConfirm(l.data):"cancel"==l.role&&t.fnCancel&&t.fnCancel(l.data)}),e.present()});return function(r,t,e){return s.apply(this,arguments)}}(),gn=function(){var s=(0,h.A)(function*(f,r,t){let e=yield f.create({component:R,mode:"ios",cssClass:"ion-modal-menu ion-modal-right",backdropDismiss:!0,keyboardClose:!0,enterAnimation:l=>w(r,l),leaveAnimation:l=>_n(r,l)});e.onDidDismiss().then(l=>{"confirm"==l.role?null!=t&&t.fnConfirm&&t.fnConfirm(l.data):"cancel"==l.role?null!=t&&t.fnCancel&&t.fnCancel(l.data):"redirect"==l.role&&null!=t&&t.router&&l.data&&(0,v.vb)(null==t?void 0:t.router,l.data),null!=t&&t.fnDismiss&&t.fnDismiss(l)}),e.present()});return function(r,t,e){return s.apply(this,arguments)}}(),fn=function(){var s=(0,h.A)(function*(f,r,t){let e=yield f.create({component:rn,backdropDismiss:!0,keyboardClose:!0,enterAnimation:l=>B(r,l),leaveAnimation:l=>X(r,l)});e.onDidDismiss().then(l=>{"confirm"==l.role?null!=t&&t.fnConfirm&&t.fnConfirm(l.data):"cancel"==l.role&&null!=t&&t.fnCancel&&t.fnCancel(l.data)}),e.present()});return function(r,t,e){return s.apply(this,arguments)}}(),hn=function(){var s=(0,h.A)(function*(f){(0,g.kU)().then(function(){var r=(0,h.A)(function*(t){t&&(yield f.create({component:T.I,mode:"ios",cssClass:"ion-modal-scanning barcode-scanning-modal",showBackdrop:!1})).present()});return function(t){return r.apply(this,arguments)}}())});return function(r){return s.apply(this,arguments)}}(),w=(s,f)=>{const r=f.shadowRoot,t=s.create().addElement(null==r?void 0:r.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),e=s.create().addElement(null==r?void 0:r.querySelector(".modal-wrapper")).keyframes([{offset:0,transform:"translateX(100%)"},{offset:1,transform:"translateX(0%)"}]);return s.create().addElement(f).easing("ease-out").duration(300).addAnimation([t,e])},_n=(s,f)=>w(s,f).direction("reverse"),B=(s,f)=>{const r=f.shadowRoot,t=s.create().addElement(null==r?void 0:r.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),e=s.create().addElement(null==r?void 0:r.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"0.99",transform:"scale(1)"}]);return s.create().addElement(f).easing("ease-out").duration(300).addAnimation([t,e])},X=(s,f)=>B(s,f).direction("reverse")}}]);