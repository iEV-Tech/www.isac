"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1261],{2254:(I,h,p)=>{p.d(h,{C:()=>k,D1:()=>F,cZ:()=>C,kT:()=>_,vE:()=>a});var m=p(467),f=p(7158);const C=function(){var o=(0,m.A)(function*(e){var t,u,b,r;e.params=e.params||{},(0,f.Ll)({url:"api/Feedback/create",params:{FbCatgId:null!==(t=e.params.FbCatgId)&&void 0!==t?t:null,ChargeLocationId:null!==(u=e.params.ChargeLocationId)&&void 0!==u?u:null,Title:null!==(b=e.params.Title)&&void 0!==b?b:null,Content:null!==(r=e.params.Content)&&void 0!==r?r:null},success:i=>{"function"==typeof e.callback&&e.callback(i.data||null)},error:i=>{var c;"function"==typeof e.callback&&e.callback(null==i||null===(c=i.response)||void 0===c?void 0:c.data),console.error(i)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}(),F=function(){var o=(0,m.A)(function*(e){var t,u,b,r,i;e.params=e.params||{},(0,f.IH)({url:"api/Feedback/update",params:{FeedbackId:null!==(t=e.params.FeedbackId)&&void 0!==t?t:null,FbCatgId:null!==(u=e.params.FbCatgId)&&void 0!==u?u:null,ChargeLocationId:null!==(b=e.params.ChargeLocationId)&&void 0!==b?b:null,Title:null!==(r=e.params.Title)&&void 0!==r?r:null,Content:null!==(i=e.params.Content)&&void 0!==i?i:null},success:c=>{"function"==typeof e.callback&&e.callback(c.data||null)},error:c=>{var l;"function"==typeof e.callback&&e.callback(null==c||null===(l=c.response)||void 0===l?void 0:l.data),console.error(c)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}(),_=function(){var o=(0,m.A)(function*(e){var t,u;e.params=e.params||{},(0,f.hm)({url:"api/Feedback/get-feedbacks",params:{PageNumber:null!==(t=e.params.PageNumber)&&void 0!==t?t:1,PageSize:null!==(u=e.params.PageSize)&&void 0!==u?u:10},success:b=>{"function"==typeof e.callback&&e.callback(b.data||null)},error:b=>{var r;"function"==typeof e.callback&&e.callback(null==b||null===(r=b.response)||void 0===r?void 0:r.data),console.error(b)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}(),k=function(){var o=(0,m.A)(function*(e){e.params=e.params||{},(0,f.hm)({url:`api/Feedback/get-byid/${e.params.FeedbackId}`,params:{},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var u;"function"==typeof e.callback&&e.callback(null==t||null===(u=t.response)||void 0===u?void 0:u.data),console.error(t)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}(),a=function(){var o=(0,m.A)(function*(e){e.params=e.params||{},(0,f.sj)({url:`api/Feedback/delete/${e.params.FeedbackId}`,params:{},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var u;"function"==typeof e.callback&&e.callback(null==t||null===(u=t.response)||void 0===u?void 0:u.data),console.error(t)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}()},1261:(I,h,p)=>{p.d(h,{l:()=>b});var m=p(467),f=p(2254),C=p(7158);const F=function(){var r=(0,m.A)(function*(i){var c,l;i.params=i.params||{},(0,C.hm)({url:"api/FeedbackCatg/get-feedbackcatgs",params:{PageNumber:null!==(c=i.params.PageNumber)&&void 0!==c?c:1,PageSize:null!==(l=i.params.PageSize)&&void 0!==l?l:10},success:n=>{"function"==typeof i.callback&&i.callback(n.data||null)},error:n=>{var s;"function"==typeof i.callback&&i.callback(null==n||null===(s=n.response)||void 0===s?void 0:s.data),console.error(n)},loading:null==i?void 0:i.loading})});return function(c){return r.apply(this,arguments)}}();var k=p(7518),a=p(4438),o=p(8974),e=p(177),t=p(4842);function u(r,i){if(1&r&&(a.qex(0),a.j41(1,"ion-select-option",13),a.EFF(2),a.k0s(),a.bVm()),2&r){const c=i.$implicit;a.R7$(),a.Y8G("value",c.FbCatgId),a.R7$(),a.JRh(c.FbCatgTitle)}}let b=(()=>{var r;class i{constructor(l,n,s){var d=this;this.modalController=l,this.loadingController=n,this.toastController=s,this.feedback={},this.feedbackcatgs=[],(0,m.A)(function*(){d.loading=yield d.loadingController.create({message:""})})()}ngOnInit(){this.FbCatgId&&(this.feedback.FbCatgId=this.FbCatgId),this.FbCatgId&&(this.feedback.ChargeLocationId=this.ChargeLocationId),F({params:{},callback:l=>{var n;null!=l&&l.Succeeded?this.feedbackcatgs=null!==(n=l.Data)&&void 0!==n?n:[]:(0,k.cX)(this.toastController,{},l).then(s=>s.present())}}),this.FeedbackId&&(0,f.C)({loading:l=>{var n,s;l?null===(n=this.loading)||void 0===n||n.present():null===(s=this.loading)||void 0===s||s.dismiss()},params:{FeedbackId:this.FeedbackId},callback:l=>{var n;this.response=l,null!=l&&l.Succeeded?this.feedback=null!==(n=l.Data)&&void 0!==n?n:{}:(0,k.cX)(this.toastController,{},l).then(s=>s.present())}})}close(l){var n=this;return(0,m.A)(function*(){n.modalController.dismiss(null,"cancel")})()}submit(l){var n=this;return(0,m.A)(function*(){var s;null!==(s=n.feedback)&&void 0!==s&&s.FeedbackId?(0,f.D1)({loading:d=>{var v,g;d?null===(v=n.loading)||void 0===v||v.present():null===(g=n.loading)||void 0===g||g.dismiss()},params:n.feedback,callback:d=>{n.response=d,null!=d&&d.Succeeded?n.modalController.dismiss(null,"success"):(0,k.cX)(n.toastController,{},d).then(v=>v.present())}}):(0,f.cZ)({loading:d=>{var v,g;d?null===(v=n.loading)||void 0===v||v.present():null===(g=n.loading)||void 0===g||g.dismiss()},params:n.feedback,callback:d=>{n.response=d,null!=d&&d.Succeeded?n.modalController.dismiss(null,"success"):(0,k.cX)(n.toastController,{},d).then(v=>v.present())}})})()}changeTitle(l){var n=this;return(0,m.A)(function*(){n.feedback.Title=l.detail.value})()}changeContent(l){var n=this;return(0,m.A)(function*(){n.feedback.Content=l.detail.value})()}changeCatg(l){var n=this;return(0,m.A)(function*(){n.feedback.FbCatgId=l.detail.value})()}}return(r=i).\u0275fac=function(l){return new(l||r)(a.rXU(o.W3),a.rXU(o.Xi),a.rXU(o.K_))},r.\u0275cmp=a.VBU({type:r,selectors:[["app-modal-add-feedback"]],inputs:{FeedbackId:"FeedbackId",FbCatgId:"FbCatgId",ChargeLocationId:"ChargeLocationId"},decls:46,vars:32,consts:[["slot","end"],["color","dark",3,"click"],["name","close-outline"],[1,"ion-padding"],["lines","none"],[1,"form-group"],[1,"ion-item-input-custom"],["justify","space-between","interface","action-sheet",3,"ionChange","label","placeholder","value"],[4,"ngFor","ngForOf"],[1,"text-danger"],[3,"ionChange","placeholder","value"],[3,"ionChange","autoGrow","placeholder","value"],["mode","md","size","default","expand","full","shape","round",1,"ion-no-margin",3,"click"],[3,"value"]],template:function(l,n){1&l&&(a.qex(0),a.j41(1,"ion-header")(2,"ion-toolbar")(3,"ion-buttons",0)(4,"ion-button",1),a.bIt("click",function(d){return n.close(d)}),a.nrm(5,"ion-icon",2),a.k0s()(),a.j41(6,"ion-title"),a.EFF(7),a.nI1(8,"translate"),a.k0s()()(),a.j41(9,"ion-content",3)(10,"ion-list",4)(11,"div",5)(12,"label"),a.EFF(13),a.nI1(14,"translate"),a.k0s(),a.j41(15,"div",6)(16,"ion-item")(17,"ion-select",7),a.nI1(18,"translate"),a.nI1(19,"translate"),a.bIt("ionChange",function(d){return n.changeCatg(d)}),a.DNE(20,u,3,2,"ng-container",8),a.k0s()()()(),a.j41(21,"div",5)(22,"label"),a.EFF(23),a.nI1(24,"translate"),a.j41(25,"span",9),a.EFF(26,"*"),a.k0s()(),a.j41(27,"div",6)(28,"ion-item")(29,"ion-input",10),a.nI1(30,"translate"),a.bIt("ionChange",function(d){return n.changeTitle(d)}),a.k0s()()()(),a.j41(31,"div",5)(32,"label"),a.EFF(33),a.nI1(34,"translate"),a.j41(35,"span",9),a.EFF(36,"*"),a.k0s()(),a.j41(37,"div",6)(38,"ion-item")(39,"ion-textarea",11),a.nI1(40,"translate"),a.bIt("ionChange",function(d){return n.changeContent(d)}),a.k0s()()()()()(),a.j41(41,"ion-footer",3)(42,"ion-button",12),a.bIt("click",function(d){return n.submit(d)}),a.j41(43,"ion-label"),a.EFF(44),a.nI1(45,"translate"),a.k0s()()(),a.bVm()),2&l&&(a.R7$(7),a.JRh(a.bMT(8,14,"SendFeedback")),a.R7$(6),a.JRh(a.bMT(14,16,"Category")),a.R7$(4),a.FS9("label",a.bMT(18,18,"FeedbackCatg")),a.FS9("placeholder",a.bMT(19,20,"Select")),a.Y8G("value",n.feedback.FbCatgId),a.R7$(3),a.Y8G("ngForOf",n.feedbackcatgs),a.R7$(3),a.SpI("",a.bMT(24,22,"Title")," "),a.R7$(6),a.FS9("placeholder",a.bMT(30,24,"FeedbackTitle")),a.Y8G("value",n.feedback.Title),a.R7$(4),a.SpI("",a.bMT(34,26,"Content")," "),a.R7$(6),a.FS9("placeholder",a.bMT(40,28,"FeedbackContent")),a.Y8G("autoGrow",!0)("value",n.feedback.Content),a.R7$(5),a.JRh(a.bMT(45,30,"Send")))},dependencies:[e.Sq,o.Jm,o.QW,o.W9,o.M0,o.eU,o.iq,o.$w,o.uz,o.he,o.nf,o.Nm,o.Ip,o.nc,o.BC,o.ai,o.Je,o.Gw,t.D9],styles:["ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{min-height:7rem}"]}),i})()}}]);