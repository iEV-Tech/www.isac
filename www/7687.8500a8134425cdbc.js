"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7687],{7687:(A,p,l)=>{l.r(p),l.d(p,{OrderInfoPageModule:()=>N});var f=l(177),I=l(9417),s=l(8974),u=l(2175),c=l(467),P=l(9061),O=l(6539),h=l(1312),_=l(8650),m=l(3588),v=l(8833),t=l(4438),R=l(4842);function F(e,g){1&e&&(t.j41(0,"div",9),t.nrm(1,"ion-spinner",10),t.k0s())}function D(e,g){1&e&&(t.j41(0,"div",11),t.nrm(1,"img",12),t.j41(2,"div",13),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"DataNotFound")))}function C(e,g){if(1&e&&t.nrm(0,"img",21),2&e){const r=t.XpG().$implicit;t.Mz_("src","../../../assets/icon/payment/",r.KindOfCard,".jpeg",t.B4B)}}function j(e,g){1&e&&t.nrm(0,"img",22)}function y(e,g){if(1&e){const r=t.RV6();t.qex(0),t.j41(1,"div",14)(2,"div",15),t.bIt("click",function(i){const o=t.eBV(r).$implicit,a=t.XpG();return t.Njj(a.openDetail(i,o))}),t.j41(3,"div",16)(4,"b"),t.EFF(5),t.k0s(),t.j41(6,"ion-chip")(7,"ion-label"),t.EFF(8),t.k0s(),t.j41(9,"ion-avatar"),t.DNE(10,C,1,2,"img",17)(11,j,1,0,"img",18),t.k0s()()(),t.j41(12,"div",19)(13,"small",20),t.EFF(14),t.k0s(),t.j41(15,"small")(16,"b"),t.EFF(17),t.k0s()()()()(),t.bVm()}if(2&e){const r=g.$implicit,n=t.XpG();t.R7$(5),t.JRh(r.OrderCode),t.R7$(3),t.SpI("",n.APP_FUNC_FormatMoney(r.RealValue),"\u0111"),t.R7$(2),t.Y8G("ngIf",(null==r?null:r.RealValue)&&r.Paymethod),t.R7$(),t.Y8G("ngIf",!(null!=r&&r.RealValue&&r.Paymethod)),t.R7$(3),t.JRh(n.APP_FUNC_FormatDate(r.OrderDate)),t.R7$(2),t.ZvI("text-",n.APP_FUNC_GetColor_VOrderStatus(r.VOrderStatus),""),t.R7$(),t.JRh(r.VOrderStatusName)}}function $(e,g){if(1&e){const r=t.RV6();t.j41(0,"ion-infinite-scroll",23),t.bIt("ionInfinite",function(i){t.eBV(r);const o=t.XpG();return t.Njj(o.onIonInfinite(i))}),t.nrm(1,"ion-infinite-scroll-content"),t.k0s()}}const T=[{path:"",component:(()=>{var e;class g{constructor(n,i,o){var a=this;this.router=n,this.loadingController=i,this.toastController=o,this.APP_ROUTE=v._,this.APP_FUNC_FormatMoney=h.xi,this.APP_FUNC_FormatDate=h.Rv,this.APP_FUNC_GetColor_VOrderStatus=h.qM,this.v_order_status=m.TL,this.paging={sortfield:null,sorttype:null,page:1,limit:20,loading:!1,active:!0},this.filter={},this.orderInfos=[],(0,c.A)(function*(){a.loading=yield a.loadingController.create({message:""})})()}openDetail(n,i){var o=this;return(0,c.A)(function*(){var a,d;o.router.navigateByUrl(v._.ORDER_INFO_DETAIL.replace(":id",null!==(a=null===(d=i.OrderId)||void 0===d?void 0:d.toString())&&void 0!==a?a:""))})()}ngOnInit(){var n=this;(0,c.A)(function*(){(yield(0,O.kU)())&&n.refreshData()})()}onIonRefresher(n){this.filter={},this.refreshData(()=>{n.target.complete()})}onIonInfinite(n){this.loadMore(()=>{n.target.complete()})}resetData(){this.orderInfos.length=0}pushData(n){this.orderInfos=this.orderInfos.concat(n)}refreshData(n){this.filter={},this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging(n)}loadMore(n){this.paging.page+=1,this.loadData_Paging(n)}searchChange(n){this.filter.search=n.target.value.replace(/[\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\{\]\}\\\|\;\:\'\"\,\<\.\>\/\?]+/g," ").replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}sortChange(n,i){this.paging.sortfield=n||null,this.paging.sorttype=i||null,this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}loadData_Paging(n){var i=this;return(0,c.A)(function*(){i.paging.loading=!0,(0,P.Qd)({loading:o=>{var a,d;o?null===(a=i.loading)||void 0===a||a.present():null===(d=i.loading)||void 0===d||d.dismiss()},params:{PageNumber:i.paging.page,PageSize:i.paging.limit},callback:o=>{var a;i.response=o,null!=o&&o.Succeeded?i.pushData(null!==(a=null==o?void 0:o.Data)&&void 0!==a?a:[]):(0,_.cX)(i.toastController,{},o).then(d=>d.present()),i.paging.loading=!1,i.paging.active=!(null==o||!o.HasNextPage),n&&n()}})})()}getOrderStatusText(n){var i;return null===(i=m.TL._data.find(o=>o.LookupId==n))||void 0===i?void 0:i.Objectvalue}}return(e=g).\u0275fac=function(n){return new(n||e)(t.rXU(u.Ix),t.rXU(s.Xi),t.rXU(s.K_))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-order-info"]],decls:16,vars:8,consts:[["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["class","container-loading",4,"ngIf"],["class","container py-5 text-center",4,"ngIf"],[1,"container"],[1,"row"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"container-loading"],["name","circular","color","primary"],[1,"container","py-5","text-center"],["src","../../../assets/image/temp/no-info.svg"],[1,"text-muted","mt-4"],[1,"col-12","col-lg-6","mb-3"],[1,"card-order","cursor-pointer",3,"click"],[1,"d-flex","align-items-start","justify-content-between"],[3,"src",4,"ngIf"],["src","../../../assets/icon/ion-img/charge-package.svg",4,"ngIf"],[1,"d-flex","align-items-end","justify-content-between","mt-1"],[1,"text-muted"],[3,"src"],["src","../../../assets/icon/ion-img/charge-package.svg"],[3,"ionInfinite"]],template:function(n,i){1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button",1),t.k0s(),t.j41(4,"ion-title"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()(),t.j41(7,"ion-content")(8,"ion-refresher",2),t.bIt("ionRefresh",function(a){return i.onIonRefresher(a)}),t.nrm(9,"ion-refresher-content"),t.k0s(),t.DNE(10,F,2,0,"div",3)(11,D,5,3,"div",4),t.j41(12,"div",5)(13,"div",6),t.DNE(14,y,18,9,"ng-container",7),t.k0s()(),t.DNE(15,$,2,0,"ion-infinite-scroll",8),t.k0s()),2&n&&(t.R7$(3),t.Y8G("defaultHref",i.APP_ROUTE.TABS_USER),t.R7$(2),t.JRh(t.bMT(6,6,"OrderHistory")),t.R7$(5),t.Y8G("ngIf",!i.response),t.R7$(),t.Y8G("ngIf",i.response&&!i.orderInfos.length),t.R7$(3),t.Y8G("ngForOf",i.orderInfos),t.R7$(),t.Y8G("ngIf",i.paging.active))},dependencies:[f.Sq,f.bT,s.mC,s.QW,s.ZB,s.W9,s.eU,s.Ax,s.Hp,s.he,s.To,s.Ki,s.w2,s.BC,s.ai,s.el,R.D9],styles:[".card-order[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast)}.card-order[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}"]}),g})()}];let M=(()=>{var e;class g{}return(e=g).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.iI.forChild(T),u.iI]}),g})();var x=l(3584);let N=(()=>{var e;class g{}return(e=g).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[f.MD,I.YN,s.bv,M,x.x]}),g})()}}]);