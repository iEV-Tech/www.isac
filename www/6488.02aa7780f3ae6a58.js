"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6488],{4393:(I,T,l)=>{l.d(T,{FC:()=>h,SD:()=>f,T9:()=>t});var p=l(467),b=l(369);const s=new b.w({name:"_localDB",driverOrder:[b.C.IndexedDB,b.C.LocalStorage]}),h=function(){var a=(0,p.A)(function*(r){var c;yield s.create(),(r=null!==(c=r)&&void 0!==c?c:{}).params=r.params||{};try{var v=(yield s.get("setting"))||{};return"function"==typeof r.callback&&r.callback(v),v}catch(U){"function"==typeof r.callback&&r.callback(),console.error(U)}return{}});return function(c){return a.apply(this,arguments)}}(),t=function(){var a=(0,p.A)(function*(r){var c;yield s.create();var g="setting";(r=null!==(c=r)&&void 0!==c?c:{}).params=r.params||{};try{var v=(yield s.get(g))||{};Object.assign(v,r.params),yield s.set(g,v),"function"==typeof r.callback&&r.callback(v)}catch(U){"function"==typeof r.callback&&r.callback(),console.error(U)}});return function(c){return a.apply(this,arguments)}}(),f=function(){var a=(0,p.A)(function*(r){var c;yield s.create(),(r=null!==(c=r)&&void 0!==c?c:{}).params=r.params||{};try{yield s.set("setting",{}),"function"==typeof r.callback&&r.callback()}catch(v){"function"==typeof r.callback&&r.callback(),console.error(v)}});return function(c){return a.apply(this,arguments)}}()},1038:(I,T,l)=>{l.d(T,{v:()=>s});var p=l(467),b=l(5972);const s=function(){var h=(0,p.A)(function*(t){t.params=t.params||{};var f=[];t.params.subFolder&&(t.params.subFolder=t.params.subFolder.replace(/[^a-zA-Z0-9\/]/gm,"").replace(/\/+/gm,"/").replace(/^\//,"").replace(/\/$/,""),t.params.subFolder&&f.push(t.params.subFolder)),t.params.isconvertvideo=!!t.params.isconvertvideo,t.params.isconvertpdf2image=!!t.params.isconvertpdf2image,t.params.isconvertoffice2image=!!t.params.isconvertoffice2image,t.params.isresizeimage=!!t.params.isresizeimage;const a=new FormData;a.append("path",f.join("/")),a.append("types",t.params.fileType||null),a.append("file",t.params.file||null),a.append("base64",t.params.base64||!1),a.append("isconvertvideo",t.params.isconvertvideo),a.append("isconvertpdf2image",t.params.isconvertpdf2image),a.append("isconvertoffice2image",t.params.isconvertoffice2image),a.append("isresizeimage",t.params.isresizeimage),(0,b.ZD)({url:"files",params:a,success:r=>{"function"==typeof t.callback&&t.callback(r.data||null)},error:r=>{"function"==typeof t.callback&&t.callback(),console.error(t,r)},loading:t.loading})});return function(f){return h.apply(this,arguments)}}()},9946:(I,T,l)=>{l.d(T,{ks:()=>h,sh:()=>t,z:()=>s});var p=l(467),b=l(5972);const s=function(){var f=(0,p.A)(function*(a){a.params=a.params||{},(0,b.hm)({url:"api/User/get-user",params:{},success:r=>{"function"==typeof a.callback&&a.callback(r.data||null)},error:r=>{var c;"function"==typeof a.callback&&a.callback(null==r||null===(c=r.response)||void 0===c?void 0:c.data),console.error(r)},loading:null==a?void 0:a.loading})});return function(r){return f.apply(this,arguments)}}(),h=function(){var f=(0,p.A)(function*(a){var r,c,g,v,U,j;a.params=a.params||{},(0,b.IH)({url:"api/User/update-user",params:{UserId:null!==(r=a.params.UserId)&&void 0!==r?r:null,FullName:null!==(c=a.params.FullName)&&void 0!==c?c:null,Address:null!==(g=a.params.Address)&&void 0!==g?g:null,Gender:null!==(v=a.params.Gender)&&void 0!==v?v:null,Birthday:null!==(U=a.params.Birthday)&&void 0!==U?U:null,PersonEmail:null!==(j=a.params.Email)&&void 0!==j?j:null},success:E=>{"function"==typeof a.callback&&a.callback(E.data||null)},error:E=>{var e;"function"==typeof a.callback&&a.callback(null==E||null===(e=E.response)||void 0===e?void 0:e.data),console.error(E)},loading:null==a?void 0:a.loading})});return function(r){return f.apply(this,arguments)}}(),t=function(){var f=(0,p.A)(function*(a){var r,c;a.params=a.params||{},(0,b.IH)({url:"api/User/update-avatar",params:{UserId:null!==(r=a.params.UserId)&&void 0!==r?r:null,Avatar:null!==(c=a.params.Avatar)&&void 0!==c?c:null},success:g=>{"function"==typeof a.callback&&a.callback(g.data||null)},error:g=>{var v;"function"==typeof a.callback&&a.callback(null==g||null===(v=g.response)||void 0===v?void 0:v.data),console.error(g)},loading:null==a?void 0:a.loading})});return function(r){return f.apply(this,arguments)}}()},6488:(I,T,l)=>{l.r(T),l.d(T,{UserPageModule:()=>B});var p=l(177),b=l(9417),s=l(8974),h=l(2175),t=l(467),f=l(23),a=l(1038),r=l(9946),c=l(6539),g=l(1312),v=l(8833),U=l(5312),j=l(8650),E=l(4393),e=l(4438),M=l(345),O=l(4842);function F(d,P){if(1&d){const R=e.RV6();e.j41(0,"div",30)(1,"div",31)(2,"h4",32),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",32),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",33)(9,"div",34)(10,"ion-button",35),e.bIt("click",function(){e.eBV(R),e.XpG();const n=e.sdS(93);return e.Njj(null==n?null:n.dismiss())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"div",34)(14,"ion-button",36),e.bIt("click",function(n){e.eBV(R);const o=e.XpG(),i=e.sdS(93);return null==i||i.dismiss(),e.Njj(o.signOut(n))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()}2&d&&(e.R7$(3),e.JRh(e.bMT(4,4,"SignOut")),e.R7$(3),e.JRh(e.bMT(7,6,"SignOut_Confirm")),e.R7$(5),e.JRh(e.bMT(12,8,"Cancel")),e.R7$(4),e.JRh(e.bMT(16,10,"Confirm")))}const A=[{path:"",component:(()=>{var d;class P{constructor(u,n,o,i,m){var _=this;this.router=u,this.titleService=n,this.translateService=o,this.loadingController=i,this.toastController=m,this.APP_ROUTE=v._,this.api_url=U.c.api_url,this.params={},this.APP_FUNC_FormatMobileNumber=g.IV,(0,t.A)(function*(){_.loading=yield _.loadingController.create({message:""})})()}ngOnInit(){var u=this;(0,t.A)(function*(){(yield(0,c.kU)())&&u.refreshData()})()}onIonRefresher(u){this.refreshData(()=>{u.target.complete()})}refreshData(u){var n=this;return(0,t.A)(function*(){(0,r.z)({loading:o=>{var i,m;o?null===(i=n.loading)||void 0===i||i.present():null===(m=n.loading)||void 0===m||m.dismiss()},callback:o=>{var i,m,_;null!=o&&o.Succeeded?(n.user=null!==(i=o.Data)&&void 0!==i?i:{},null!==(m=n.user)&&void 0!==m&&m.FullName?n.titleService.setTitle(null===(_=n.user)||void 0===_?void 0:_.FullName):n.translateService.stream("User").subscribe(k=>{n.titleService.setTitle(k)})):(0,j.cX)(n.toastController,{},o).then(k=>k.present()),u&&u()}})})()}signOut(u){return(0,t.A)(function*(){yield(0,E.SD)(),(0,f.wn)({callback:()=>{window.location.replace(v._.AUTH)}})})()}changeAvatar(u){var n=this;return(0,t.A)(function*(){(0,g.oG)({accept:"image/*"},o=>{(0,a.v)({loading:i=>{var m,_;i?null===(m=n.loading)||void 0===m||m.present():null===(_=n.loading)||void 0===_||_.dismiss()},params:{file:o[0],subFolder:"avatar",fileType:"image"},callback:i=>{var m;0==(null==i?void 0:i.ReturnCode)&&(0,r.sh)({loading:_=>{var k,y;_?null===(k=n.loading)||void 0===k||k.present():null===(y=n.loading)||void 0===y||y.dismiss()},params:{UserId:null===(m=n.user)||void 0===m?void 0:m.UserId,Avatar:`${i.path}/${i.file.name}`},callback:_=>{null!=_&&_.Succeeded?n.refreshData():(0,j.cX)(n.toastController,{},_).then(k=>k.present())}})}})})})()}navigateByUrl(u){var n=this;return(0,t.A)(function*(){n.router.navigateByUrl(u)})()}}return(d=P).\u0275fac=function(u){return new(u||d)(e.rXU(h.Ix),e.rXU(M.hE),e.rXU(O.c$),e.rXU(s.Xi),e.rXU(s.K_))},d.\u0275cmp=e.VBU({type:d,selectors:[["app-user"]],decls:95,vars:48,consts:[["modalSignOut",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"card-info"],[1,"bg"],[1,"avatar"],[3,"src"],[1,"change-avatar"],["color","light",3,"click"],["color","primary","src","../../../assets/icon/ion-icon/camera-shape.svg"],[1,"text-center","text-primary","mt-3","mb-0"],[1,"container","pt-3","pb-5"],["mode","ios","lines","none"],["button","","detail","true","color","light","detail-icon","chevron-forward-outline",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/person-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/verhicle-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/bill-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/setting-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/feedback-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/chat-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/book-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/persons-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/book-open-circle.svg"],[1,"mt-3","mb-5"],["mode","ios","color","light","expand","block","id","click-trigger-modal-signout",1,"btn-sign-out"],["slot","start","src","../../../assets/icon/ion-icon/sign-out.svg"],["trigger","click-trigger-modal-signout",1,"ion-modal-small"],[1,"p-4"],[1,"text-center"],[1,"mb-4"],[1,"row"],[1,"col-6","pr-1"],["fill","outline","color","medium","expand","block","shape","round",3,"click"],["color","primary","expand","block","shape","round",3,"click"]],template:function(u,n){if(1&u){const o=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content",4)(8,"ion-refresher",5),e.bIt("ionRefresh",function(m){return e.eBV(o),e.Njj(n.onIonRefresher(m))}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.j41(10,"div",6),e.nrm(11,"div",7),e.j41(12,"div",8)(13,"ion-avatar"),e.nrm(14,"img",9),e.k0s(),e.j41(15,"div",10)(16,"ion-button",11),e.bIt("click",function(m){return e.eBV(o),e.Njj(n.changeAvatar(m))}),e.nrm(17,"ion-icon",12),e.k0s()()(),e.j41(18,"h5",13)(19,"b"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()(),e.j41(22,"div",14)(23,"ion-list",15)(24,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.USER_INFO))}),e.nrm(25,"ion-icon",17),e.j41(26,"ion-label"),e.EFF(27),e.nI1(28,"translate"),e.k0s()(),e.j41(29,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.VEHICLE))}),e.nrm(30,"ion-icon",18),e.j41(31,"ion-label"),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.CUSTOMER_INVOICE))}),e.nrm(35,"ion-icon",19),e.j41(36,"ion-label"),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.ORDER_INFO))}),e.nrm(40,"ion-icon",19),e.j41(41,"ion-label"),e.EFF(42),e.nI1(43,"translate"),e.k0s()()(),e.j41(44,"ion-list",15)(45,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.SETTING))}),e.nrm(46,"ion-icon",20),e.j41(47,"ion-label"),e.EFF(48),e.nI1(49,"translate"),e.k0s()(),e.j41(50,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.FEEDBACK))}),e.nrm(51,"ion-icon",21),e.j41(52,"ion-label"),e.EFF(53),e.nI1(54,"translate"),e.k0s()(),e.j41(55,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.SUPPORT))}),e.nrm(56,"ion-icon",22),e.j41(57,"ion-label"),e.EFF(58),e.nI1(59,"translate"),e.k0s()(),e.j41(60,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.USER_MANUAL))}),e.nrm(61,"ion-icon",23),e.j41(62,"ion-label"),e.EFF(63),e.nI1(64,"translate"),e.k0s()()(),e.j41(65,"ion-list",15)(66,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.ABOUT_US))}),e.nrm(67,"ion-icon",24),e.j41(68,"ion-label"),e.EFF(69),e.nI1(70,"translate"),e.k0s()(),e.j41(71,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.TERMS_OF_USE))}),e.nrm(72,"ion-icon",25),e.j41(73,"ion-label"),e.EFF(74),e.nI1(75,"translate"),e.k0s()(),e.j41(76,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.POLICIES_AND_REGULATIONS))}),e.nrm(77,"ion-icon",25),e.j41(78,"ion-label"),e.EFF(79),e.nI1(80,"translate"),e.k0s()(),e.j41(81,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.SALES_AND_PAYMENT_POLICIES))}),e.nrm(82,"ion-icon",25),e.j41(83,"ion-label"),e.EFF(84),e.nI1(85,"translate"),e.k0s()()(),e.j41(86,"div",26)(87,"ion-button",27),e.nrm(88,"ion-icon",28),e.j41(89,"ion-label",1),e.EFF(90),e.nI1(91,"translate"),e.k0s()()()(),e.j41(92,"ion-modal",29,0),e.DNE(94,F,17,12,"ng-template"),e.k0s()()}if(2&u){let o;e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.TABS_DEFAULT),e.R7$(2),e.JRh(e.bMT(6,18,"UserInfo")),e.R7$(2),e.Y8G("fullscreen",!0),e.R7$(7),e.Y8G("src",null!=n.user&&n.user.Avatar?n.api_url+"readfile/"+(null==n.user?null:n.user.Avatar):"assets/icon/ion-img/no-avatar.svg",e.B4B),e.R7$(6),e.JRh(null!==(o=null==n.user?null:n.user.FullName)&&void 0!==o?o:e.bMT(21,20,"NotUpdate")),e.R7$(7),e.JRh(e.bMT(28,22,"UserInfo")),e.R7$(5),e.JRh(e.bMT(33,24,"Vehicle")),e.R7$(5),e.JRh(e.bMT(38,26,"ExportBillInfo")),e.R7$(5),e.JRh(e.bMT(43,28,"OrderHistory")),e.R7$(6),e.JRh(e.bMT(49,30,"Setting")),e.R7$(5),e.JRh(e.bMT(54,32,"SendFeedback")),e.R7$(5),e.JRh(e.bMT(59,34,"FAQ")),e.R7$(5),e.JRh(e.bMT(64,36,"UseManual")),e.R7$(6),e.JRh(e.bMT(70,38,"AboutUs")),e.R7$(5),e.JRh(e.bMT(75,40,"TermsOfUse")),e.R7$(5),e.JRh(e.bMT(80,42,"PoliciesAndRegulations")),e.R7$(5),e.JRh(e.bMT(85,44,"SalesAndPaymentPolicies")),e.R7$(6),e.JRh(e.bMT(91,46,"SignOut"))}},dependencies:[s.mC,s.Jm,s.QW,s.W9,s.eU,s.iq,s.uz,s.he,s.nf,s.To,s.Ki,s.BC,s.ai,s.Sb,s.el,O.D9],styles:[".card-info[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{padding:3rem 1rem;background-color:var(--ion-color-primary);background-image:url(bg-charging-location.1f27cf83f2b3c5d2.svg);background-repeat:no-repeat;background-position:center center;background-size:auto 200%}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{position:relative;z-index:1;width:7rem;margin:-3rem auto auto}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:7rem;height:7rem;border:.125rem solid var(--ion-color-light);background-color:var(--ion-color-light)}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]{position:absolute;z-index:2;bottom:0;right:0}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: 50%}.card-info[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;--border-radius: 50%;margin:auto;cursor:pointer}ion-list[_ngcontent-%COMP%]{margin:1.25rem 0;border-radius:1rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 3rem}"]}),P})()}];let C=(()=>{var d;class P{}return(d=P).\u0275fac=function(u){return new(u||d)},d.\u0275mod=e.$C({type:d}),d.\u0275inj=e.G2t({imports:[h.iI.forChild(A),h.iI]}),P})();var S=l(9500);let B=(()=>{var d;class P{}return(d=P).\u0275fac=function(u){return new(u||d)},d.\u0275mod=e.$C({type:d}),d.\u0275inj=e.G2t({imports:[p.MD,b.YN,s.bv,C,S.x]}),P})()}}]);