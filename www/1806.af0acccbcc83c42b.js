"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1806],{5970:(k,b,p)=>{p.d(b,{$J:()=>e,NT:()=>u,Ul:()=>y,Wu:()=>h,kT:()=>_});var d=p(467),f=p(6037);const y=function(){var I=(0,d.A)(function*(o){var i,m;o.params=o.params||{},(0,f.hm)({url:"api/CustomerInvoice/get-customerinvoices",params:{PageNumber:null!==(i=o.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(m=o.params.PageSize)&&void 0!==m?m:10},success:v=>{"function"==typeof o.callback&&o.callback(v.data||null)},error:v=>{var C;"function"==typeof o.callback&&o.callback(null==v||null===(C=v.response)||void 0===C?void 0:C.data),console.error(v)},loading:o.loading,loadingController:o.loadingController})});return function(i){return I.apply(this,arguments)}}(),_=function(){var I=(0,d.A)(function*(o){o.params=o.params||{},(0,f.hm)({url:`api/CustomerInvoice/get/${o.params.CustomerInvoiceId}`,success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var m;"function"==typeof o.callback&&o.callback(null==i||null===(m=i.response)||void 0===m?void 0:m.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return I.apply(this,arguments)}}(),h=function(){var I=(0,d.A)(function*(o){var i,m,v,C,s,c,l,t;o.params=o.params||{},(0,f.Ll)({url:"api/CustomerInvoice/create",params:{IsCompany:null!==(i=o.params.IsCompany)&&void 0!==i?i:null,TaxCode:null!==(m=o.params.TaxCode)&&void 0!==m?m:null,CompanyName:null!==(v=o.params.CompanyName)&&void 0!==v?v:null,Address:null!==(C=o.params.Address)&&void 0!==C?C:null,BuyerName:null!==(s=o.params.BuyerName)&&void 0!==s?s:null,BuyerPhone:null!==(c=o.params.BuyerPhone)&&void 0!==c?c:null,BuyerEmail:null!==(l=o.params.BuyerEmail)&&void 0!==l?l:null,IsDefault:null!==(t=o.params.IsDefault)&&void 0!==t?t:null},success:n=>{"function"==typeof o.callback&&o.callback(n.data||null)},error:n=>{var a;"function"==typeof o.callback&&o.callback(null==n||null===(a=n.response)||void 0===a?void 0:a.data),console.error(n)},loading:o.loading,loadingController:o.loadingController})});return function(i){return I.apply(this,arguments)}}(),e=function(){var I=(0,d.A)(function*(o){var i,m,v,C,s,c,l,t,n;o.params=o.params||{},(0,f.IH)({url:"api/CustomerInvoice/update",params:{CustomerInvoiceId:null!==(i=o.params.CustomerInvoiceId)&&void 0!==i?i:null,IsCompany:null!==(m=o.params.IsCompany)&&void 0!==m?m:null,TaxCode:null!==(v=o.params.TaxCode)&&void 0!==v?v:null,CompanyName:null!==(C=o.params.CompanyName)&&void 0!==C?C:null,Address:null!==(s=o.params.Address)&&void 0!==s?s:null,BuyerName:null!==(c=o.params.BuyerName)&&void 0!==c?c:null,BuyerPhone:null!==(l=o.params.BuyerPhone)&&void 0!==l?l:null,BuyerEmail:null!==(t=o.params.BuyerEmail)&&void 0!==t?t:null,IsDefault:null!==(n=o.params.IsDefault)&&void 0!==n?n:null},success:a=>{"function"==typeof o.callback&&o.callback(a.data||null)},error:a=>{var r;"function"==typeof o.callback&&o.callback(null==a||null===(r=a.response)||void 0===r?void 0:r.data),console.error(a)},loading:o.loading,loadingController:o.loadingController})});return function(i){return I.apply(this,arguments)}}(),u=function(){var I=(0,d.A)(function*(o){o.params=o.params||{},(0,f.sj)({url:`api/CustomerInvoice/delete/${o.params.CustomerInvoiceId}`,params:{},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var m;"function"==typeof o.callback&&o.callback(null==i||null===(m=i.response)||void 0===m?void 0:m.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return I.apply(this,arguments)}}()},1806:(k,b,p)=>{p.d(b,{$:()=>C});var d=p(467),f=p(6037);const y=function(){var s=(0,d.A)(function*(c){c.params=c.params||{},(0,f.hm)({url:`api/CompanyLookup/get/${c.params.TaxCode}`,success:l=>{"function"==typeof c.callback&&c.callback(l.data||null)},error:l=>{var t;"function"==typeof c.callback&&c.callback(null==l||null===(t=l.response)||void 0===t?void 0:t.data),console.error(l)},loading:c.loading,loadingController:c.loadingController})});return function(l){return s.apply(this,arguments)}}();var _=p(5970),h=p(8650),e=p(4438),u=p(3092),I=p(177),o=p(4842);function i(s,c){if(1&s){const l=e.RV6();e.j41(0,"div",8)(1,"label"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span",11),e.EFF(5,"*"),e.k0s()(),e.j41(6,"div",12)(7,"ion-item")(8,"ion-input",17),e.nI1(9,"translate"),e.bIt("ionChange",function(n){e.eBV(l);const a=e.XpG();return e.Njj(a.changeTaxCode(n))}),e.k0s()()()(),e.j41(10,"div",8)(11,"label"),e.EFF(12),e.nI1(13,"translate"),e.j41(14,"span",11),e.EFF(15,"*"),e.k0s()(),e.j41(16,"div",12)(17,"ion-item")(18,"ion-input",13),e.nI1(19,"translate"),e.bIt("ionChange",function(n){e.eBV(l);const a=e.XpG();return e.Njj(a.changeCompanyName(n))}),e.k0s()()()(),e.j41(20,"div",8)(21,"label"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"div",12)(25,"ion-item")(26,"ion-input",13),e.nI1(27,"translate"),e.bIt("ionChange",function(n){e.eBV(l);const a=e.XpG();return e.Njj(a.changeBuyerName(n))}),e.k0s()()()()}if(2&s){const l=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,9,"BillTax")," (MST) "),e.R7$(6),e.FS9("placeholder",e.bMT(9,11,"BillTax")),e.Y8G("value",l.customerInvoice.TaxCode),e.R7$(4),e.SpI(" ",e.bMT(13,13,"BillCompanyName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(19,15,"BillCompanyName")),e.Y8G("value",l.customerInvoice.CompanyName),e.R7$(4),e.SpI(" ",e.bMT(23,17,"BillBuyerName")," "),e.R7$(4),e.FS9("placeholder",e.bMT(27,19,"BillBuyerName")),e.Y8G("value",l.customerInvoice.BuyerName)}}function m(s,c){if(1&s){const l=e.RV6();e.j41(0,"div",8)(1,"label"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span",11),e.EFF(5,"*"),e.k0s()(),e.j41(6,"div",12)(7,"ion-item")(8,"ion-input",17),e.nI1(9,"translate"),e.bIt("ionChange",function(n){e.eBV(l);const a=e.XpG();return e.Njj(a.changeTaxCode(n))}),e.k0s()()()(),e.j41(10,"div",8)(11,"label"),e.EFF(12),e.nI1(13,"translate"),e.j41(14,"span",11),e.EFF(15,"*"),e.k0s()(),e.j41(16,"div",12)(17,"ion-item")(18,"ion-input",13),e.nI1(19,"translate"),e.bIt("ionChange",function(n){e.eBV(l);const a=e.XpG();return e.Njj(a.changeBuyerName(n))}),e.k0s()()()()}if(2&s){const l=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,6,"BillTax")," (CCCD) "),e.R7$(6),e.FS9("placeholder",e.bMT(9,8,"BillTax")),e.Y8G("value",l.customerInvoice.TaxCode),e.R7$(4),e.SpI(" ",e.bMT(13,10,"FullName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(19,12,"FullName")),e.Y8G("value",l.customerInvoice.BuyerName)}}function v(s,c){if(1&s){const l=e.RV6();e.j41(0,"div",8)(1,"div",18)(2,"ion-item")(3,"ion-checkbox",19),e.bIt("ionChange",function(n){e.eBV(l);const a=e.XpG();return e.Njj(a.changeIsDefault(n))}),e.j41(4,"small")(5,"b"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()()()}if(2&s){const l=e.XpG();e.R7$(3),e.Y8G("checked",!!l.customerInvoice.IsDefault),e.R7$(3),e.JRh(e.bMT(7,2,"CustomerInvoiceDefault"))}}let C=(()=>{var s;class c{constructor(t,n,a){this.modalController=t,this.loadingController=n,this.toastController=a,this.customerInvoice={IsCompany:!1}}ngOnInit(){this.RequireDefault&&(this.customerInvoice.IsDefault=this.RequireDefault),this.refreshData()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}refreshData(t){var n=this;return(0,d.A)(function*(){n.CustomerInvoiceId?(0,_.kT)({loadingController:n.loadingController,params:{CustomerInvoiceId:n.CustomerInvoiceId},callback:a=>{var r;n.response=a,null!=a&&a.Succeeded?n.customerInvoice=null!==(r=a.Data)&&void 0!==r?r:{}:(0,h.cX)(n.toastController,{},a).then(g=>g.present()),t&&t()}}):t&&t()})()}close(t){var n=this;return(0,d.A)(function*(){n.modalController.dismiss(null,"cancel")})()}get submit_disabled(){return!(this.customerInvoice.TaxCode&&(!this.customerInvoice.IsCompany||this.customerInvoice.CompanyName)&&(this.customerInvoice.IsCompany||this.customerInvoice.BuyerName)&&this.customerInvoice.Address)}submit(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.CustomerInvoiceId?(0,_.$J)({loadingController:n.loadingController,params:n.customerInvoice,callback:a=>{n.response=a,null!=a&&a.Succeeded?n.modalController.dismiss(null,"success"):(0,h.cX)(n.toastController,{},a).then(r=>r.present())}}):(0,_.Wu)({loadingController:n.loadingController,params:n.customerInvoice,callback:a=>{n.response=a,null!=a&&a.Succeeded?n.modalController.dismiss(null,"success"):(0,h.cX)(n.toastController,{},a).then(r=>r.present())}})})()}changeBuyerPhone(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerPhone=t.detail.value})()}changeBuyerEmail(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerEmail=t.detail.value})()}changeCompanyName(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.CompanyName=t.detail.value})()}changeBuyerName(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerName=t.detail.value,n.customerInvoice.IsCompany||(n.customerInvoice.CompanyName=n.customerInvoice.BuyerName)})()}changeAddress(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.Address=t.detail.value})()}changeTaxCode(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.TaxCode=t.detail.value,n.customerInvoice.IsCompany&&y({params:{TaxCode:n.customerInvoice.TaxCode},callback:a=>{if(null!=a&&a.Succeeded){let T=null==a?void 0:a.Data;var r,g;T&&(n.customerInvoice.CompanyName=null!==(r=T.Name)&&void 0!==r?r:n.customerInvoice.CompanyName,n.customerInvoice.Address=null!==(g=T.Address)&&void 0!==g?g:n.customerInvoice.Address)}}})})()}changeIsCompany(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.IsCompany=t.detail.value})()}changeIsDefault(t){var n=this;return(0,d.A)(function*(){n.customerInvoice.IsDefault=t.detail.checked})()}}return(s=c).\u0275fac=function(t){return new(t||s)(e.rXU(u.W3),e.rXU(u.Xi),e.rXU(u.K_))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-add-customer-invoice"]],inputs:{CustomerInvoiceId:"CustomerInvoiceId",RequireDefault:"RequireDefault"},decls:62,vars:42,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","fixed",3,"ionRefresh"],[1,"card-info","bg-white","container","py-3","min-h-100"],[1,"text-center","mb-3"],[1,"text-muted"],["lines","none"],[1,"form-group"],["mode","md",3,"ionChange","value"],["labelPlacement","end",3,"value"],[1,"text-danger"],[1,"ion-item-input"],[3,"ionChange","placeholder","value"],["class","form-group",4,"ngIf"],[1,"p-3"],["color","primary","shape","round","expand","block",3,"click","disabled"],["type","number","inputmode","decimal",3,"ionChange","placeholder","value"],[1,"row"],["labelPlacement","end","justify","start",3,"ionChange","checked"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(r){return n.close(r)}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-refresher",3),e.bIt("ionRefresh",function(r){return n.onIonRefresher(r)}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.j41(11,"div",4)(12,"div",5)(13,"small",6),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"ion-list",7)(17,"div",8)(18,"ion-radio-group",9),e.bIt("ionChange",function(r){return n.changeIsCompany(r)}),e.j41(19,"ion-radio",10)(20,"ion-label"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"ion-radio",10)(24,"ion-label"),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()(),e.DNE(27,i,28,21)(28,m,20,14),e.j41(29,"div",8)(30,"label"),e.EFF(31),e.nI1(32,"translate"),e.j41(33,"span",11),e.EFF(34,"*"),e.k0s()(),e.j41(35,"div",12)(36,"ion-item")(37,"ion-input",13),e.nI1(38,"translate"),e.bIt("ionChange",function(r){return n.changeAddress(r)}),e.k0s()()()(),e.j41(39,"div",8)(40,"label"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"div",12)(44,"ion-item")(45,"ion-input",13),e.nI1(46,"translate"),e.bIt("ionChange",function(r){return n.changeBuyerEmail(r)}),e.k0s()()()(),e.j41(47,"div",8)(48,"label"),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"div",12)(52,"ion-item")(53,"ion-input",13),e.nI1(54,"translate"),e.bIt("ionChange",function(r){return n.changeBuyerPhone(r)}),e.k0s()()()(),e.DNE(55,v,8,4,"div",14),e.k0s()()(),e.j41(56,"ion-footer")(57,"ion-toolbar")(58,"div",15)(59,"ion-button",16),e.bIt("click",function(r){return n.submit(r)}),e.EFF(60),e.nI1(61,"translate"),e.k0s()()()()),2&t&&(e.R7$(6),e.JRh(e.bMT(7,20,"CustomerInvoice")),e.R7$(8),e.SpI(" ",e.bMT(15,22,"CustomerInvoiceDescription")," "),e.R7$(4),e.Y8G("value",!!n.customerInvoice.IsCompany),e.R7$(),e.Y8G("value",!1),e.R7$(2),e.JRh(e.bMT(22,24,"Personal")),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.JRh(e.bMT(26,26,"CompanyInvoice")),e.R7$(2),e.vxM(27,n.customerInvoice.IsCompany?27:28),e.R7$(4),e.SpI(" ",e.bMT(32,28,"BillAddress")," "),e.R7$(6),e.FS9("placeholder",e.bMT(38,30,"BillAddress")),e.Y8G("value",n.customerInvoice.Address),e.R7$(4),e.JRh(e.bMT(42,32,"Email")),e.R7$(4),e.FS9("placeholder",e.bMT(46,34,"Email")),e.Y8G("value",n.customerInvoice.BuyerEmail),e.R7$(4),e.JRh(e.bMT(50,36,"Mobile")),e.R7$(4),e.FS9("placeholder",e.bMT(54,38,"Mobile")),e.Y8G("value",n.customerInvoice.BuyerPhone),e.R7$(2),e.Y8G("ngIf",!n.RequireDefault),e.R7$(4),e.Y8G("disabled",n.submit_disabled),e.R7$(),e.SpI(" ",e.bMT(61,40,"Save")," "))},dependencies:[I.bT,u.Jm,u.QW,u.eY,u.W9,u.M0,u.eU,u.iq,u.$w,u.uz,u.he,u.nf,u.KO,u.f0,u.To,u.Ki,u.BC,u.ai,u.hB,u.su,u.Je,u.Gw,o.D9],styles:["ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-list[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}ion-radio-group[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%] + ion-radio[_ngcontent-%COMP%]{margin-left:1.5rem}"]}),c})()}}]);