"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6485],{6485:(A,h,a)=>{a.r(h),a.d(h,{BillInfoPageModule:()=>T});var c=a(177),m=a(9417),o=a(4488),u=a(2175),d=a(467),I=a(6116),v=a(6539),p=a(1312),P=a(3524),B=a(8833),n=a(4438),R=a(4842);function F(i,r){1&i&&(n.j41(0,"div",8),n.nrm(1,"ion-spinner",9),n.k0s())}function C(i,r){1&i&&(n.j41(0,"div",10),n.nrm(1,"img",11),n.j41(2,"div",12),n.EFF(3),n.nI1(4,"translate"),n.k0s()()),2&i&&(n.R7$(3),n.JRh(n.bMT(4,1,"DataNotFound")))}function D(i,r){if(1&i&&(n.qex(0),n.j41(1,"ion-card",13)(2,"ion-item",14)(3,"ion-thumbnail",0),n.nrm(4,"img",15),n.k0s(),n.j41(5,"ion-label")(6,"div",16)(7,"div")(8,"h5"),n.EFF(9),n.k0s(),n.j41(10,"p")(11,"span",17),n.EFF(12),n.k0s()()(),n.j41(13,"div",18)(14,"b",19),n.EFF(15),n.k0s()()()()()(),n.bVm()),2&i){const s=r.$implicit,t=n.XpG();let e;n.R7$(2),n.Y8G("href",t.APP_ROUTE.BILL_INFO_DETAIL.replace(":id",null!==(e=null==s.BillId?null:s.BillId.toString())&&void 0!==e?e:"")),n.R7$(7),n.JRh(s.BillCode),n.R7$(3),n.JRh(t.APP_FUNC_FormatDate(s.CreatedDate)),n.R7$(3),n.SpI("",t.APP_FUNC_FormatMoney(s.AftertaxBillValue),"\u0111")}}function b(i,r){if(1&i){const s=n.RV6();n.j41(0,"ion-infinite-scroll",20),n.bIt("ionInfinite",function(e){n.eBV(s);const l=n.XpG();return n.Njj(l.onIonInfinite(e))}),n.nrm(1,"ion-infinite-scroll-content"),n.k0s()}}const M=[{path:"",component:(()=>{var i;class r{constructor(t,e){var l=this;this.loadingController=t,this.toastController=e,this.APP_ROUTE=B._,this.APP_FUNC_FormatMoney=p.xi,this.APP_FUNC_FormatDate=p.Rv,this.paging={sortfield:null,sorttype:null,page:1,limit:10,loading:!1,active:!0},this.filter={},this.billInfos=[],(0,d.A)(function*(){l.loading=yield l.loadingController.create({message:""})})()}ngOnInit(){var t=this;(0,d.A)(function*(){(yield(0,v.kU)())&&t.refreshData()})()}onIonRefresher(t){this.filter={},this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}resetData(){this.billInfos.length=0}pushData(t){this.billInfos=this.billInfos.concat(t)}refreshData(t){this.filter={},this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging(t)}loadMore(t){this.paging.page+=1,this.loadData_Paging(t)}searchChange(t){this.filter.search=t.target.value.replace(/[\`\~\!\@\#\$\%\^\&\*\(\)\-\_\=\+\[\{\]\}\\\|\;\:\'\"\,\<\.\>\/\?]+/g," ").replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}sortChange(t,e){this.paging.sortfield=t||null,this.paging.sorttype=e||null,this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}filterChange(){this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging()}loadData_Paging(t){var e=this;return(0,d.A)(function*(){e.paging.loading=!0,(0,I.Yi)({loading:l=>{var g,f;l?null===(g=e.loading)||void 0===g||g.present():null===(f=e.loading)||void 0===f||f.dismiss()},params:{PageNumber:e.paging.page,PageSize:e.paging.limit},callback:l=>{var g;e.response=l,null!=l&&l.Succeeded?e.pushData(null!==(g=null==l?void 0:l.Data)&&void 0!==g?g:[]):(0,P.cX)(e.toastController,{},l).then(f=>f.present()),e.paging.loading=!1,e.paging.active=!(null==l||!l.HasNextPage),t&&t()}})})()}}return(i=r).\u0275fac=function(t){return new(t||i)(n.rXU(o.Xi),n.rXU(o.K_))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-bill-info"]],decls:15,vars:8,consts:[["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","fixed",3,"ionRefresh"],["class","container-loading",4,"ngIf"],["class","container py-5 text-center",4,"ngIf"],[1,"container","p-0","bill-list"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"container-loading"],["name","circular","color","primary"],[1,"container","py-5","text-center"],["src","../../../assets/image/temp/no-info.svg"],[1,"text-muted","mt-4"],["mode","ios"],["lines","none","button","","detail","false",3,"href"],["src","../../../assets/favicon/favicon.svg"],[1,"d-flex","w-100","align-items-start","justify-content-between"],[1,"bill-date","text-muted"],[1,"text-right"],[1,"bill-price"],[3,"ionInfinite"]],template:function(t,e){1&t&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n.nrm(3,"ion-back-button",1),n.k0s(),n.j41(4,"ion-title"),n.EFF(5),n.nI1(6,"translate"),n.k0s()()(),n.j41(7,"ion-content")(8,"ion-refresher",2),n.bIt("ionRefresh",function(g){return e.onIonRefresher(g)}),n.nrm(9,"ion-refresher-content"),n.k0s(),n.DNE(10,F,2,0,"div",3)(11,C,5,3,"div",4),n.j41(12,"div",5),n.DNE(13,D,16,4,"ng-container",6),n.k0s(),n.DNE(14,b,2,0,"ion-infinite-scroll",7),n.k0s()),2&t&&(n.R7$(3),n.Y8G("defaultHref",e.APP_ROUTE.TABS_USER),n.R7$(2),n.JRh(n.bMT(6,6,"BillHistory")),n.R7$(5),n.Y8G("ngIf",!e.response),n.R7$(1),n.Y8G("ngIf",e.response&&!e.billInfos.length),n.R7$(2),n.Y8G("ngForOf",e.billInfos),n.R7$(1),n.Y8G("ngIf",e.paging.active))},dependencies:[c.Sq,c.bT,o.QW,o.b_,o.W9,o.eU,o.Ax,o.Hp,o.uz,o.he,o.To,o.Ki,o.w2,o.Zx,o.BC,o.ai,o.el,R.D9],styles:[".bill-list[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 2.5rem}.bill-list[_ngcontent-%COMP%]   .bill-date[_ngcontent-%COMP%]{font-size:.6rem}.bill-list[_ngcontent-%COMP%]   .bill-status[_ngcontent-%COMP%]{font-size:.75rem}"]}),r})()}];let y=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[u.iI.forChild(M),u.iI]}),r})();var j=a(9500);let T=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[c.MD,m.YN,o.bv,y,j.x]}),r})()}}]);