"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6488],{4393:(y,k,l)=>{l.d(k,{FC:()=>h,SD:()=>p,T9:()=>r});var f=l(467),b=l(369);const s=new b.w({name:"_localDB",driverOrder:[b.C.IndexedDB,b.C.LocalStorage]}),h=function(){var t=(0,f.A)(function*(a){var c;yield s.create(),(a=null!==(c=a)&&void 0!==c?c:{}).params=a.params||{};try{var _=(yield s.get("setting"))||{};return"function"==typeof a.callback&&a.callback(_),_}catch(P){"function"==typeof a.callback&&a.callback(),console.error(P)}return{}});return function(c){return t.apply(this,arguments)}}(),r=function(){var t=(0,f.A)(function*(a){var c;yield s.create();var g="setting";(a=null!==(c=a)&&void 0!==c?c:{}).params=a.params||{};try{var _=(yield s.get(g))||{};Object.assign(_,a.params),yield s.set(g,_),"function"==typeof a.callback&&a.callback(_)}catch(P){"function"==typeof a.callback&&a.callback(),console.error(P)}});return function(c){return t.apply(this,arguments)}}(),p=function(){var t=(0,f.A)(function*(a){var c;yield s.create(),(a=null!==(c=a)&&void 0!==c?c:{}).params=a.params||{};try{yield s.set("setting",{}),"function"==typeof a.callback&&a.callback()}catch(_){"function"==typeof a.callback&&a.callback(),console.error(_)}});return function(c){return t.apply(this,arguments)}}()},1038:(y,k,l)=>{l.d(k,{v:()=>s});var f=l(467),b=l(5972);const s=function(){var h=(0,f.A)(function*(r){r.params=r.params||{};var p=[];r.params.subFolder&&(r.params.subFolder=r.params.subFolder.replace(/[^a-zA-Z0-9\/]/gm,"").replace(/\/+/gm,"/").replace(/^\//,"").replace(/\/$/,""),r.params.subFolder&&p.push(r.params.subFolder)),r.params.isconvertvideo=!!r.params.isconvertvideo,r.params.isconvertpdf2image=!!r.params.isconvertpdf2image,r.params.isconvertoffice2image=!!r.params.isconvertoffice2image,r.params.isresizeimage=!!r.params.isresizeimage;const t=new FormData;t.append("path",p.join("/")),t.append("types",r.params.fileType||null),t.append("file",r.params.file||null),t.append("base64",r.params.base64||!1),t.append("isconvertvideo",r.params.isconvertvideo),t.append("isconvertpdf2image",r.params.isconvertpdf2image),t.append("isconvertoffice2image",r.params.isconvertoffice2image),t.append("isresizeimage",r.params.isresizeimage),(0,b.ZD)({url:"files",params:t,success:a=>{"function"==typeof r.callback&&r.callback(a.data||null)},error:a=>{"function"==typeof r.callback&&r.callback(),console.error(r,a)},loading:r.loading})});return function(p){return h.apply(this,arguments)}}()},9946:(y,k,l)=>{l.d(k,{ks:()=>h,sh:()=>r,z:()=>s});var f=l(467),b=l(5972);const s=function(){var p=(0,f.A)(function*(t){t.params=t.params||{},(0,b.hm)({url:"api/User/get-user",params:{},success:a=>{"function"==typeof t.callback&&t.callback(a.data||null)},error:a=>{var c;"function"==typeof t.callback&&t.callback(null==a||null===(c=a.response)||void 0===c?void 0:c.data),console.error(a)},loading:t.loading})});return function(a){return p.apply(this,arguments)}}(),h=function(){var p=(0,f.A)(function*(t){var a,c,g,_,P,O;t.params=t.params||{},(0,b.IH)({url:"api/User/update-user",params:{UserId:null!==(a=t.params.UserId)&&void 0!==a?a:null,FullName:null!==(c=t.params.FullName)&&void 0!==c?c:null,Address:null!==(g=t.params.Address)&&void 0!==g?g:null,Gender:null!==(_=t.params.Gender)&&void 0!==_?_:null,Birthday:null!==(P=t.params.Birthday)&&void 0!==P?P:null,PersonEmail:null!==(O=t.params.Email)&&void 0!==O?O:null},success:T=>{"function"==typeof t.callback&&t.callback(T.data||null)},error:T=>{var e;"function"==typeof t.callback&&t.callback(null==T||null===(e=T.response)||void 0===e?void 0:e.data),console.error(T)},loading:t.loading})});return function(a){return p.apply(this,arguments)}}(),r=function(){var p=(0,f.A)(function*(t){var a,c;t.params=t.params||{},(0,b.IH)({url:"api/User/update-avatar",params:{UserId:null!==(a=t.params.UserId)&&void 0!==a?a:null,Avatar:null!==(c=t.params.Avatar)&&void 0!==c?c:null},success:g=>{"function"==typeof t.callback&&t.callback(g.data||null)},error:g=>{var _;"function"==typeof t.callback&&t.callback(null==g||null===(_=g.response)||void 0===_?void 0:_.data),console.error(g)},loading:t.loading})});return function(a){return p.apply(this,arguments)}}()},6488:(y,k,l)=>{l.r(k),l.d(k,{UserPageModule:()=>S});var f=l(177),b=l(9417),s=l(8974),h=l(2175),r=l(467),p=l(23),t=l(1038),a=l(9946),c=l(6539),g=l(8517),_=l(8833),P=l(5312),O=l(8650),T=l(4393),e=l(4438),j=l(345),C=l(4842);function I(m,U){if(1&m){const R=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"h4",36),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",36),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",37)(9,"div",38)(10,"ion-button",39),e.bIt("click",function(){e.eBV(R),e.XpG();const n=e.sdS(115);return e.Njj(null==n?null:n.dismiss())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"div",38)(14,"ion-button",40),e.bIt("click",function(n){e.eBV(R);const o=e.XpG(),i=e.sdS(115);return null==i||i.dismiss(),e.Njj(o.signOut(n))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()}2&m&&(e.R7$(3),e.JRh(e.bMT(4,4,"SignOut")),e.R7$(3),e.JRh(e.bMT(7,6,"SignOut_Confirm")),e.R7$(5),e.JRh(e.bMT(12,8,"Cancel")),e.R7$(4),e.JRh(e.bMT(16,10,"Confirm")))}const F=[{path:"",component:(()=>{var m;class U{constructor(d,n,o,i,u){var v=this;this.router=d,this.titleService=n,this.translateService=o,this.loadingController=i,this.toastController=u,this.APP_ROUTE=_._,this.api_url=P.c.api_url,this.params={},this.APP_FUNC_FormatMobileNumber=g.IV,(0,r.A)(function*(){v.loading=yield v.loadingController.create({message:""})})()}ngOnInit(){var d=this;(0,r.A)(function*(){(yield(0,c.kU)())&&d.refreshData()})()}onIonRefresher(d){this.refreshData(()=>{d.target.complete()})}refreshData(d){var n=this;return(0,r.A)(function*(){(0,a.z)({loading:o=>{var i,u;o?null===(i=n.loading)||void 0===i||i.present():null===(u=n.loading)||void 0===u||u.dismiss()},callback:o=>{var i,u,v;null!=o&&o.Succeeded?(n.user=null!==(i=o.Data)&&void 0!==i?i:{},null!==(u=n.user)&&void 0!==u&&u.FullName?n.titleService.setTitle(null===(v=n.user)||void 0===v?void 0:v.FullName):n.translateService.stream("User").subscribe(M=>{n.titleService.setTitle(M)})):(0,O.cX)(n.toastController,{},o).then(M=>M.present()),d&&d()}})})()}signOut(d){return(0,r.A)(function*(){yield(0,T.SD)(),(0,p.wn)({callback:()=>{window.location.replace(_._.AUTH)}})})()}changeAvatar(d){var n=this;return(0,r.A)(function*(){(0,g.oG)({accept:"image/*"},o=>{(0,t.v)({loading:i=>{var u,v;i?null===(u=n.loading)||void 0===u||u.present():null===(v=n.loading)||void 0===v||v.dismiss()},params:{file:o[0],subFolder:"avatar",fileType:"image"},callback:i=>{var u;0==(null==i?void 0:i.ReturnCode)&&(0,a.sh)({loading:v=>{var M,E;v?null===(M=n.loading)||void 0===M||M.present():null===(E=n.loading)||void 0===E||E.dismiss()},params:{UserId:null===(u=n.user)||void 0===u?void 0:u.UserId,Avatar:`${i.path}/${i.file.name}`},callback:v=>{null!=v&&v.Succeeded?n.refreshData():(0,O.cX)(n.toastController,{},v).then(M=>M.present())}})}})})})()}navigateByUrl(d){var n=this;return(0,r.A)(function*(){n.router.navigateByUrl(d)})()}}return(m=U).\u0275fac=function(d){return new(d||m)(e.rXU(h.Ix),e.rXU(j.hE),e.rXU(C.c$),e.rXU(s.Xi),e.rXU(s.K_))},m.\u0275cmp=e.VBU({type:m,selectors:[["app-user"]],decls:117,vars:68,consts:[["modalSignOut",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"card-info"],[1,"bg"],[1,"avatar"],[3,"src"],[1,"change-avatar"],["color","light",3,"click"],["color","primary","src","../../../assets/icon/ion-icon/camera-shape.svg"],[1,"text-center","text-primary","mt-3","mb-0"],[1,"container","pt-3","pb-5"],["mode","ios","lines","none"],["button","","detail","true","color","light","detail-icon","chevron-forward-outline",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/person-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/verhicle-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/bill-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/setting-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/feedback-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/chat-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/book-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/persons-circle.svg"],["slot","start","src","../../../assets/icon/ion-icon/book-open-circle.svg"],[1,"container","card-company","bg-white","rounded"],[1,"table","table-borderless","m-0"],[1,"text-muted"],[1,"text-dark",3,"href","innerHTML"],[1,"mt-3","mb-5"],["mode","ios","color","light","expand","block","id","click-trigger-modal-signout",1,"btn-sign-out"],["slot","start","src","../../../assets/icon/ion-icon/sign-out.svg"],["trigger","click-trigger-modal-signout",1,"ion-modal-small"],[1,"p-4"],[1,"text-center"],[1,"mb-4"],[1,"row"],[1,"col-6","pr-1"],["fill","outline","color","medium","expand","block","shape","round",3,"click"],["color","primary","expand","block","shape","round",3,"click"]],template:function(d,n){if(1&d){const o=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content",4)(8,"ion-refresher",5),e.bIt("ionRefresh",function(u){return e.eBV(o),e.Njj(n.onIonRefresher(u))}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.j41(10,"div",6),e.nrm(11,"div",7),e.j41(12,"div",8)(13,"ion-avatar"),e.nrm(14,"img",9),e.k0s(),e.j41(15,"div",10)(16,"ion-button",11),e.bIt("click",function(u){return e.eBV(o),e.Njj(n.changeAvatar(u))}),e.nrm(17,"ion-icon",12),e.k0s()()(),e.j41(18,"h5",13)(19,"b"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()(),e.j41(22,"div",14)(23,"ion-list",15)(24,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.USER_INFO))}),e.nrm(25,"ion-icon",17),e.j41(26,"ion-label"),e.EFF(27),e.nI1(28,"translate"),e.k0s()(),e.j41(29,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.VEHICLE))}),e.nrm(30,"ion-icon",18),e.j41(31,"ion-label"),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.CUSTOMER_INVOICE))}),e.nrm(35,"ion-icon",19),e.j41(36,"ion-label"),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.ORDER_INFO))}),e.nrm(40,"ion-icon",19),e.j41(41,"ion-label"),e.EFF(42),e.nI1(43,"translate"),e.k0s()()(),e.j41(44,"ion-list",15)(45,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.SETTING))}),e.nrm(46,"ion-icon",20),e.j41(47,"ion-label"),e.EFF(48),e.nI1(49,"translate"),e.k0s()(),e.j41(50,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.FEEDBACK))}),e.nrm(51,"ion-icon",21),e.j41(52,"ion-label"),e.EFF(53),e.nI1(54,"translate"),e.k0s()(),e.j41(55,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.SUPPORT))}),e.nrm(56,"ion-icon",22),e.j41(57,"ion-label"),e.EFF(58),e.nI1(59,"translate"),e.k0s()(),e.j41(60,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.HELP))}),e.nrm(61,"ion-icon",23),e.j41(62,"ion-label"),e.EFF(63),e.nI1(64,"translate"),e.k0s()()(),e.j41(65,"ion-list",15)(66,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.ABOUT_US))}),e.nrm(67,"ion-icon",24),e.j41(68,"ion-label"),e.EFF(69),e.nI1(70,"translate"),e.k0s()(),e.j41(71,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.TERMS_OF_USE))}),e.nrm(72,"ion-icon",25),e.j41(73,"ion-label"),e.EFF(74),e.nI1(75,"translate"),e.k0s()(),e.j41(76,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.POLICIES_AND_REGULATIONS))}),e.nrm(77,"ion-icon",25),e.j41(78,"ion-label"),e.EFF(79),e.nI1(80,"translate"),e.k0s()(),e.j41(81,"ion-item",16),e.bIt("click",function(){return e.eBV(o),e.Njj(n.navigateByUrl(n.APP_ROUTE.SALES_AND_PAYMENT_POLICIES))}),e.nrm(82,"ion-icon",25),e.j41(83,"ion-label"),e.EFF(84),e.nI1(85,"translate"),e.k0s()()(),e.j41(86,"div",26)(87,"table",27)(88,"tr")(89,"td")(90,"b",28),e.EFF(91),e.nI1(92,"translate"),e.k0s()(),e.j41(93,"td")(94,"b"),e.nrm(95,"a",29),e.nI1(96,"translate"),e.nI1(97,"translate"),e.k0s()()(),e.j41(98,"tr")(99,"td")(100,"b",28),e.EFF(101),e.nI1(102,"translate"),e.k0s()(),e.j41(103,"td")(104,"b"),e.nrm(105,"a",29),e.nI1(106,"translate"),e.nI1(107,"translate"),e.k0s()()()()(),e.j41(108,"div",30)(109,"ion-button",31),e.nrm(110,"ion-icon",32),e.j41(111,"ion-label",1),e.EFF(112),e.nI1(113,"translate"),e.k0s()()()(),e.j41(114,"ion-modal",33,0),e.DNE(116,I,17,12,"ng-template"),e.k0s()()}if(2&d){let o;e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.TABS_DEFAULT),e.R7$(2),e.JRh(e.bMT(6,26,"UserInfo")),e.R7$(2),e.Y8G("fullscreen",!0),e.R7$(7),e.Y8G("src",null!=n.user&&n.user.Avatar?n.api_url+"readfile/"+(null==n.user?null:n.user.Avatar):"assets/icon/ion-img/no-avatar.svg",e.B4B),e.R7$(6),e.JRh(null!==(o=null==n.user?null:n.user.FullName)&&void 0!==o?o:e.bMT(21,28,"NotUpdate")),e.R7$(7),e.JRh(e.bMT(28,30,"UserInfo")),e.R7$(5),e.JRh(e.bMT(33,32,"Vehicle")),e.R7$(5),e.JRh(e.bMT(38,34,"ExportBillInfo")),e.R7$(5),e.JRh(e.bMT(43,36,"OrderHistory")),e.R7$(6),e.JRh(e.bMT(49,38,"Setting")),e.R7$(5),e.JRh(e.bMT(54,40,"SendFeedback")),e.R7$(5),e.JRh(e.bMT(59,42,"FAQ")),e.R7$(5),e.JRh(e.bMT(64,44,"UseManual")),e.R7$(6),e.JRh(e.bMT(70,46,"AboutUs")),e.R7$(5),e.JRh(e.bMT(75,48,"TermsOfUse")),e.R7$(5),e.JRh(e.bMT(80,50,"PoliciesAndRegulations")),e.R7$(5),e.JRh(e.bMT(85,52,"SalesAndPaymentPolicies")),e.R7$(7),e.JRh(e.bMT(92,54,"Hotline")),e.R7$(4),e.Mz_("href","tel:",e.bMT(96,56,"CompanyMobile"),"",e.B4B),e.Y8G("innerHTML",n.APP_FUNC_FormatMobileNumber(e.bMT(97,58,"CompanyMobile")),e.npT),e.R7$(6),e.JRh(e.bMT(102,60,"Email")),e.R7$(4),e.Mz_("href","mailto:",e.bMT(106,62,"CompanyEmail"),"",e.B4B),e.Y8G("innerHTML",e.bMT(107,64,"CompanyEmail"),e.npT),e.R7$(7),e.JRh(e.bMT(113,66,"SignOut"))}},dependencies:[s.mC,s.Jm,s.QW,s.W9,s.eU,s.iq,s.uz,s.he,s.nf,s.To,s.Ki,s.BC,s.ai,s.Sb,s.el,C.D9],styles:[".card-info[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{padding:3rem 1rem;background-color:var(--ion-color-primary);background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:center center;background-size:auto 200%}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{position:relative;z-index:1;width:7rem;margin:-3rem auto auto}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:7rem;height:7rem;border:.125rem solid var(--ion-color-light);background-color:var(--ion-color-light)}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]{position:absolute;z-index:2;bottom:0;right:0}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: 50%}.card-info[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;--border-radius: 50%;margin:auto;cursor:pointer}ion-list[_ngcontent-%COMP%]{margin:1.25rem 0;border-radius:1rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 3rem}.card-company[_ngcontent-%COMP%]{padding:1rem}.card-company.rounded[_ngcontent-%COMP%]{border-radius:.5rem!important}.card-company[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important;margin:.5rem 0}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}"]}),U})()}];let A=(()=>{var m;class U{}return(m=U).\u0275fac=function(d){return new(d||m)},m.\u0275mod=e.$C({type:m}),m.\u0275inj=e.G2t({imports:[h.iI.forChild(F),h.iI]}),U})();var B=l(3584);let S=(()=>{var m;class U{}return(m=U).\u0275fac=function(d){return new(d||m)},m.\u0275mod=e.$C({type:m}),m.\u0275inj=e.G2t({imports:[f.MD,b.YN,s.bv,A,B.x]}),U})()}}]);