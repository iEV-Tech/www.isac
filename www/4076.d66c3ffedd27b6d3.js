"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4076],{4393:(C,b,a)=>{a.d(b,{FC:()=>B,SD:()=>P,T9:()=>h});var v=a(467),y=a(369);const i=new y.w({name:"_localDB",driverOrder:[y.C.IndexedDB,y.C.LocalStorage]}),B=function(){var s=(0,v.A)(function*(e){var l;yield i.create(),(e=null!==(l=e)&&void 0!==l?l:{}).params=e.params||{};try{var g=(yield i.get("setting"))||{};return"function"==typeof e.callback&&e.callback(g),g}catch(S){"function"==typeof e.callback&&e.callback(),console.error(S)}return{}});return function(l){return s.apply(this,arguments)}}(),h=function(){var s=(0,v.A)(function*(e){var l;yield i.create();var t="setting";(e=null!==(l=e)&&void 0!==l?l:{}).params=e.params||{};try{var g=(yield i.get(t))||{};Object.assign(g,e.params),yield i.set(t,g),"function"==typeof e.callback&&e.callback(g)}catch(S){"function"==typeof e.callback&&e.callback(),console.error(S)}});return function(l){return s.apply(this,arguments)}}(),P=function(){var s=(0,v.A)(function*(e){var l;yield i.create(),(e=null!==(l=e)&&void 0!==l?l:{}).params=e.params||{};try{yield i.set("setting",{}),"function"==typeof e.callback&&e.callback()}catch(g){"function"==typeof e.callback&&e.callback(),console.error(g)}});return function(l){return s.apply(this,arguments)}}()},4076:(C,b,a)=>{a.r(b),a.d(b,{SettingPageModule:()=>M});var v=a(177),y=a(9417),i=a(8974),B=a(2175),h=a(467),P=a(9316),s=a(1850),e=a(4393),l=a(8833),t=a(4438),g=a(4517),S=a(4842);function k(n,f){if(1&n){const u=t.RV6();t.j41(0,"ion-item",4)(1,"ion-toggle",7),t.bIt("click",function(o){t.eBV(u);const d=t.XpG();return t.Njj(d.clickBiometric(o))}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&n){const u=t.XpG();t.R7$(),t.Y8G("checked",u.dataSetting.Biometric),t.R7$(),t.JRh(t.bMT(3,2,"Biometrics"))}}const I=[{path:"",component:(()=>{var n;class f{constructor(r,o){this.platform=r,this.modalController=o,this.APP_ROUTE=l._,this.dataSetting={};var d=this.platform.platforms();d.includes("mobile")&&!d.includes("mobileweb")&&s.qG.isAvailable({useFallback:!0}).then(c=>{console.log("NativeBiometric.isAvailable",c),this.biometricAvailable=!!c.isAvailable})}ngOnInit(){(0,e.FC)({callback:r=>{r&&(this.dataSetting=r)}})}changeNotify(r){return(0,h.A)(function*(){(0,e.T9)({params:{Notify:r.detail.checked}})})()}clickBiometric(r){var o=this;return(0,h.A)(function*(){o.dataSetting.Biometric?s.qG.verifyIdentity({subtitle:"T\u1eaft b\u1ea3o v\u1ec7 \u1ee9ng d\u1ee5ng v\u1edbi sinh tr\u1eafc h\u1ecdc",useFallback:!0,maxAttempts:5}).then(function(){var c=(0,h.A)(function*(p){console.info("NativeBiometric.verifyIdentity",p),s.qG.deleteCredentials({server:"iev.infipower.vn"}).then(m=>{console.info("NativeBiometric.setCredentials",m),(0,e.T9)({params:{Biometric:!1}}),o.dataSetting.Biometric=!1}).catch(m=>{throw m})});return function(p){return c.apply(this,arguments)}}()).catch(c=>{o.dataSetting.Biometric=!0,console.log("NativeBiometric.verifyIdentity",c)}):s.qG.verifyIdentity({subtitle:"K\xedch ho\u1ea1t b\u1ea3o v\u1ec7 \u1ee9ng d\u1ee5ng v\u1edbi sinh tr\u1eafc h\u1ecdc",useFallback:!0,maxAttempts:5}).then(function(){var c=(0,h.A)(function*(p){var m;console.info("NativeBiometric.verifyIdentity",p),s.qG.setCredentials({server:"iev.infipower.vn",username:"isac",password:null===(m=yield P.p.getId())||void 0===m?void 0:m.identifier}).then(R=>{console.info("NativeBiometric.setCredentials",R),(0,e.T9)({params:{Biometric:!0}}),o.dataSetting.Biometric=!0}).catch(R=>{throw R})});return function(p){return c.apply(this,arguments)}}()).catch(c=>{o.dataSetting.Biometric=!1,console.log("NativeBiometric.verifyIdentity",c)})})()}}return(n=f).\u0275fac=function(r){return new(r||n)(t.rXU(g.OD),t.rXU(i.W3))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-setting"]],decls:15,vars:9,consts:[["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],[1,"container"],["mode","ios","lines","none"],["color","light","button","false","detail","false"],[3,"ionChange","checked"],["color","light","button","false","detail","false",4,"ngIf"],[3,"click","checked"]],template:function(r,o){1&r&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button",1),t.k0s(),t.j41(4,"ion-title"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()(),t.j41(7,"ion-content")(8,"div",2)(9,"ion-list",3)(10,"ion-item",4)(11,"ion-toggle",5),t.bIt("ionChange",function(c){return o.changeNotify(c)}),t.EFF(12),t.nI1(13,"translate"),t.k0s()(),t.DNE(14,k,4,4,"ion-item",6),t.k0s()()()),2&r&&(t.R7$(3),t.Y8G("defaultHref",o.APP_ROUTE.TABS_USER),t.R7$(2),t.JRh(t.bMT(6,5,"Setting")),t.R7$(6),t.Y8G("checked",o.dataSetting.Notify),t.R7$(),t.JRh(t.bMT(13,7,"Notify")),t.R7$(2),t.Y8G("ngIf",o.biometricAvailable))},dependencies:[v.bT,i.QW,i.W9,i.eU,i.uz,i.nf,i.BC,i.BY,i.ai,i.hB,i.el,S.D9],styles:["ion-list[_ngcontent-%COMP%]{margin:1.25rem 0;border-radius:.75rem}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),f})()}];let T=(()=>{var n;class f{}return(n=f).\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[B.iI.forChild(I),B.iI]}),f})();var A=a(3584);let M=(()=>{var n;class f{}return(n=f).\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[v.MD,y.YN,i.bv,T,A.x]}),f})()}}]);