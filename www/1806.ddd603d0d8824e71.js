"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1806],{5970:(k,b,p)=>{p.d(b,{$J:()=>e,NT:()=>u,Ul:()=>y,Wu:()=>h,kT:()=>_});var d=p(467),f=p(5972);const y=function(){var I=(0,d.A)(function*(o){var t,m;o.params=o.params||{},(0,f.hm)({url:"api/CustomerInvoice/get-customerinvoices",params:{PageNumber:null!==(t=o.params.PageNumber)&&void 0!==t?t:1,PageSize:null!==(m=o.params.PageSize)&&void 0!==m?m:10},success:v=>{"function"==typeof o.callback&&o.callback(v.data||null)},error:v=>{var C;"function"==typeof o.callback&&o.callback(null==v||null===(C=v.response)||void 0===C?void 0:C.data),console.error(v)},loading:o.loading,loadingController:o.loadingController})});return function(t){return I.apply(this,arguments)}}(),_=function(){var I=(0,d.A)(function*(o){o.params=o.params||{},(0,f.hm)({url:`api/CustomerInvoice/get/${o.params.CustomerInvoiceId}`,success:t=>{"function"==typeof o.callback&&o.callback(t.data||null)},error:t=>{var m;"function"==typeof o.callback&&o.callback(null==t||null===(m=t.response)||void 0===m?void 0:m.data),console.error(t)},loading:o.loading,loadingController:o.loadingController})});return function(t){return I.apply(this,arguments)}}(),h=function(){var I=(0,d.A)(function*(o){var t,m,v,C,s,c,i,l;o.params=o.params||{},(0,f.Ll)({url:"api/CustomerInvoice/create",params:{IsCompany:null!==(t=o.params.IsCompany)&&void 0!==t?t:null,TaxCode:null!==(m=o.params.TaxCode)&&void 0!==m?m:null,CompanyName:null!==(v=o.params.CompanyName)&&void 0!==v?v:null,Address:null!==(C=o.params.Address)&&void 0!==C?C:null,BuyerName:null!==(s=o.params.BuyerName)&&void 0!==s?s:null,BuyerPhone:null!==(c=o.params.BuyerPhone)&&void 0!==c?c:null,BuyerEmail:null!==(i=o.params.BuyerEmail)&&void 0!==i?i:null,IsDefault:null!==(l=o.params.IsDefault)&&void 0!==l?l:null},success:n=>{"function"==typeof o.callback&&o.callback(n.data||null)},error:n=>{var a;"function"==typeof o.callback&&o.callback(null==n||null===(a=n.response)||void 0===a?void 0:a.data),console.error(n)},loading:o.loading,loadingController:o.loadingController})});return function(t){return I.apply(this,arguments)}}(),e=function(){var I=(0,d.A)(function*(o){var t,m,v,C,s,c,i,l,n;o.params=o.params||{},(0,f.IH)({url:"api/CustomerInvoice/update",params:{CustomerInvoiceId:null!==(t=o.params.CustomerInvoiceId)&&void 0!==t?t:null,IsCompany:null!==(m=o.params.IsCompany)&&void 0!==m?m:null,TaxCode:null!==(v=o.params.TaxCode)&&void 0!==v?v:null,CompanyName:null!==(C=o.params.CompanyName)&&void 0!==C?C:null,Address:null!==(s=o.params.Address)&&void 0!==s?s:null,BuyerName:null!==(c=o.params.BuyerName)&&void 0!==c?c:null,BuyerPhone:null!==(i=o.params.BuyerPhone)&&void 0!==i?i:null,BuyerEmail:null!==(l=o.params.BuyerEmail)&&void 0!==l?l:null,IsDefault:null!==(n=o.params.IsDefault)&&void 0!==n?n:null},success:a=>{"function"==typeof o.callback&&o.callback(a.data||null)},error:a=>{var r;"function"==typeof o.callback&&o.callback(null==a||null===(r=a.response)||void 0===r?void 0:r.data),console.error(a)},loading:o.loading,loadingController:o.loadingController})});return function(t){return I.apply(this,arguments)}}(),u=function(){var I=(0,d.A)(function*(o){o.params=o.params||{},(0,f.sj)({url:`api/CustomerInvoice/delete/${o.params.CustomerInvoiceId}`,params:{},success:t=>{"function"==typeof o.callback&&o.callback(t.data||null)},error:t=>{var m;"function"==typeof o.callback&&o.callback(null==t||null===(m=t.response)||void 0===m?void 0:m.data),console.error(t)},loading:o.loading,loadingController:o.loadingController})});return function(t){return I.apply(this,arguments)}}()},1806:(k,b,p)=>{p.d(b,{$:()=>C});var d=p(467),f=p(5972);const y=function(){var s=(0,d.A)(function*(c){c.params=c.params||{},(0,f.hm)({url:`api/CompanyLookup/get/${c.params.TaxCode}`,success:i=>{"function"==typeof c.callback&&c.callback(i.data||null)},error:i=>{var l;"function"==typeof c.callback&&c.callback(null==i||null===(l=i.response)||void 0===l?void 0:l.data),console.error(i)},loading:c.loading,loadingController:c.loadingController})});return function(i){return s.apply(this,arguments)}}();var _=p(5970),h=p(8650),e=p(4438),u=p(9465),I=p(177),o=p(4842);function t(s,c){if(1&s){const i=e.RV6();e.j41(0,"div",8)(1,"label"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span",11),e.EFF(5,"*"),e.k0s()(),e.j41(6,"div",12)(7,"ion-item")(8,"ion-input",14),e.nI1(9,"translate"),e.bIt("ionChange",function(n){e.eBV(i);const a=e.XpG();return e.Njj(a.changeCompanyName(n))}),e.k0s()()()(),e.j41(10,"div",8)(11,"label"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"div",12)(15,"ion-item")(16,"ion-input",14),e.nI1(17,"translate"),e.bIt("ionChange",function(n){e.eBV(i);const a=e.XpG();return e.Njj(a.changeBuyerName(n))}),e.k0s()()()()}if(2&s){const i=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,6,"BillCompanyName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(9,8,"BillCompanyName")),e.Y8G("value",i.customerInvoice.CompanyName),e.R7$(4),e.SpI(" ",e.bMT(13,10,"BillBuyerName")," "),e.R7$(4),e.FS9("placeholder",e.bMT(17,12,"BillBuyerName")),e.Y8G("value",i.customerInvoice.BuyerName)}}function m(s,c){if(1&s){const i=e.RV6();e.j41(0,"div",8)(1,"label"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span",11),e.EFF(5,"*"),e.k0s()(),e.j41(6,"div",12)(7,"ion-item")(8,"ion-input",14),e.nI1(9,"translate"),e.bIt("ionChange",function(n){e.eBV(i);const a=e.XpG();return e.Njj(a.changeBuyerName(n))}),e.k0s()()()()}if(2&s){const i=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"FullName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(9,5,"FullName")),e.Y8G("value",i.customerInvoice.BuyerName)}}function v(s,c){if(1&s){const i=e.RV6();e.j41(0,"div",8)(1,"div",18)(2,"ion-item")(3,"ion-checkbox",19),e.bIt("ionChange",function(n){e.eBV(i);const a=e.XpG();return e.Njj(a.changeIsDefault(n))}),e.j41(4,"small")(5,"b"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()()()}if(2&s){const i=e.XpG();e.R7$(3),e.Y8G("checked",!!i.customerInvoice.IsDefault),e.R7$(3),e.JRh(e.bMT(7,2,"CustomerInvoiceDefault"))}}let C=(()=>{var s;class c{constructor(l,n,a){this.modalController=l,this.loadingController=n,this.toastController=a,this.customerInvoice={IsCompany:!1}}ngOnInit(){this.RequireDefault&&(this.customerInvoice.IsDefault=this.RequireDefault),this.refreshData()}onIonRefresher(l){this.refreshData(()=>{l.target.complete()})}refreshData(l){var n=this;return(0,d.A)(function*(){n.CustomerInvoiceId?(0,_.kT)({loadingController:n.loadingController,params:{CustomerInvoiceId:n.CustomerInvoiceId},callback:a=>{var r;n.response=a,null!=a&&a.Succeeded?n.customerInvoice=null!==(r=a.Data)&&void 0!==r?r:{}:(0,h.cX)(n.toastController,{},a).then(g=>g.present()),l&&l()}}):l&&l()})()}close(l){var n=this;return(0,d.A)(function*(){n.modalController.dismiss(null,"cancel")})()}get submit_disabled(){return!(this.customerInvoice.TaxCode&&(!this.customerInvoice.IsCompany||this.customerInvoice.CompanyName)&&(this.customerInvoice.IsCompany||this.customerInvoice.BuyerName)&&this.customerInvoice.Address)}submit(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.CustomerInvoiceId?(0,_.$J)({loadingController:n.loadingController,params:n.customerInvoice,callback:a=>{n.response=a,null!=a&&a.Succeeded?n.modalController.dismiss(null,"success"):(0,h.cX)(n.toastController,{},a).then(r=>r.present())}}):(0,_.Wu)({loadingController:n.loadingController,params:n.customerInvoice,callback:a=>{n.response=a,null!=a&&a.Succeeded?n.modalController.dismiss(null,"success"):(0,h.cX)(n.toastController,{},a).then(r=>r.present())}})})()}changeBuyerPhone(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerPhone=l.detail.value})()}changeBuyerEmail(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerEmail=l.detail.value})()}changeCompanyName(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.CompanyName=l.detail.value})()}changeBuyerName(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerName=l.detail.value})()}changeAddress(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.Address=l.detail.value})()}changeTaxCode(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.TaxCode=l.detail.value,y({params:{TaxCode:n.customerInvoice.TaxCode},callback:a=>{if(null!=a&&a.Succeeded){let T=null==a?void 0:a.Data;var r,g;T&&(n.customerInvoice.CompanyName=null!==(r=T.Name)&&void 0!==r?r:n.customerInvoice.CompanyName,n.customerInvoice.Address=null!==(g=T.Address)&&void 0!==g?g:n.customerInvoice.Address)}}})})()}changeIsCompany(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.IsCompany=l.detail.value})()}changeIsDefault(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.IsDefault=l.detail.checked})()}}return(s=c).\u0275fac=function(l){return new(l||s)(e.rXU(u.W3),e.rXU(u.Xi),e.rXU(u.K_))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-modal-add-customer-invoice"]],inputs:{CustomerInvoiceId:"CustomerInvoiceId",RequireDefault:"RequireDefault"},decls:71,vars:49,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","fixed",3,"ionRefresh"],[1,"card-info","bg-white","container","py-3","min-h-100"],[1,"text-center","mb-3"],[1,"text-muted"],["lines","none"],[1,"form-group"],["mode","md",3,"ionChange","value"],["labelPlacement","end",3,"value"],[1,"text-danger"],[1,"ion-item-input"],["type","number","inputmode","decimal",3,"ionChange","placeholder","value"],[3,"ionChange","placeholder","value"],["class","form-group",4,"ngIf"],[1,"p-3"],["color","primary","shape","round","expand","block",3,"click","disabled"],[1,"row"],["labelPlacement","end","justify","start",3,"ionChange","checked"]],template:function(l,n){1&l&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(r){return n.close(r)}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-refresher",3),e.bIt("ionRefresh",function(r){return n.onIonRefresher(r)}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.j41(11,"div",4)(12,"div",5)(13,"small",6),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"ion-list",7)(17,"div",8)(18,"ion-radio-group",9),e.bIt("ionChange",function(r){return n.changeIsCompany(r)}),e.j41(19,"ion-radio",10)(20,"ion-label"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"ion-radio",10)(24,"ion-label"),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()(),e.j41(27,"div",8)(28,"label"),e.EFF(29),e.nI1(30,"translate"),e.j41(31,"span",11),e.EFF(32,"*"),e.k0s()(),e.j41(33,"div",12)(34,"ion-item")(35,"ion-input",13),e.nI1(36,"translate"),e.bIt("ionChange",function(r){return n.changeTaxCode(r)}),e.k0s()()()(),e.DNE(37,t,18,14)(38,m,10,7),e.j41(39,"div",8)(40,"label"),e.EFF(41),e.nI1(42,"translate"),e.j41(43,"span",11),e.EFF(44,"*"),e.k0s()(),e.j41(45,"div",12)(46,"ion-item")(47,"ion-input",14),e.nI1(48,"translate"),e.bIt("ionChange",function(r){return n.changeAddress(r)}),e.k0s()()()(),e.j41(49,"div",8)(50,"label"),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"div",12)(54,"ion-item")(55,"ion-input",14),e.nI1(56,"translate"),e.bIt("ionChange",function(r){return n.changeBuyerEmail(r)}),e.k0s()()()(),e.j41(57,"div",8)(58,"label"),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.j41(61,"div",12)(62,"ion-item")(63,"ion-input",14),e.nI1(64,"translate"),e.bIt("ionChange",function(r){return n.changeBuyerPhone(r)}),e.k0s()()()(),e.DNE(65,v,8,4,"div",15),e.k0s()()(),e.j41(66,"ion-footer")(67,"div",16)(68,"ion-button",17),e.bIt("click",function(r){return n.submit(r)}),e.EFF(69),e.nI1(70,"translate"),e.k0s()()()),2&l&&(e.R7$(6),e.JRh(e.bMT(7,23,"CustomerInvoice")),e.R7$(8),e.SpI(" ",e.bMT(15,25,"CustomerInvoiceDescription")," "),e.R7$(4),e.Y8G("value",!!n.customerInvoice.IsCompany),e.R7$(),e.Y8G("value",!1),e.R7$(2),e.JRh(e.bMT(22,27,"Personal")),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.JRh(e.bMT(26,29,"CompanyInvoice")),e.R7$(4),e.SpI(" ",e.bMT(30,31,"BillTax")," "),e.R7$(6),e.FS9("placeholder",e.bMT(36,33,"BillTax")),e.Y8G("value",n.customerInvoice.TaxCode),e.R7$(2),e.vxM(37,n.customerInvoice.IsCompany?37:38),e.R7$(4),e.SpI(" ",e.bMT(42,35,"BillAddress")," "),e.R7$(6),e.FS9("placeholder",e.bMT(48,37,"BillAddress")),e.Y8G("value",n.customerInvoice.Address),e.R7$(4),e.JRh(e.bMT(52,39,"Email")),e.R7$(4),e.FS9("placeholder",e.bMT(56,41,"Email")),e.Y8G("value",n.customerInvoice.BuyerEmail),e.R7$(4),e.JRh(e.bMT(60,43,"Mobile")),e.R7$(4),e.FS9("placeholder",e.bMT(64,45,"Mobile")),e.Y8G("value",n.customerInvoice.BuyerPhone),e.R7$(2),e.Y8G("ngIf",!n.RequireDefault),e.R7$(3),e.Y8G("disabled",n.submit_disabled),e.R7$(),e.SpI(" ",e.bMT(70,47,"Save")," "))},dependencies:[I.bT,u.Jm,u.QW,u.eY,u.W9,u.M0,u.eU,u.iq,u.$w,u.uz,u.he,u.nf,u.KO,u.f0,u.To,u.Ki,u.BC,u.ai,u.hB,u.su,u.Je,u.Gw,o.D9],styles:["ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-list[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}ion-radio-group[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%] + ion-radio[_ngcontent-%COMP%]{margin-left:1.5rem}"]}),c})()}}]);