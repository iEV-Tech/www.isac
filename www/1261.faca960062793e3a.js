"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1261],{2254:(I,F,p)=>{p.d(F,{C:()=>g,D1:()=>C,cZ:()=>h,kT:()=>_,vE:()=>a});var v=p(467),f=p(7158);const h=function(){var o=(0,v.A)(function*(e){var t,u,b,r,c;e.params=e.params||{},(0,f.Ll)({url:"api/Feedback/create",params:{FbCatgId:null!==(t=e.params.FbCatgId)&&void 0!==t?t:null,DocType:null!==(u=e.params.DocType)&&void 0!==u?u:null,DocId:null!==(b=e.params.DocId)&&void 0!==b?b:null,Title:null!==(r=e.params.Title)&&void 0!==r?r:null,Content:null!==(c=e.params.Content)&&void 0!==c?c:null},success:i=>{"function"==typeof e.callback&&e.callback(i.data||null)},error:i=>{var l;"function"==typeof e.callback&&e.callback(null==i||null===(l=i.response)||void 0===l?void 0:l.data),console.error(i)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}(),C=function(){var o=(0,v.A)(function*(e){var t,u,b,r,c,i;e.params=e.params||{},(0,f.IH)({url:"api/Feedback/update",params:{FeedbackId:null!==(t=e.params.FeedbackId)&&void 0!==t?t:null,FbCatgId:null!==(u=e.params.FbCatgId)&&void 0!==u?u:null,DocType:null!==(b=e.params.DocType)&&void 0!==b?b:null,DocId:null!==(r=e.params.DocId)&&void 0!==r?r:null,Title:null!==(c=e.params.Title)&&void 0!==c?c:null,Content:null!==(i=e.params.Content)&&void 0!==i?i:null},success:l=>{"function"==typeof e.callback&&e.callback(l.data||null)},error:l=>{var n;"function"==typeof e.callback&&e.callback(null==l||null===(n=l.response)||void 0===n?void 0:n.data),console.error(l)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}(),_=function(){var o=(0,v.A)(function*(e){var t,u;e.params=e.params||{},(0,f.hm)({url:"api/Feedback/get-feedbacks",params:{PageNumber:null!==(t=e.params.PageNumber)&&void 0!==t?t:1,PageSize:null!==(u=e.params.PageSize)&&void 0!==u?u:10},success:b=>{"function"==typeof e.callback&&e.callback(b.data||null)},error:b=>{var r;"function"==typeof e.callback&&e.callback(null==b||null===(r=b.response)||void 0===r?void 0:r.data),console.error(b)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}(),g=function(){var o=(0,v.A)(function*(e){e.params=e.params||{},(0,f.hm)({url:`api/Feedback/get-byid/${e.params.FeedbackId}`,params:{},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var u;"function"==typeof e.callback&&e.callback(null==t||null===(u=t.response)||void 0===u?void 0:u.data),console.error(t)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}(),a=function(){var o=(0,v.A)(function*(e){e.params=e.params||{},(0,f.sj)({url:`api/Feedback/delete/${e.params.FeedbackId}`,params:{},success:t=>{"function"==typeof e.callback&&e.callback(t.data||null)},error:t=>{var u;"function"==typeof e.callback&&e.callback(null==t||null===(u=t.response)||void 0===u?void 0:u.data),console.error(t)},loading:null==e?void 0:e.loading})});return function(t){return o.apply(this,arguments)}}()},1261:(I,F,p)=>{p.d(F,{l:()=>b});var v=p(467),f=p(2254),h=p(7158);const C=function(){var r=(0,v.A)(function*(c){var i,l;c.params=c.params||{},(0,h.hm)({url:"api/FeedbackCatg/get-feedbackcatgs",params:{PageNumber:null!==(i=c.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(l=c.params.PageSize)&&void 0!==l?l:10},success:n=>{"function"==typeof c.callback&&c.callback(n.data||null)},error:n=>{var s;"function"==typeof c.callback&&c.callback(null==n||null===(s=n.response)||void 0===s?void 0:s.data),console.error(n)},loading:null==c?void 0:c.loading})});return function(i){return r.apply(this,arguments)}}();var g=p(3524),a=p(4438),o=p(4488),e=p(177),t=p(4842);function u(r,c){if(1&r&&(a.qex(0),a.j41(1,"ion-select-option",14),a.EFF(2),a.k0s(),a.bVm()),2&r){const i=c.$implicit;a.R7$(1),a.Y8G("value",i.FbCatgId),a.R7$(1),a.JRh(i.FbCatgTitle)}}let b=(()=>{var r;class c{constructor(l,n,s){this.modalController=l,this.loadingController=n,this.toastController=s,this.feedback={},this.feedbackcatgs=[],this.loadingController.create({message:""}).then(d=>this.loading=d)}ngOnInit(){C({params:{},callback:l=>{var n;null!=l&&l.Succeeded?this.feedbackcatgs=null!==(n=l.Data)&&void 0!==n?n:[]:(0,g.cX)(this.toastController,{},l).then(s=>s.present())}}),this.FeedbackId&&(0,f.C)({loading:l=>{var n,s;l?null===(n=this.loading)||void 0===n||n.present():null===(s=this.loading)||void 0===s||s.dismiss()},params:{FeedbackId:this.FeedbackId},callback:l=>{var n;this.response=l,null!=l&&l.Succeeded?this.feedback=null!==(n=l.Data)&&void 0!==n?n:{}:(0,g.cX)(this.toastController,{},l).then(s=>s.present())}})}close(l){var n=this;return(0,v.A)(function*(){n.modalController.dismiss(null,"cancel")})()}submit(l){var n=this;return(0,v.A)(function*(){var s;null!==(s=n.feedback)&&void 0!==s&&s.FeedbackId?(0,f.D1)({loading:d=>{var m,k;d?null===(m=n.loading)||void 0===m||m.present():null===(k=n.loading)||void 0===k||k.dismiss()},params:n.feedback,callback:d=>{n.response=d,null!=d&&d.Succeeded?n.modalController.dismiss(null,"success"):(0,g.cX)(n.toastController,{},d).then(m=>m.present())}}):(0,f.cZ)({loading:d=>{var m,k;d?null===(m=n.loading)||void 0===m||m.present():null===(k=n.loading)||void 0===k||k.dismiss()},params:n.feedback,callback:d=>{n.response=d,null!=d&&d.Succeeded?n.modalController.dismiss(null,"success"):(0,g.cX)(n.toastController,{},d).then(m=>m.present())}})})()}changeTitle(l){var n=this;return(0,v.A)(function*(){n.feedback.Title=l.detail.value})()}changeContent(l){var n=this;return(0,v.A)(function*(){n.feedback.Content=l.detail.value})()}changeCatg(l){var n=this;return(0,v.A)(function*(){n.feedback.FbCatgId=l.detail.value})()}}return(r=c).\u0275fac=function(l){return new(l||r)(a.rXU(o.W3),a.rXU(o.Xi),a.rXU(o.K_))},r.\u0275cmp=a.VBU({type:r,selectors:[["app-modal-add-feedback"]],inputs:{FeedbackId:"FeedbackId",feedback:"feedback"},decls:45,vars:33,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],[1,"container","mb-3"],["lines","none"],[1,"form-group"],[1,"ion-item-input"],["justify","space-between","interface","action-sheet",3,"label","placeholder","value","ionChange"],[4,"ngFor","ngForOf"],[1,"text-danger"],[3,"placeholder","value","ionChange"],["maxlength","250",3,"autoGrow","counter","placeholder","value","ionChange"],[1,"mt-4","pt-3"],["color","primary","shape","round","expand","block",3,"click"],[3,"value"]],template:function(l,n){1&l&&(a.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),a.bIt("click",function(d){return n.close(d)}),a.nrm(4,"ion-icon",2),a.k0s()(),a.j41(5,"ion-title"),a.EFF(6),a.nI1(7,"translate"),a.k0s()()(),a.j41(8,"ion-content")(9,"div",3)(10,"ion-list",4)(11,"div",5)(12,"label"),a.EFF(13),a.nI1(14,"translate"),a.k0s(),a.j41(15,"div",6)(16,"ion-item")(17,"ion-select",7),a.bIt("ionChange",function(d){return n.changeCatg(d)}),a.nI1(18,"translate"),a.nI1(19,"translate"),a.DNE(20,u,3,2,"ng-container",8),a.k0s()()()(),a.j41(21,"div",5)(22,"label"),a.EFF(23),a.nI1(24,"translate"),a.j41(25,"span",9),a.EFF(26,"*"),a.k0s()(),a.j41(27,"div",6)(28,"ion-item")(29,"ion-input",10),a.bIt("ionChange",function(d){return n.changeTitle(d)}),a.nI1(30,"translate"),a.k0s()()()(),a.j41(31,"div",5)(32,"label"),a.EFF(33),a.nI1(34,"translate"),a.j41(35,"span",9),a.EFF(36,"*"),a.k0s()(),a.j41(37,"div",6)(38,"ion-item")(39,"ion-textarea",11),a.bIt("ionChange",function(d){return n.changeContent(d)}),a.nI1(40,"translate"),a.k0s()()()(),a.j41(41,"div",12)(42,"ion-button",13),a.bIt("click",function(d){return n.submit(d)}),a.EFF(43),a.nI1(44,"translate"),a.k0s()()()()()),2&l&&(a.R7$(6),a.JRh(a.bMT(7,15,"SendFeedback")),a.R7$(7),a.JRh(a.bMT(14,17,"Category")),a.R7$(4),a.FS9("label",a.bMT(18,19,"FeedbackCatg")),a.FS9("placeholder",a.bMT(19,21,"Select")),a.Y8G("value",n.feedback.FbCatgId),a.R7$(3),a.Y8G("ngForOf",n.feedbackcatgs),a.R7$(3),a.SpI("",a.bMT(24,23,"Title")," "),a.R7$(6),a.FS9("placeholder",a.bMT(30,25,"FeedbackTitle")),a.Y8G("value",n.feedback.Title),a.R7$(4),a.SpI("",a.bMT(34,27,"Content")," "),a.R7$(6),a.FS9("placeholder",a.bMT(40,29,"FeedbackContent")),a.Y8G("autoGrow",!0)("counter",!0)("value",n.feedback.Content),a.R7$(4),a.JRh(a.bMT(44,31,"Send")))},dependencies:[e.Sq,o.Jm,o.QW,o.W9,o.eU,o.iq,o.$w,o.uz,o.nf,o.Nm,o.Ip,o.nc,o.BC,o.ai,o.Je,o.Gw,t.D9]}),c})()}}]);