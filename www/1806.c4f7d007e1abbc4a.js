"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1806],{5970:(b,_,v)=>{v.d(_,{$J:()=>e,NT:()=>d,Ul:()=>I,Wu:()=>g,kT:()=>f});var c=v(467),h=v(5972);const g=function(){var p=(0,c.A)(function*(n){var t,r,u,i,a,o,l,s;n.params=n.params||{},(0,h.Ll)({url:"api/CustomerInvoice/create",params:{IsCompany:null!==(t=n.params.IsCompany)&&void 0!==t?t:null,BuyerName:null!==(r=n.params.BuyerName)&&void 0!==r?r:null,TaxCode:null!==(u=n.params.TaxCode)&&void 0!==u?u:null,CompanyName:null!==(i=n.params.CompanyName)&&void 0!==i?i:null,Address:null!==(a=n.params.Address)&&void 0!==a?a:null,BuyerPhone:null!==(o=n.params.BuyerPhone)&&void 0!==o?o:null,BuyerEmail:null!==(l=n.params.BuyerEmail)&&void 0!==l?l:null,IsDefault:null!==(s=n.params.IsDefault)&&void 0!==s?s:null},success:m=>{"function"==typeof n.callback&&n.callback(m.data||null)},error:m=>{var C;"function"==typeof n.callback&&n.callback(null==m||null===(C=m.response)||void 0===C?void 0:C.data),console.error(m)},loading:null==n?void 0:n.loading})});return function(t){return p.apply(this,arguments)}}(),I=function(){var p=(0,c.A)(function*(n){var t,r;n.params=n.params||{},(0,h.hm)({url:"api/CustomerInvoice/get-customerinvoices",params:{PageNumber:null!==(t=n.params.PageNumber)&&void 0!==t?t:1,PageSize:null!==(r=n.params.PageSize)&&void 0!==r?r:10},success:u=>{"function"==typeof n.callback&&n.callback(u.data||null)},error:u=>{var i;"function"==typeof n.callback&&n.callback(null==u||null===(i=u.response)||void 0===i?void 0:i.data),console.error(u)},loading:null==n?void 0:n.loading})});return function(t){return p.apply(this,arguments)}}(),f=function(){var p=(0,c.A)(function*(n){n.params=n.params||{},(0,h.hm)({url:`api/CustomerInvoice/get/${n.params.CustomerInvoiceId}`,success:t=>{"function"==typeof n.callback&&n.callback(t.data||null)},error:t=>{var r;"function"==typeof n.callback&&n.callback(null==t||null===(r=t.response)||void 0===r?void 0:r.data),console.error(t)},loading:null==n?void 0:n.loading})});return function(t){return p.apply(this,arguments)}}(),e=function(){var p=(0,c.A)(function*(n){var t,r,u,i,a,o,l,s,m;n.params=n.params||{},(0,h.IH)({url:"api/CustomerInvoice/update",params:{CustomerInvoiceId:null!==(t=n.params.CustomerInvoiceId)&&void 0!==t?t:null,IsCompany:null!==(r=n.params.IsCompany)&&void 0!==r?r:null,BuyerName:null!==(u=n.params.BuyerName)&&void 0!==u?u:null,TaxCode:null!==(i=n.params.TaxCode)&&void 0!==i?i:null,CompanyName:null!==(a=n.params.CompanyName)&&void 0!==a?a:null,Address:null!==(o=n.params.Address)&&void 0!==o?o:null,BuyerPhone:null!==(l=n.params.BuyerPhone)&&void 0!==l?l:null,BuyerEmail:null!==(s=n.params.BuyerEmail)&&void 0!==s?s:null,IsDefault:null!==(m=n.params.IsDefault)&&void 0!==m?m:null},success:C=>{"function"==typeof n.callback&&n.callback(C.data||null)},error:C=>{var y;"function"==typeof n.callback&&n.callback(null==C||null===(y=C.response)||void 0===y?void 0:y.data),console.error(C)},loading:null==n?void 0:n.loading})});return function(t){return p.apply(this,arguments)}}(),d=function(){var p=(0,c.A)(function*(n){n.params=n.params||{},(0,h.sj)({url:`api/CustomerInvoice/delete/${n.params.CustomerInvoiceId}`,params:{},success:t=>{"function"==typeof n.callback&&n.callback(t.data||null)},error:t=>{var r;"function"==typeof n.callback&&n.callback(null==t||null===(r=t.response)||void 0===r?void 0:r.data),console.error(t)},loading:null==n?void 0:n.loading})});return function(t){return p.apply(this,arguments)}}()},1806:(b,_,v)=>{v.d(_,{$:()=>n});var c=v(467),h=v(5972);const g=function(){var t=(0,c.A)(function*(r){r.params=r.params||{},(0,h.hm)({url:`api/CompanyLookup/get/${r.params.TaxCode}`,success:u=>{"function"==typeof r.callback&&r.callback(u.data||null)},error:u=>{var i;"function"==typeof r.callback&&r.callback(null==u||null===(i=u.response)||void 0===i?void 0:i.data),console.error(u)},loading:null==r?void 0:r.loading})});return function(u){return t.apply(this,arguments)}}();var I=v(5970),f=v(8650),e=v(4438),d=v(8974),p=v(4842);let n=(()=>{var t;class r{constructor(i,a,o){this.modalController=i,this.loadingController=a,this.toastController=o,this.customerInvoice={IsCompany:!0},this.loadingController.create({message:""}).then(l=>this.loading=l)}ngOnInit(){this.refreshData()}onIonRefresher(i){this.refreshData(()=>{i.target.complete()})}refreshData(i){this.CustomerInvoiceId?(0,I.kT)({loading:a=>{var o,l;a?null===(o=this.loading)||void 0===o||o.present():null===(l=this.loading)||void 0===l||l.dismiss()},params:{CustomerInvoiceId:this.CustomerInvoiceId},callback:a=>{var o;this.response=a,null!=a&&a.Succeeded?this.customerInvoice=null!==(o=a.Data)&&void 0!==o?o:{}:(0,f.cX)(this.toastController,{},a).then(l=>l.present()),i&&i()}}):i&&i()}close(i){var a=this;return(0,c.A)(function*(){a.modalController.dismiss(null,"cancel")})()}submit(i){var a=this;return(0,c.A)(function*(){a.customerInvoice.CustomerInvoiceId?(0,I.$J)({loading:o=>{var l,s;o?null===(l=a.loading)||void 0===l||l.present():null===(s=a.loading)||void 0===s||s.dismiss()},params:a.customerInvoice,callback:o=>{a.response=o,null!=o&&o.Succeeded?a.modalController.dismiss(null,"success"):(0,f.cX)(a.toastController,{},o).then(l=>l.present())}}):(0,I.Wu)({loading:o=>{var l,s;o?null===(l=a.loading)||void 0===l||l.present():null===(s=a.loading)||void 0===s||s.dismiss()},params:a.customerInvoice,callback:o=>{a.response=o,null!=o&&o.Succeeded?a.modalController.dismiss(null,"success"):(0,f.cX)(a.toastController,{},o).then(l=>l.present())}})})()}changeBuyerName(i){var a=this;return(0,c.A)(function*(){a.customerInvoice.BuyerName=i.detail.value})()}changeBuyerPhone(i){var a=this;return(0,c.A)(function*(){a.customerInvoice.BuyerPhone=i.detail.value})()}changeBuyerEmail(i){var a=this;return(0,c.A)(function*(){a.customerInvoice.BuyerEmail=i.detail.value})()}changeCompanyName(i){var a=this;return(0,c.A)(function*(){a.customerInvoice.CompanyName=i.detail.value})()}changeAddress(i){var a=this;return(0,c.A)(function*(){a.customerInvoice.Address=i.detail.value})()}changeTaxCode(i){var a=this;return(0,c.A)(function*(){a.customerInvoice.TaxCode=i.detail.value,g({params:{TaxCode:a.customerInvoice.TaxCode},callback:o=>{if(null!=o&&o.Succeeded){let m=null==o?void 0:o.Data;var l,s;m&&(a.customerInvoice.CompanyName=null!==(l=m.Name)&&void 0!==l?l:a.customerInvoice.CompanyName,a.customerInvoice.Address=null!==(s=m.Address)&&void 0!==s?s:a.customerInvoice.Address)}}})})()}changeIsDefault(i){var a=this;return(0,c.A)(function*(){a.customerInvoice.IsDefault=i.detail.checked})()}}return(t=r).\u0275fac=function(i){return new(i||t)(e.rXU(d.W3),e.rXU(d.Xi),e.rXU(d.K_))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-modal-add-customer-invoice"]],inputs:{CustomerInvoiceId:"CustomerInvoiceId"},decls:78,vars:55,consts:[["slot","fixed",3,"ionRefresh"],[1,"card-info","bg-white","container","py-3","min-h-100"],[1,"text-center","my-3"],[1,"text-center","mb-3"],[1,"text-muted"],["lines","none"],[1,"form-group"],[1,"text-danger"],[1,"ion-item-input"],[3,"ionChange","placeholder","value"],[1,"row"],["labelPlacement","end","justify","start",3,"ionChange","checked"],[1,"mt-3"],["color","primary","shape","round","expand","block",3,"click"]],template:function(i,a){1&i&&(e.j41(0,"ion-content")(1,"ion-refresher",0),e.bIt("ionRefresh",function(l){return a.onIonRefresher(l)}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"div",1)(4,"h4",2),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",3)(8,"small",4),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"ion-list",5)(12,"div",6)(13,"label"),e.EFF(14),e.nI1(15,"translate"),e.j41(16,"span",7),e.EFF(17,"*"),e.k0s()(),e.j41(18,"div",8)(19,"ion-item")(20,"ion-input",9),e.nI1(21,"translate"),e.bIt("ionChange",function(l){return a.changeTaxCode(l)}),e.k0s()()()(),e.j41(22,"div",6)(23,"label"),e.EFF(24),e.nI1(25,"translate"),e.j41(26,"span",7),e.EFF(27,"*"),e.k0s()(),e.j41(28,"div",8)(29,"ion-item")(30,"ion-input",9),e.nI1(31,"translate"),e.bIt("ionChange",function(l){return a.changeCompanyName(l)}),e.k0s()()()(),e.j41(32,"div",6)(33,"label"),e.EFF(34),e.nI1(35,"translate"),e.j41(36,"span",7),e.EFF(37,"*"),e.k0s()(),e.j41(38,"div",8)(39,"ion-item")(40,"ion-input",9),e.nI1(41,"translate"),e.bIt("ionChange",function(l){return a.changeAddress(l)}),e.k0s()()()(),e.j41(42,"div",6)(43,"label"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"div",8)(47,"ion-item")(48,"ion-input",9),e.nI1(49,"translate"),e.bIt("ionChange",function(l){return a.changeBuyerName(l)}),e.k0s()()()(),e.j41(50,"div",6)(51,"label"),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"div",8)(55,"ion-item")(56,"ion-input",9),e.nI1(57,"translate"),e.bIt("ionChange",function(l){return a.changeBuyerEmail(l)}),e.k0s()()()(),e.j41(58,"div",6)(59,"label"),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"div",8)(63,"ion-item")(64,"ion-input",9),e.nI1(65,"translate"),e.bIt("ionChange",function(l){return a.changeBuyerPhone(l)}),e.k0s()()()(),e.j41(66,"div",6)(67,"div",10)(68,"ion-item")(69,"ion-checkbox",11),e.bIt("ionChange",function(l){return a.changeIsDefault(l)}),e.j41(70,"small")(71,"b"),e.EFF(72),e.nI1(73,"translate"),e.k0s()()()()()()(),e.j41(74,"div",12)(75,"ion-button",13),e.bIt("click",function(l){return a.submit(l)}),e.EFF(76),e.nI1(77,"translate"),e.k0s()()()()),2&i&&(e.R7$(5),e.JRh(e.bMT(6,23,"CustomerInvoice")),e.R7$(4),e.JRh(e.bMT(10,25,"CustomerInvoiceDescription")),e.R7$(5),e.SpI("",e.bMT(15,27,"BillCompanyTax")," "),e.R7$(6),e.FS9("placeholder",e.bMT(21,29,"BillCompanyTax")),e.Y8G("value",a.customerInvoice.TaxCode),e.R7$(4),e.SpI("",e.bMT(25,31,"BillCompanyName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(31,33,"BillCompanyName")),e.Y8G("value",a.customerInvoice.CompanyName),e.R7$(4),e.SpI("",e.bMT(35,35,"BillCompanyAddress")," "),e.R7$(6),e.FS9("placeholder",e.bMT(41,37,"BillCompanyAddress")),e.Y8G("value",a.customerInvoice.Address),e.R7$(4),e.JRh(e.bMT(45,39,"FullName")),e.R7$(4),e.FS9("placeholder",e.bMT(49,41,"FullName")),e.Y8G("value",a.customerInvoice.BuyerName),e.R7$(4),e.JRh(e.bMT(53,43,"Email")),e.R7$(4),e.FS9("placeholder",e.bMT(57,45,"Email")),e.Y8G("value",a.customerInvoice.BuyerEmail),e.R7$(4),e.JRh(e.bMT(61,47,"Mobile")),e.R7$(4),e.FS9("placeholder",e.bMT(65,49,"Mobile")),e.Y8G("value",a.customerInvoice.BuyerPhone),e.R7$(5),e.Y8G("checked",!!a.customerInvoice.IsDefault),e.R7$(3),e.JRh(e.bMT(73,51,"CustomerInvoiceDefault")),e.R7$(4),e.JRh(e.bMT(77,53,"Save")))},dependencies:[d.Jm,d.eY,d.W9,d.$w,d.uz,d.nf,d.To,d.Ki,d.hB,d.Gw,p.D9],styles:["ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),r})()}}]);