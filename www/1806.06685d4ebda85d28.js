"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1806],{5970:(b,_,v)=>{v.d(_,{$J:()=>e,NT:()=>d,Ul:()=>I,Wu:()=>g,kT:()=>f});var c=v(467),h=v(5972);const g=function(){var p=(0,c.A)(function*(a){var t,r,u,i,n,o,l,s;a.params=a.params||{},(0,h.Ll)({url:"api/CustomerInvoice/create",params:{IsCompany:null!==(t=a.params.IsCompany)&&void 0!==t?t:null,BuyerName:null!==(r=a.params.BuyerName)&&void 0!==r?r:null,TaxCode:null!==(u=a.params.TaxCode)&&void 0!==u?u:null,CompanyName:null!==(i=a.params.CompanyName)&&void 0!==i?i:null,Address:null!==(n=a.params.Address)&&void 0!==n?n:null,BuyerPhone:null!==(o=a.params.BuyerPhone)&&void 0!==o?o:null,BuyerEmail:null!==(l=a.params.BuyerEmail)&&void 0!==l?l:null,IsDefault:null!==(s=a.params.IsDefault)&&void 0!==s?s:null},success:m=>{"function"==typeof a.callback&&a.callback(m.data||null)},error:m=>{var C;"function"==typeof a.callback&&a.callback(null==m||null===(C=m.response)||void 0===C?void 0:C.data),console.error(m)},loading:a.loading})});return function(t){return p.apply(this,arguments)}}(),I=function(){var p=(0,c.A)(function*(a){var t,r;a.params=a.params||{},(0,h.hm)({url:"api/CustomerInvoice/get-customerinvoices",params:{PageNumber:null!==(t=a.params.PageNumber)&&void 0!==t?t:1,PageSize:null!==(r=a.params.PageSize)&&void 0!==r?r:10},success:u=>{"function"==typeof a.callback&&a.callback(u.data||null)},error:u=>{var i;"function"==typeof a.callback&&a.callback(null==u||null===(i=u.response)||void 0===i?void 0:i.data),console.error(u)},loading:a.loading})});return function(t){return p.apply(this,arguments)}}(),f=function(){var p=(0,c.A)(function*(a){a.params=a.params||{},(0,h.hm)({url:`api/CustomerInvoice/get/${a.params.CustomerInvoiceId}`,success:t=>{"function"==typeof a.callback&&a.callback(t.data||null)},error:t=>{var r;"function"==typeof a.callback&&a.callback(null==t||null===(r=t.response)||void 0===r?void 0:r.data),console.error(t)},loading:a.loading})});return function(t){return p.apply(this,arguments)}}(),e=function(){var p=(0,c.A)(function*(a){var t,r,u,i,n,o,l,s,m;a.params=a.params||{},(0,h.IH)({url:"api/CustomerInvoice/update",params:{CustomerInvoiceId:null!==(t=a.params.CustomerInvoiceId)&&void 0!==t?t:null,IsCompany:null!==(r=a.params.IsCompany)&&void 0!==r?r:null,BuyerName:null!==(u=a.params.BuyerName)&&void 0!==u?u:null,TaxCode:null!==(i=a.params.TaxCode)&&void 0!==i?i:null,CompanyName:null!==(n=a.params.CompanyName)&&void 0!==n?n:null,Address:null!==(o=a.params.Address)&&void 0!==o?o:null,BuyerPhone:null!==(l=a.params.BuyerPhone)&&void 0!==l?l:null,BuyerEmail:null!==(s=a.params.BuyerEmail)&&void 0!==s?s:null,IsDefault:null!==(m=a.params.IsDefault)&&void 0!==m?m:null},success:C=>{"function"==typeof a.callback&&a.callback(C.data||null)},error:C=>{var y;"function"==typeof a.callback&&a.callback(null==C||null===(y=C.response)||void 0===y?void 0:y.data),console.error(C)},loading:a.loading})});return function(t){return p.apply(this,arguments)}}(),d=function(){var p=(0,c.A)(function*(a){a.params=a.params||{},(0,h.sj)({url:`api/CustomerInvoice/delete/${a.params.CustomerInvoiceId}`,params:{},success:t=>{"function"==typeof a.callback&&a.callback(t.data||null)},error:t=>{var r;"function"==typeof a.callback&&a.callback(null==t||null===(r=t.response)||void 0===r?void 0:r.data),console.error(t)},loading:a.loading})});return function(t){return p.apply(this,arguments)}}()},1806:(b,_,v)=>{v.d(_,{$:()=>a});var c=v(467),h=v(5972);const g=function(){var t=(0,c.A)(function*(r){r.params=r.params||{},(0,h.hm)({url:`api/CompanyLookup/get/${r.params.TaxCode}`,success:u=>{"function"==typeof r.callback&&r.callback(u.data||null)},error:u=>{var i;"function"==typeof r.callback&&r.callback(null==u||null===(i=u.response)||void 0===i?void 0:i.data),console.error(u)},loading:r.loading})});return function(u){return t.apply(this,arguments)}}();var I=v(5970),f=v(8650),e=v(4438),d=v(8974),p=v(4842);let a=(()=>{var t;class r{constructor(i,n,o){this.modalController=i,this.loadingController=n,this.toastController=o,this.customerInvoice={IsCompany:!0},this.loadingController.create({message:""}).then(l=>this.loading=l)}ngOnInit(){this.refreshData()}onIonRefresher(i){this.refreshData(()=>{i.target.complete()})}refreshData(i){this.CustomerInvoiceId?(0,I.kT)({loading:n=>{var o,l;n?null===(o=this.loading)||void 0===o||o.present():null===(l=this.loading)||void 0===l||l.dismiss()},params:{CustomerInvoiceId:this.CustomerInvoiceId},callback:n=>{var o;this.response=n,null!=n&&n.Succeeded?this.customerInvoice=null!==(o=n.Data)&&void 0!==o?o:{}:(0,f.cX)(this.toastController,{},n).then(l=>l.present()),i&&i()}}):i&&i()}close(i){var n=this;return(0,c.A)(function*(){n.modalController.dismiss(null,"cancel")})()}submit(i){var n=this;return(0,c.A)(function*(){n.customerInvoice.CustomerInvoiceId?(0,I.$J)({loading:o=>{var l,s;o?null===(l=n.loading)||void 0===l||l.present():null===(s=n.loading)||void 0===s||s.dismiss()},params:n.customerInvoice,callback:o=>{n.response=o,null!=o&&o.Succeeded?n.modalController.dismiss(null,"success"):(0,f.cX)(n.toastController,{},o).then(l=>l.present())}}):(0,I.Wu)({loading:o=>{var l,s;o?null===(l=n.loading)||void 0===l||l.present():null===(s=n.loading)||void 0===s||s.dismiss()},params:n.customerInvoice,callback:o=>{n.response=o,null!=o&&o.Succeeded?n.modalController.dismiss(null,"success"):(0,f.cX)(n.toastController,{},o).then(l=>l.present())}})})()}changeBuyerName(i){var n=this;return(0,c.A)(function*(){n.customerInvoice.BuyerName=i.detail.value})()}changeBuyerPhone(i){var n=this;return(0,c.A)(function*(){n.customerInvoice.BuyerPhone=i.detail.value})()}changeBuyerEmail(i){var n=this;return(0,c.A)(function*(){n.customerInvoice.BuyerEmail=i.detail.value})()}changeCompanyName(i){var n=this;return(0,c.A)(function*(){n.customerInvoice.CompanyName=i.detail.value})()}changeAddress(i){var n=this;return(0,c.A)(function*(){n.customerInvoice.Address=i.detail.value})()}changeTaxCode(i){var n=this;return(0,c.A)(function*(){n.customerInvoice.TaxCode=i.detail.value,g({params:{TaxCode:n.customerInvoice.TaxCode},callback:o=>{if(null!=o&&o.Succeeded){let m=null==o?void 0:o.Data;var l,s;m&&(n.customerInvoice.CompanyName=null!==(l=m.Name)&&void 0!==l?l:n.customerInvoice.CompanyName,n.customerInvoice.Address=null!==(s=m.Address)&&void 0!==s?s:n.customerInvoice.Address)}}})})()}changeIsDefault(i){var n=this;return(0,c.A)(function*(){n.customerInvoice.IsDefault=i.detail.checked})()}}return(t=r).\u0275fac=function(i){return new(i||t)(e.rXU(d.W3),e.rXU(d.Xi),e.rXU(d.K_))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-modal-add-customer-invoice"]],inputs:{CustomerInvoiceId:"CustomerInvoiceId"},decls:80,vars:55,consts:[["slot","fixed",3,"ionRefresh"],[1,"card-info","bg-white","container","py-3","min-h-100"],[1,"text-center","my-3"],[1,"text-center","mb-3"],[1,"text-muted"],["lines","none"],[1,"form-group"],[1,"text-danger"],[1,"ion-item-input"],[3,"ionChange","placeholder","value"],[1,"row"],["labelPlacement","end","justify","start",3,"ionChange","checked"],[1,"mt-3"],["color","primary","shape","round","expand","block",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"ion-content")(1,"ion-refresher",0),e.bIt("ionRefresh",function(l){return n.onIonRefresher(l)}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"div",1)(4,"h4",2),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",3)(8,"small",4),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"ion-list",5)(12,"div",6)(13,"label"),e.EFF(14),e.nI1(15,"translate"),e.j41(16,"span",7),e.EFF(17,"*"),e.k0s()(),e.j41(18,"div",8)(19,"ion-item")(20,"ion-input",9),e.nI1(21,"translate"),e.bIt("ionChange",function(l){return n.changeTaxCode(l)}),e.k0s()()()(),e.j41(22,"div",6)(23,"label"),e.EFF(24),e.nI1(25,"translate"),e.j41(26,"span",7),e.EFF(27,"*"),e.k0s()(),e.j41(28,"div",8)(29,"ion-item")(30,"ion-input",9),e.nI1(31,"translate"),e.bIt("ionChange",function(l){return n.changeCompanyName(l)}),e.k0s()()()(),e.j41(32,"div",6)(33,"label"),e.EFF(34),e.nI1(35,"translate"),e.j41(36,"span",7),e.EFF(37,"*"),e.k0s()(),e.j41(38,"div",8)(39,"ion-item")(40,"ion-input",9),e.nI1(41,"translate"),e.bIt("ionChange",function(l){return n.changeAddress(l)}),e.k0s()()()(),e.j41(42,"div",6)(43,"label"),e.EFF(44),e.nI1(45,"translate"),e.j41(46,"span",7),e.EFF(47,"*"),e.k0s()(),e.j41(48,"div",8)(49,"ion-item")(50,"ion-input",9),e.nI1(51,"translate"),e.bIt("ionChange",function(l){return n.changeBuyerName(l)}),e.k0s()()()(),e.j41(52,"div",6)(53,"label"),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"div",8)(57,"ion-item")(58,"ion-input",9),e.nI1(59,"translate"),e.bIt("ionChange",function(l){return n.changeBuyerEmail(l)}),e.k0s()()()(),e.j41(60,"div",6)(61,"label"),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"div",8)(65,"ion-item")(66,"ion-input",9),e.nI1(67,"translate"),e.bIt("ionChange",function(l){return n.changeBuyerPhone(l)}),e.k0s()()()(),e.j41(68,"div",6)(69,"div",10)(70,"ion-item")(71,"ion-checkbox",11),e.bIt("ionChange",function(l){return n.changeIsDefault(l)}),e.j41(72,"small")(73,"b"),e.EFF(74),e.nI1(75,"translate"),e.k0s()()()()()()(),e.j41(76,"div",12)(77,"ion-button",13),e.bIt("click",function(l){return n.submit(l)}),e.EFF(78),e.nI1(79,"translate"),e.k0s()()()()),2&i&&(e.R7$(5),e.JRh(e.bMT(6,23,"CustomerInvoice")),e.R7$(4),e.JRh(e.bMT(10,25,"CustomerInvoiceDescription")),e.R7$(5),e.SpI("",e.bMT(15,27,"BillCompanyTax")," "),e.R7$(6),e.FS9("placeholder",e.bMT(21,29,"BillCompanyTax")),e.Y8G("value",n.customerInvoice.TaxCode),e.R7$(4),e.SpI("",e.bMT(25,31,"BillCompanyName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(31,33,"BillCompanyName")),e.Y8G("value",n.customerInvoice.CompanyName),e.R7$(4),e.SpI("",e.bMT(35,35,"BillCompanyAddress")," "),e.R7$(6),e.FS9("placeholder",e.bMT(41,37,"BillCompanyAddress")),e.Y8G("value",n.customerInvoice.Address),e.R7$(4),e.SpI("",e.bMT(45,39,"FullName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(51,41,"FullName")),e.Y8G("value",n.customerInvoice.BuyerName),e.R7$(4),e.JRh(e.bMT(55,43,"Email")),e.R7$(4),e.FS9("placeholder",e.bMT(59,45,"Email")),e.Y8G("value",n.customerInvoice.BuyerEmail),e.R7$(4),e.JRh(e.bMT(63,47,"Mobile")),e.R7$(4),e.FS9("placeholder",e.bMT(67,49,"Mobile")),e.Y8G("value",n.customerInvoice.BuyerPhone),e.R7$(5),e.Y8G("checked",!!n.customerInvoice.IsDefault),e.R7$(3),e.JRh(e.bMT(75,51,"CustomerInvoiceDefault")),e.R7$(4),e.JRh(e.bMT(79,53,"Save")))},dependencies:[d.Jm,d.eY,d.W9,d.$w,d.uz,d.nf,d.To,d.Ki,d.hB,d.Gw,p.D9],styles:["ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}"]}),r})()}}]);